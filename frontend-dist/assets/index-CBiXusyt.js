var G9=Object.defineProperty;var B1=e=>{throw TypeError(e)};var W9=(e,t,n)=>t in e?G9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var va=(e,t,n)=>W9(e,typeof t!="symbol"?t+"":t,n),M0=(e,t,n)=>t.has(e)||B1("Cannot "+n);var V=(e,t,n)=>(M0(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?B1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ge=(e,t,n,s)=>(M0(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),pt=(e,t,n)=>(M0(e,t,"access private method"),n);var qh=(e,t,n,s)=>({set _(a){Ge(e,t,a,n)},get _(){return V(e,t,s)}});function H9(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var v3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b3={exports:{}},zg={},w3={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.element"),q9=Symbol.for("react.portal"),V9=Symbol.for("react.fragment"),K9=Symbol.for("react.strict_mode"),Z9=Symbol.for("react.profiler"),Y9=Symbol.for("react.provider"),Q9=Symbol.for("react.context"),J9=Symbol.for("react.forward_ref"),X9=Symbol.for("react.suspense"),e7=Symbol.for("react.memo"),t7=Symbol.for("react.lazy"),$1=Symbol.iterator;function r7(e){return e===null||typeof e!="object"?null:(e=$1&&e[$1]||e["@@iterator"],typeof e=="function"?e:null)}var j3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N3=Object.assign,_3={};function qd(e,t,n){this.props=e,this.context=t,this.refs=_3,this.updater=n||j3}qd.prototype.isReactComponent={};qd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function S3(){}S3.prototype=qd.prototype;function vw(e,t,n){this.props=e,this.context=t,this.refs=_3,this.updater=n||j3}var bw=vw.prototype=new S3;bw.constructor=vw;N3(bw,qd.prototype);bw.isPureReactComponent=!0;var z1=Array.isArray,k3=Object.prototype.hasOwnProperty,ww={current:null},C3={key:!0,ref:!0,__self:!0,__source:!0};function P3(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)k3.call(t,s)&&!C3.hasOwnProperty(s)&&(a[s]=t[s]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var d=Array(c),u=0;u<c;u++)d[u]=arguments[u+2];a.children=d}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)a[s]===void 0&&(a[s]=c[s]);return{$$typeof:th,type:e,key:i,ref:o,props:a,_owner:ww.current}}function n7(e,t){return{$$typeof:th,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jw(e){return typeof e=="object"&&e!==null&&e.$$typeof===th}function s7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var U1=/\/+/g;function D0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s7(""+e.key):t.toString(36)}function Kf(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case th:case q9:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+D0(o,0):s,z1(a)?(n="",e!=null&&(n=e.replace(U1,"$&/")+"/"),Kf(a,t,n,"",function(u){return u})):a!=null&&(jw(a)&&(a=n7(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(U1,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",z1(e))for(var c=0;c<e.length;c++){i=e[c];var d=s+D0(i,c);o+=Kf(i,t,n,d,a)}else if(d=r7(e),typeof d=="function")for(e=d.call(e),c=0;!(i=e.next()).done;)i=i.value,d=s+D0(i,c++),o+=Kf(i,t,n,d,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vh(e,t,n){if(e==null)return e;var s=[],a=0;return Kf(e,s,"","",function(i){return t.call(n,i,a++)}),s}function a7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ns={current:null},Zf={transition:null},i7={ReactCurrentDispatcher:ns,ReactCurrentBatchConfig:Zf,ReactCurrentOwner:ww};function A3(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:Vh,forEach:function(e,t,n){Vh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vh(e,function(){t++}),t},toArray:function(e){return Vh(e,function(t){return t})||[]},only:function(e){if(!jw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};wt.Component=qd;wt.Fragment=V9;wt.Profiler=Z9;wt.PureComponent=vw;wt.StrictMode=K9;wt.Suspense=X9;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i7;wt.act=A3;wt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=N3({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ww.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)k3.call(t,d)&&!C3.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){c=Array(d);for(var u=0;u<d;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:th,type:e.type,key:a,ref:i,props:s,_owner:o}};wt.createContext=function(e){return e={$$typeof:Q9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Y9,_context:e},e.Consumer=e};wt.createElement=P3;wt.createFactory=function(e){var t=P3.bind(null,e);return t.type=e,t};wt.createRef=function(){return{current:null}};wt.forwardRef=function(e){return{$$typeof:J9,render:e}};wt.isValidElement=jw;wt.lazy=function(e){return{$$typeof:t7,_payload:{_status:-1,_result:e},_init:a7}};wt.memo=function(e,t){return{$$typeof:e7,type:e,compare:t===void 0?null:t}};wt.startTransition=function(e){var t=Zf.transition;Zf.transition={};try{e()}finally{Zf.transition=t}};wt.unstable_act=A3;wt.useCallback=function(e,t){return ns.current.useCallback(e,t)};wt.useContext=function(e){return ns.current.useContext(e)};wt.useDebugValue=function(){};wt.useDeferredValue=function(e){return ns.current.useDeferredValue(e)};wt.useEffect=function(e,t){return ns.current.useEffect(e,t)};wt.useId=function(){return ns.current.useId()};wt.useImperativeHandle=function(e,t,n){return ns.current.useImperativeHandle(e,t,n)};wt.useInsertionEffect=function(e,t){return ns.current.useInsertionEffect(e,t)};wt.useLayoutEffect=function(e,t){return ns.current.useLayoutEffect(e,t)};wt.useMemo=function(e,t){return ns.current.useMemo(e,t)};wt.useReducer=function(e,t,n){return ns.current.useReducer(e,t,n)};wt.useRef=function(e){return ns.current.useRef(e)};wt.useState=function(e){return ns.current.useState(e)};wt.useSyncExternalStore=function(e,t,n){return ns.current.useSyncExternalStore(e,t,n)};wt.useTransition=function(){return ns.current.useTransition()};wt.version="18.3.1";w3.exports=wt;var p=w3.exports;const tt=bs(p),E3=H9({__proto__:null,default:tt},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o7=p,l7=Symbol.for("react.element"),c7=Symbol.for("react.fragment"),d7=Object.prototype.hasOwnProperty,u7=o7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m7={key:!0,ref:!0,__self:!0,__source:!0};function O3(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)d7.call(t,s)&&!m7.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:l7,type:e,key:i,ref:o,props:a,_owner:u7.current}}zg.Fragment=c7;zg.jsx=O3;zg.jsxs=O3;b3.exports=zg;var r=b3.exports,qy={},T3={exports:{}},zs={},L3={exports:{}},M3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,ie){var ce=G.length;G.push(ie);e:for(;0<ce;){var I=ce-1>>>1,pe=G[I];if(0<a(pe,ie))G[I]=ie,G[ce]=pe,ce=I;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ie=G[0],ce=G.pop();if(ce!==ie){G[0]=ce;e:for(var I=0,pe=G.length,Q=pe>>>1;I<Q;){var xe=2*(I+1)-1,je=G[xe],Re=xe+1,rt=G[Re];if(0>a(je,ce))Re<pe&&0>a(rt,je)?(G[I]=rt,G[Re]=ce,I=Re):(G[I]=je,G[xe]=ce,I=xe);else if(Re<pe&&0>a(rt,ce))G[I]=rt,G[Re]=ce,I=Re;else break e}}return ie}function a(G,ie){var ce=G.sortIndex-ie.sortIndex;return ce!==0?ce:G.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],u=[],m=1,f=null,g=3,x=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var ie=n(u);ie!==null;){if(ie.callback===null)s(u);else if(ie.startTime<=G)s(u),ie.sortIndex=ie.expirationTime,t(d,ie);else break;ie=n(u)}}function k(G){if(w=!1,_(G),!v)if(n(d)!==null)v=!0,$(A);else{var ie=n(u);ie!==null&&ae(k,ie.startTime-G)}}function A(G,ie){v=!1,w&&(w=!1,j(T),T=-1),x=!0;var ce=g;try{for(_(ie),f=n(d);f!==null&&(!(f.expirationTime>ie)||G&&!D());){var I=f.callback;if(typeof I=="function"){f.callback=null,g=f.priorityLevel;var pe=I(f.expirationTime<=ie);ie=e.unstable_now(),typeof pe=="function"?f.callback=pe:f===n(d)&&s(d),_(ie)}else s(d);f=n(d)}if(f!==null)var Q=!0;else{var xe=n(u);xe!==null&&ae(k,xe.startTime-ie),Q=!1}return Q}finally{f=null,g=ce,x=!1}}var P=!1,E=null,T=-1,M=5,U=-1;function D(){return!(e.unstable_now()-U<M)}function B(){if(E!==null){var G=e.unstable_now();U=G;var ie=!0;try{ie=E(!0,G)}finally{ie?z():(P=!1,E=null)}}else P=!1}var z;if(typeof S=="function")z=function(){S(B)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=B,z=function(){le.postMessage(null)}}else z=function(){b(B,0)};function $(G){E=G,P||(P=!0,z())}function ae(G,ie){T=b(function(){G(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,$(A))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(G){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var ce=g;g=ie;try{return G()}finally{g=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=g;g=G;try{return ie()}finally{g=ce}},e.unstable_scheduleCallback=function(G,ie,ce){var I=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?I+ce:I):ce=I,G){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ce+pe,G={id:m++,callback:ie,priorityLevel:G,startTime:ce,expirationTime:pe,sortIndex:-1},ce>I?(G.sortIndex=ce,t(u,G),n(d)===null&&G===n(u)&&(w?(j(T),T=-1):w=!0,ae(k,ce-I))):(G.sortIndex=pe,t(d,G),v||x||(v=!0,$(A))),G},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(G){var ie=g;return function(){var ce=g;g=ie;try{return G.apply(this,arguments)}finally{g=ce}}}})(M3);L3.exports=M3;var h7=L3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f7=p,Fs=h7;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D3=new Set,gm={};function Nc(e,t){Pd(e,t),Pd(e+"Capture",t)}function Pd(e,t){for(gm[e]=t,e=0;e<t.length;e++)D3.add(t[e])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vy=Object.prototype.hasOwnProperty,p7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G1={},W1={};function g7(e){return Vy.call(W1,e)?!0:Vy.call(G1,e)?!1:p7.test(e)?W1[e]=!0:(G1[e]=!0,!1)}function x7(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y7(e,t,n,s){if(t===null||typeof t>"u"||x7(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ss(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sn[e]=new ss(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sn[t]=new ss(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sn[e]=new ss(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sn[e]=new ss(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sn[e]=new ss(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sn[e]=new ss(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sn[e]=new ss(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sn[e]=new ss(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sn[e]=new ss(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nw=/[\-:]([a-z])/g;function _w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nw,_w);Sn[t]=new ss(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nw,_w);Sn[t]=new ss(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nw,_w);Sn[t]=new ss(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sn[e]=new ss(e,1,!1,e.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sn[e]=new ss(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sw(e,t,n,s){var a=Sn.hasOwnProperty(t)?Sn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y7(t,n,a,s)&&(n=null),s||a===null?g7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Ki=f7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kh=Symbol.for("react.element"),Wc=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),R3=Symbol.for("react.provider"),I3=Symbol.for("react.context"),Cw=Symbol.for("react.forward_ref"),Zy=Symbol.for("react.suspense"),Yy=Symbol.for("react.suspense_list"),Pw=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),F3=Symbol.for("react.offscreen"),H1=Symbol.iterator;function bu(e){return e===null||typeof e!="object"?null:(e=H1&&e[H1]||e["@@iterator"],typeof e=="function"?e:null)}var Ar=Object.assign,R0;function Ku(e){if(R0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R0=t&&t[1]||""}return`
`+R0+e}var I0=!1;function F0(e,t){if(!e||I0)return"";I0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,c=i.length-1;1<=o&&0<=c&&a[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==i[c]){var d=`
`+a[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=c);break}}}finally{I0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ku(e):""}function v7(e){switch(e.tag){case 5:return Ku(e.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return e=F0(e.type,!1),e;case 11:return e=F0(e.type.render,!1),e;case 1:return e=F0(e.type,!0),e;default:return""}}function Qy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hc:return"Fragment";case Wc:return"Portal";case Ky:return"Profiler";case kw:return"StrictMode";case Zy:return"Suspense";case Yy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case I3:return(e.displayName||"Context")+".Consumer";case R3:return(e._context.displayName||"Context")+".Provider";case Cw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pw:return t=e.displayName||null,t!==null?t:Qy(e.type)||"Memo";case po:t=e._payload,e=e._init;try{return Qy(e(t))}catch{}}return null}function b7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qy(t);case 8:return t===kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w7(e){var t=B3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zh(e){e._valueTracker||(e._valueTracker=w7(e))}function $3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=B3(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function vp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jy(e,t){var n=t.checked;return Ar({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function q1(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Zo(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z3(e,t){t=t.checked,t!=null&&Sw(e,"checked",t,!1)}function Xy(e,t){z3(e,t);var n=Zo(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ev(e,t.type,n):t.hasOwnProperty("defaultValue")&&ev(e,t.type,Zo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function V1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ev(e,t,n){(t!=="number"||vp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zu=Array.isArray;function ad(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Zo(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function tv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Ar({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function K1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ee(92));if(Zu(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zo(n)}}function U3(e,t){var n=Zo(t.value),s=Zo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Z1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function G3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?G3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yh,W3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yh=Yh||document.createElement("div"),Yh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xm(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j7=["Webkit","ms","Moz","O"];Object.keys(rm).forEach(function(e){j7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rm[t]=rm[e]})});function H3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rm.hasOwnProperty(e)&&rm[e]?(""+t).trim():t+"px"}function q3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=H3(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var N7=Ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nv(e,t){if(t){if(N7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function sv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=null;function Aw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iv=null,id=null,od=null;function Y1(e){if(e=sh(e)){if(typeof iv!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=qg(t),iv(e.stateNode,e.type,t))}}function V3(e){id?od?od.push(e):od=[e]:id=e}function K3(){if(id){var e=id,t=od;if(od=id=null,Y1(e),t)for(e=0;e<t.length;e++)Y1(t[e])}}function Z3(e,t){return e(t)}function Y3(){}var B0=!1;function Q3(e,t,n){if(B0)return e(t,n);B0=!0;try{return Z3(e,t,n)}finally{B0=!1,(id!==null||od!==null)&&(Y3(),K3())}}function ym(e,t){var n=e.stateNode;if(n===null)return null;var s=qg(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ee(231,t,typeof n));return n}var ov=!1;if(Ii)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){ov=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{ov=!1}function _7(e,t,n,s,a,i,o,c,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var nm=!1,bp=null,wp=!1,lv=null,S7={onError:function(e){nm=!0,bp=e}};function k7(e,t,n,s,a,i,o,c,d){nm=!1,bp=null,_7.apply(S7,arguments)}function C7(e,t,n,s,a,i,o,c,d){if(k7.apply(this,arguments),nm){if(nm){var u=bp;nm=!1,bp=null}else throw Error(Ee(198));wp||(wp=!0,lv=u)}}function _c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function J3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Q1(e){if(_c(e)!==e)throw Error(Ee(188))}function P7(e){var t=e.alternate;if(!t){if(t=_c(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Q1(a),e;if(i===s)return Q1(a),t;i=i.sibling}throw Error(Ee(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,s=i;break}if(c===s){o=!0,s=a,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,s=a;break}if(c===s){o=!0,s=i,n=a;break}c=c.sibling}if(!o)throw Error(Ee(189))}}if(n.alternate!==s)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?e:t}function X3(e){return e=P7(e),e!==null?e4(e):null}function e4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e4(e);if(t!==null)return t;e=e.sibling}return null}var t4=Fs.unstable_scheduleCallback,J1=Fs.unstable_cancelCallback,A7=Fs.unstable_shouldYield,E7=Fs.unstable_requestPaint,Ir=Fs.unstable_now,O7=Fs.unstable_getCurrentPriorityLevel,Ew=Fs.unstable_ImmediatePriority,r4=Fs.unstable_UserBlockingPriority,jp=Fs.unstable_NormalPriority,T7=Fs.unstable_LowPriority,n4=Fs.unstable_IdlePriority,Ug=null,si=null;function L7(e){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Ug,e,void 0,(e.current.flags&128)===128)}catch{}}var Da=Math.clz32?Math.clz32:R7,M7=Math.log,D7=Math.LN2;function R7(e){return e>>>=0,e===0?32:31-(M7(e)/D7|0)|0}var Qh=64,Jh=4194304;function Yu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Np(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~a;c!==0?s=Yu(c):(i&=o,i!==0&&(s=Yu(i)))}else o=n&~a,o!==0?s=Yu(o):i!==0&&(s=Yu(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Da(t),a=1<<n,s|=e[n],t&=~a;return s}function I7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F7(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Da(i),c=1<<o,d=a[o];d===-1?(!(c&n)||c&s)&&(a[o]=I7(c,t)):d<=t&&(e.expiredLanes|=c),i&=~c}}function cv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s4(){var e=Qh;return Qh<<=1,!(Qh&4194240)&&(Qh=64),e}function $0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Da(t),e[t]=n}function B7(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Da(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function Ow(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Da(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Kt=0;function a4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var i4,Tw,o4,l4,c4,dv=!1,Xh=[],Io=null,Fo=null,Bo=null,vm=new Map,bm=new Map,vo=[],$7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X1(e,t){switch(e){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":vm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bm.delete(t.pointerId)}}function ju(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=sh(t),t!==null&&Tw(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function z7(e,t,n,s,a){switch(t){case"focusin":return Io=ju(Io,e,t,n,s,a),!0;case"dragenter":return Fo=ju(Fo,e,t,n,s,a),!0;case"mouseover":return Bo=ju(Bo,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return vm.set(i,ju(vm.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,bm.set(i,ju(bm.get(i)||null,e,t,n,s,a)),!0}return!1}function d4(e){var t=Ol(e.target);if(t!==null){var n=_c(t);if(n!==null){if(t=n.tag,t===13){if(t=J3(n),t!==null){e.blockedOn=t,c4(e.priority,function(){o4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);av=s,n.target.dispatchEvent(s),av=null}else return t=sh(n),t!==null&&Tw(t),e.blockedOn=n,!1;t.shift()}return!0}function e_(e,t,n){Yf(e)&&n.delete(t)}function U7(){dv=!1,Io!==null&&Yf(Io)&&(Io=null),Fo!==null&&Yf(Fo)&&(Fo=null),Bo!==null&&Yf(Bo)&&(Bo=null),vm.forEach(e_),bm.forEach(e_)}function Nu(e,t){e.blockedOn===t&&(e.blockedOn=null,dv||(dv=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,U7)))}function wm(e){function t(a){return Nu(a,e)}if(0<Xh.length){Nu(Xh[0],e);for(var n=1;n<Xh.length;n++){var s=Xh[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Io!==null&&Nu(Io,e),Fo!==null&&Nu(Fo,e),Bo!==null&&Nu(Bo,e),vm.forEach(t),bm.forEach(t),n=0;n<vo.length;n++)s=vo[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<vo.length&&(n=vo[0],n.blockedOn===null);)d4(n),n.blockedOn===null&&vo.shift()}var ld=Ki.ReactCurrentBatchConfig,_p=!0;function G7(e,t,n,s){var a=Kt,i=ld.transition;ld.transition=null;try{Kt=1,Lw(e,t,n,s)}finally{Kt=a,ld.transition=i}}function W7(e,t,n,s){var a=Kt,i=ld.transition;ld.transition=null;try{Kt=4,Lw(e,t,n,s)}finally{Kt=a,ld.transition=i}}function Lw(e,t,n,s){if(_p){var a=uv(e,t,n,s);if(a===null)Y0(e,t,s,Sp,n),X1(e,s);else if(z7(a,e,t,n,s))s.stopPropagation();else if(X1(e,s),t&4&&-1<$7.indexOf(e)){for(;a!==null;){var i=sh(a);if(i!==null&&i4(i),i=uv(e,t,n,s),i===null&&Y0(e,t,s,Sp,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Y0(e,t,s,null,n)}}var Sp=null;function uv(e,t,n,s){if(Sp=null,e=Aw(s),e=Ol(e),e!==null)if(t=_c(e),t===null)e=null;else if(n=t.tag,n===13){if(e=J3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sp=e,null}function u4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O7()){case Ew:return 1;case r4:return 4;case jp:case T7:return 16;case n4:return 536870912;default:return 16}default:return 16}}var Lo=null,Mw=null,Qf=null;function m4(){if(Qf)return Qf;var e,t=Mw,n=t.length,s,a="value"in Lo?Lo.value:Lo.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return Qf=a.slice(e,1<s?1-s:void 0)}function Jf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ef(){return!0}function t_(){return!1}function Us(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ef:t_,this.isPropagationStopped=t_,this}return Ar(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ef)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ef)},persist:function(){},isPersistent:ef}),t}var Vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dw=Us(Vd),nh=Ar({},Vd,{view:0,detail:0}),H7=Us(nh),z0,U0,_u,Gg=Ar({},nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_u&&(_u&&e.type==="mousemove"?(z0=e.screenX-_u.screenX,U0=e.screenY-_u.screenY):U0=z0=0,_u=e),z0)},movementY:function(e){return"movementY"in e?e.movementY:U0}}),r_=Us(Gg),q7=Ar({},Gg,{dataTransfer:0}),V7=Us(q7),K7=Ar({},nh,{relatedTarget:0}),G0=Us(K7),Z7=Ar({},Vd,{animationName:0,elapsedTime:0,pseudoElement:0}),Y7=Us(Z7),Q7=Ar({},Vd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J7=Us(Q7),X7=Ar({},Vd,{data:0}),n_=Us(X7),eD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rD[e])?!!t[e]:!1}function Rw(){return nD}var sD=Ar({},nh,{key:function(e){if(e.key){var t=eD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rw,charCode:function(e){return e.type==="keypress"?Jf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aD=Us(sD),iD=Ar({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s_=Us(iD),oD=Ar({},nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rw}),lD=Us(oD),cD=Ar({},Vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),dD=Us(cD),uD=Ar({},Gg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mD=Us(uD),hD=[9,13,27,32],Iw=Ii&&"CompositionEvent"in window,sm=null;Ii&&"documentMode"in document&&(sm=document.documentMode);var fD=Ii&&"TextEvent"in window&&!sm,h4=Ii&&(!Iw||sm&&8<sm&&11>=sm),a_=" ",i_=!1;function f4(e,t){switch(e){case"keyup":return hD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qc=!1;function pD(e,t){switch(e){case"compositionend":return p4(t);case"keypress":return t.which!==32?null:(i_=!0,a_);case"textInput":return e=t.data,e===a_&&i_?null:e;default:return null}}function gD(e,t){if(qc)return e==="compositionend"||!Iw&&f4(e,t)?(e=m4(),Qf=Mw=Lo=null,qc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h4&&t.locale!=="ko"?null:t.data;default:return null}}var xD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xD[e.type]:t==="textarea"}function g4(e,t,n,s){V3(s),t=kp(t,"onChange"),0<t.length&&(n=new Dw("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var am=null,jm=null;function yD(e){C4(e,0)}function Wg(e){var t=Zc(e);if($3(t))return e}function vD(e,t){if(e==="change")return t}var x4=!1;if(Ii){var W0;if(Ii){var H0="oninput"in document;if(!H0){var l_=document.createElement("div");l_.setAttribute("oninput","return;"),H0=typeof l_.oninput=="function"}W0=H0}else W0=!1;x4=W0&&(!document.documentMode||9<document.documentMode)}function c_(){am&&(am.detachEvent("onpropertychange",y4),jm=am=null)}function y4(e){if(e.propertyName==="value"&&Wg(jm)){var t=[];g4(t,jm,e,Aw(e)),Q3(yD,t)}}function bD(e,t,n){e==="focusin"?(c_(),am=t,jm=n,am.attachEvent("onpropertychange",y4)):e==="focusout"&&c_()}function wD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wg(jm)}function jD(e,t){if(e==="click")return Wg(t)}function ND(e,t){if(e==="input"||e==="change")return Wg(t)}function _D(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ia=typeof Object.is=="function"?Object.is:_D;function Nm(e,t){if(Ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Vy.call(t,a)||!Ia(e[a],t[a]))return!1}return!0}function d_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u_(e,t){var n=d_(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d_(n)}}function v4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?v4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b4(){for(var e=window,t=vp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vp(e.document)}return t}function Fw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SD(e){var t=b4(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&v4(n.ownerDocument.documentElement,n)){if(s!==null&&Fw(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=u_(n,i);var o=u_(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kD=Ii&&"documentMode"in document&&11>=document.documentMode,Vc=null,mv=null,im=null,hv=!1;function m_(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hv||Vc==null||Vc!==vp(s)||(s=Vc,"selectionStart"in s&&Fw(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),im&&Nm(im,s)||(im=s,s=kp(mv,"onSelect"),0<s.length&&(t=new Dw("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Vc)))}function tf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kc={animationend:tf("Animation","AnimationEnd"),animationiteration:tf("Animation","AnimationIteration"),animationstart:tf("Animation","AnimationStart"),transitionend:tf("Transition","TransitionEnd")},q0={},w4={};Ii&&(w4=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function Hg(e){if(q0[e])return q0[e];if(!Kc[e])return e;var t=Kc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in w4)return q0[e]=t[n];return e}var j4=Hg("animationend"),N4=Hg("animationiteration"),_4=Hg("animationstart"),S4=Hg("transitionend"),k4=new Map,h_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function il(e,t){k4.set(e,t),Nc(t,[e])}for(var V0=0;V0<h_.length;V0++){var K0=h_[V0],CD=K0.toLowerCase(),PD=K0[0].toUpperCase()+K0.slice(1);il(CD,"on"+PD)}il(j4,"onAnimationEnd");il(N4,"onAnimationIteration");il(_4,"onAnimationStart");il("dblclick","onDoubleClick");il("focusin","onFocus");il("focusout","onBlur");il(S4,"onTransitionEnd");Pd("onMouseEnter",["mouseout","mouseover"]);Pd("onMouseLeave",["mouseout","mouseover"]);Pd("onPointerEnter",["pointerout","pointerover"]);Pd("onPointerLeave",["pointerout","pointerover"]);Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function f_(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,C7(s,t,void 0,e),e.currentTarget=null}function C4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var c=s[o],d=c.instance,u=c.currentTarget;if(c=c.listener,d!==i&&a.isPropagationStopped())break e;f_(a,c,u),i=d}else for(o=0;o<s.length;o++){if(c=s[o],d=c.instance,u=c.currentTarget,c=c.listener,d!==i&&a.isPropagationStopped())break e;f_(a,c,u),i=d}}}if(wp)throw e=lv,wp=!1,lv=null,e}function mr(e,t){var n=t[yv];n===void 0&&(n=t[yv]=new Set);var s=e+"__bubble";n.has(s)||(P4(t,e,2,!1),n.add(s))}function Z0(e,t,n){var s=0;t&&(s|=4),P4(n,e,s,t)}var rf="_reactListening"+Math.random().toString(36).slice(2);function _m(e){if(!e[rf]){e[rf]=!0,D3.forEach(function(n){n!=="selectionchange"&&(AD.has(n)||Z0(n,!1,e),Z0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rf]||(t[rf]=!0,Z0("selectionchange",!1,t))}}function P4(e,t,n,s){switch(u4(t)){case 1:var a=G7;break;case 4:a=W7;break;default:a=Lw}n=a.bind(null,t,n,e),a=void 0,!ov||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Y0(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;c!==null;){if(o=Ol(c),o===null)return;if(d=o.tag,d===5||d===6){s=i=o;continue e}c=c.parentNode}}s=s.return}Q3(function(){var u=i,m=Aw(n),f=[];e:{var g=k4.get(e);if(g!==void 0){var x=Dw,v=e;switch(e){case"keypress":if(Jf(n)===0)break e;case"keydown":case"keyup":x=aD;break;case"focusin":v="focus",x=G0;break;case"focusout":v="blur",x=G0;break;case"beforeblur":case"afterblur":x=G0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=r_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=V7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=lD;break;case j4:case N4:case _4:x=Y7;break;case S4:x=dD;break;case"scroll":x=H7;break;case"wheel":x=mD;break;case"copy":case"cut":case"paste":x=J7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=s_}var w=(t&4)!==0,b=!w&&e==="scroll",j=w?g!==null?g+"Capture":null:g;w=[];for(var S=u,_;S!==null;){_=S;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,j!==null&&(k=ym(S,j),k!=null&&w.push(Sm(S,k,_)))),b)break;S=S.return}0<w.length&&(g=new x(g,v,null,n,m),f.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==av&&(v=n.relatedTarget||n.fromElement)&&(Ol(v)||v[Fi]))break e;if((x||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=u,v=v?Ol(v):null,v!==null&&(b=_c(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(w=r_,k="onMouseLeave",j="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(w=s_,k="onPointerLeave",j="onPointerEnter",S="pointer"),b=x==null?g:Zc(x),_=v==null?g:Zc(v),g=new w(k,S+"leave",x,n,m),g.target=b,g.relatedTarget=_,k=null,Ol(m)===u&&(w=new w(j,S+"enter",v,n,m),w.target=_,w.relatedTarget=b,k=w),b=k,x&&v)t:{for(w=x,j=v,S=0,_=w;_;_=Rc(_))S++;for(_=0,k=j;k;k=Rc(k))_++;for(;0<S-_;)w=Rc(w),S--;for(;0<_-S;)j=Rc(j),_--;for(;S--;){if(w===j||j!==null&&w===j.alternate)break t;w=Rc(w),j=Rc(j)}w=null}else w=null;x!==null&&p_(f,g,x,w,!1),v!==null&&b!==null&&p_(f,b,v,w,!0)}}e:{if(g=u?Zc(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var A=vD;else if(o_(g))if(x4)A=ND;else{A=wD;var P=bD}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(A=jD);if(A&&(A=A(e,u))){g4(f,A,n,m);break e}P&&P(e,g,u),e==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&ev(g,"number",g.value)}switch(P=u?Zc(u):window,e){case"focusin":(o_(P)||P.contentEditable==="true")&&(Vc=P,mv=u,im=null);break;case"focusout":im=mv=Vc=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,m_(f,n,m);break;case"selectionchange":if(kD)break;case"keydown":case"keyup":m_(f,n,m)}var E;if(Iw)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else qc?f4(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(h4&&n.locale!=="ko"&&(qc||T!=="onCompositionStart"?T==="onCompositionEnd"&&qc&&(E=m4()):(Lo=m,Mw="value"in Lo?Lo.value:Lo.textContent,qc=!0)),P=kp(u,T),0<P.length&&(T=new n_(T,e,null,n,m),f.push({event:T,listeners:P}),E?T.data=E:(E=p4(n),E!==null&&(T.data=E)))),(E=fD?pD(e,n):gD(e,n))&&(u=kp(u,"onBeforeInput"),0<u.length&&(m=new n_("onBeforeInput","beforeinput",null,n,m),f.push({event:m,listeners:u}),m.data=E))}C4(f,t)})}function Sm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kp(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ym(e,n),i!=null&&s.unshift(Sm(e,i,a)),i=ym(e,t),i!=null&&s.push(Sm(e,i,a))),e=e.return}return s}function Rc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p_(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var c=n,d=c.alternate,u=c.stateNode;if(d!==null&&d===s)break;c.tag===5&&u!==null&&(c=u,a?(d=ym(n,i),d!=null&&o.unshift(Sm(n,d,c))):a||(d=ym(n,i),d!=null&&o.push(Sm(n,d,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ED=/\r\n?/g,OD=/\u0000|\uFFFD/g;function g_(e){return(typeof e=="string"?e:""+e).replace(ED,`
`).replace(OD,"")}function nf(e,t,n){if(t=g_(t),g_(e)!==t&&n)throw Error(Ee(425))}function Cp(){}var fv=null,pv=null;function gv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xv=typeof setTimeout=="function"?setTimeout:void 0,TD=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,LD=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(e){return x_.resolve(null).then(e).catch(MD)}:xv;function MD(e){setTimeout(function(){throw e})}function Q0(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),wm(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);wm(t)}function $o(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function y_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kd=Math.random().toString(36).slice(2),Xa="__reactFiber$"+Kd,km="__reactProps$"+Kd,Fi="__reactContainer$"+Kd,yv="__reactEvents$"+Kd,DD="__reactListeners$"+Kd,RD="__reactHandles$"+Kd;function Ol(e){var t=e[Xa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fi]||n[Xa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=y_(e);e!==null;){if(n=e[Xa])return n;e=y_(e)}return t}e=n,n=e.parentNode}return null}function sh(e){return e=e[Xa]||e[Fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function qg(e){return e[km]||null}var vv=[],Yc=-1;function ol(e){return{current:e}}function fr(e){0>Yc||(e.current=vv[Yc],vv[Yc]=null,Yc--)}function or(e,t){Yc++,vv[Yc]=e.current,e.current=t}var Yo={},In=ol(Yo),ps=ol(!1),ac=Yo;function Ad(e,t){var n=e.type.contextTypes;if(!n)return Yo;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gs(e){return e=e.childContextTypes,e!=null}function Pp(){fr(ps),fr(In)}function v_(e,t,n){if(In.current!==Yo)throw Error(Ee(168));or(In,t),or(ps,n)}function A4(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Ee(108,b7(e)||"Unknown",a));return Ar({},n,s)}function Ap(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yo,ac=In.current,or(In,e),or(ps,ps.current),!0}function b_(e,t,n){var s=e.stateNode;if(!s)throw Error(Ee(169));n?(e=A4(e,t,ac),s.__reactInternalMemoizedMergedChildContext=e,fr(ps),fr(In),or(In,e)):fr(ps),or(ps,n)}var bi=null,Vg=!1,J0=!1;function E4(e){bi===null?bi=[e]:bi.push(e)}function ID(e){Vg=!0,E4(e)}function ll(){if(!J0&&bi!==null){J0=!0;var e=0,t=Kt;try{var n=bi;for(Kt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}bi=null,Vg=!1}catch(a){throw bi!==null&&(bi=bi.slice(e+1)),t4(Ew,ll),a}finally{Kt=t,J0=!1}}return null}var Qc=[],Jc=0,Ep=null,Op=0,ta=[],ra=0,ic=null,Ci=1,Pi="";function Sl(e,t){Qc[Jc++]=Op,Qc[Jc++]=Ep,Ep=e,Op=t}function O4(e,t,n){ta[ra++]=Ci,ta[ra++]=Pi,ta[ra++]=ic,ic=e;var s=Ci;e=Pi;var a=32-Da(s)-1;s&=~(1<<a),n+=1;var i=32-Da(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Ci=1<<32-Da(t)+a|n<<a|s,Pi=i+e}else Ci=1<<i|n<<a|s,Pi=e}function Bw(e){e.return!==null&&(Sl(e,1),O4(e,1,0))}function $w(e){for(;e===Ep;)Ep=Qc[--Jc],Qc[Jc]=null,Op=Qc[--Jc],Qc[Jc]=null;for(;e===ic;)ic=ta[--ra],ta[ra]=null,Pi=ta[--ra],ta[ra]=null,Ci=ta[--ra],ta[ra]=null}var Ds=null,Ms=null,xr=!1,Pa=null;function T4(e,t){var n=aa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function w_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ds=e,Ms=$o(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ds=e,Ms=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ic!==null?{id:Ci,overflow:Pi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=aa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ds=e,Ms=null,!0):!1;default:return!1}}function bv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wv(e){if(xr){var t=Ms;if(t){var n=t;if(!w_(e,t)){if(bv(e))throw Error(Ee(418));t=$o(n.nextSibling);var s=Ds;t&&w_(e,t)?T4(s,n):(e.flags=e.flags&-4097|2,xr=!1,Ds=e)}}else{if(bv(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,xr=!1,Ds=e}}}function j_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ds=e}function sf(e){if(e!==Ds)return!1;if(!xr)return j_(e),xr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gv(e.type,e.memoizedProps)),t&&(t=Ms)){if(bv(e))throw L4(),Error(Ee(418));for(;t;)T4(e,t),t=$o(t.nextSibling)}if(j_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ms=$o(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ms=null}}else Ms=Ds?$o(e.stateNode.nextSibling):null;return!0}function L4(){for(var e=Ms;e;)e=$o(e.nextSibling)}function Ed(){Ms=Ds=null,xr=!1}function zw(e){Pa===null?Pa=[e]:Pa.push(e)}var FD=Ki.ReactCurrentBatchConfig;function Su(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var s=n.stateNode}if(!s)throw Error(Ee(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var c=a.refs;o===null?delete c[i]:c[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,e))}return e}function af(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function N_(e){var t=e._init;return t(e._payload)}function M4(e){function t(j,S){if(e){var _=j.deletions;_===null?(j.deletions=[S],j.flags|=16):_.push(S)}}function n(j,S){if(!e)return null;for(;S!==null;)t(j,S),S=S.sibling;return null}function s(j,S){for(j=new Map;S!==null;)S.key!==null?j.set(S.key,S):j.set(S.index,S),S=S.sibling;return j}function a(j,S){return j=Wo(j,S),j.index=0,j.sibling=null,j}function i(j,S,_){return j.index=_,e?(_=j.alternate,_!==null?(_=_.index,_<S?(j.flags|=2,S):_):(j.flags|=2,S)):(j.flags|=1048576,S)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function c(j,S,_,k){return S===null||S.tag!==6?(S=ay(_,j.mode,k),S.return=j,S):(S=a(S,_),S.return=j,S)}function d(j,S,_,k){var A=_.type;return A===Hc?m(j,S,_.props.children,k,_.key):S!==null&&(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===po&&N_(A)===S.type)?(k=a(S,_.props),k.ref=Su(j,S,_),k.return=j,k):(k=ap(_.type,_.key,_.props,null,j.mode,k),k.ref=Su(j,S,_),k.return=j,k)}function u(j,S,_,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=iy(_,j.mode,k),S.return=j,S):(S=a(S,_.children||[]),S.return=j,S)}function m(j,S,_,k,A){return S===null||S.tag!==7?(S=Ql(_,j.mode,k,A),S.return=j,S):(S=a(S,_),S.return=j,S)}function f(j,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=ay(""+S,j.mode,_),S.return=j,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kh:return _=ap(S.type,S.key,S.props,null,j.mode,_),_.ref=Su(j,null,S),_.return=j,_;case Wc:return S=iy(S,j.mode,_),S.return=j,S;case po:var k=S._init;return f(j,k(S._payload),_)}if(Zu(S)||bu(S))return S=Ql(S,j.mode,_,null),S.return=j,S;af(j,S)}return null}function g(j,S,_,k){var A=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:c(j,S,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kh:return _.key===A?d(j,S,_,k):null;case Wc:return _.key===A?u(j,S,_,k):null;case po:return A=_._init,g(j,S,A(_._payload),k)}if(Zu(_)||bu(_))return A!==null?null:m(j,S,_,k,null);af(j,_)}return null}function x(j,S,_,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return j=j.get(_)||null,c(S,j,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Kh:return j=j.get(k.key===null?_:k.key)||null,d(S,j,k,A);case Wc:return j=j.get(k.key===null?_:k.key)||null,u(S,j,k,A);case po:var P=k._init;return x(j,S,_,P(k._payload),A)}if(Zu(k)||bu(k))return j=j.get(_)||null,m(S,j,k,A,null);af(S,k)}return null}function v(j,S,_,k){for(var A=null,P=null,E=S,T=S=0,M=null;E!==null&&T<_.length;T++){E.index>T?(M=E,E=null):M=E.sibling;var U=g(j,E,_[T],k);if(U===null){E===null&&(E=M);break}e&&E&&U.alternate===null&&t(j,E),S=i(U,S,T),P===null?A=U:P.sibling=U,P=U,E=M}if(T===_.length)return n(j,E),xr&&Sl(j,T),A;if(E===null){for(;T<_.length;T++)E=f(j,_[T],k),E!==null&&(S=i(E,S,T),P===null?A=E:P.sibling=E,P=E);return xr&&Sl(j,T),A}for(E=s(j,E);T<_.length;T++)M=x(E,j,T,_[T],k),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?T:M.key),S=i(M,S,T),P===null?A=M:P.sibling=M,P=M);return e&&E.forEach(function(D){return t(j,D)}),xr&&Sl(j,T),A}function w(j,S,_,k){var A=bu(_);if(typeof A!="function")throw Error(Ee(150));if(_=A.call(_),_==null)throw Error(Ee(151));for(var P=A=null,E=S,T=S=0,M=null,U=_.next();E!==null&&!U.done;T++,U=_.next()){E.index>T?(M=E,E=null):M=E.sibling;var D=g(j,E,U.value,k);if(D===null){E===null&&(E=M);break}e&&E&&D.alternate===null&&t(j,E),S=i(D,S,T),P===null?A=D:P.sibling=D,P=D,E=M}if(U.done)return n(j,E),xr&&Sl(j,T),A;if(E===null){for(;!U.done;T++,U=_.next())U=f(j,U.value,k),U!==null&&(S=i(U,S,T),P===null?A=U:P.sibling=U,P=U);return xr&&Sl(j,T),A}for(E=s(j,E);!U.done;T++,U=_.next())U=x(E,j,T,U.value,k),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?T:U.key),S=i(U,S,T),P===null?A=U:P.sibling=U,P=U);return e&&E.forEach(function(B){return t(j,B)}),xr&&Sl(j,T),A}function b(j,S,_,k){if(typeof _=="object"&&_!==null&&_.type===Hc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Kh:e:{for(var A=_.key,P=S;P!==null;){if(P.key===A){if(A=_.type,A===Hc){if(P.tag===7){n(j,P.sibling),S=a(P,_.props.children),S.return=j,j=S;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===po&&N_(A)===P.type){n(j,P.sibling),S=a(P,_.props),S.ref=Su(j,P,_),S.return=j,j=S;break e}n(j,P);break}else t(j,P);P=P.sibling}_.type===Hc?(S=Ql(_.props.children,j.mode,k,_.key),S.return=j,j=S):(k=ap(_.type,_.key,_.props,null,j.mode,k),k.ref=Su(j,S,_),k.return=j,j=k)}return o(j);case Wc:e:{for(P=_.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){n(j,S.sibling),S=a(S,_.children||[]),S.return=j,j=S;break e}else{n(j,S);break}else t(j,S);S=S.sibling}S=iy(_,j.mode,k),S.return=j,j=S}return o(j);case po:return P=_._init,b(j,S,P(_._payload),k)}if(Zu(_))return v(j,S,_,k);if(bu(_))return w(j,S,_,k);af(j,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(n(j,S.sibling),S=a(S,_),S.return=j,j=S):(n(j,S),S=ay(_,j.mode,k),S.return=j,j=S),o(j)):n(j,S)}return b}var Od=M4(!0),D4=M4(!1),Tp=ol(null),Lp=null,Xc=null,Uw=null;function Gw(){Uw=Xc=Lp=null}function Ww(e){var t=Tp.current;fr(Tp),e._currentValue=t}function jv(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function cd(e,t){Lp=e,Uw=Xc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hs=!0),e.firstContext=null)}function ca(e){var t=e._currentValue;if(Uw!==e)if(e={context:e,memoizedValue:t,next:null},Xc===null){if(Lp===null)throw Error(Ee(308));Xc=e,Lp.dependencies={lanes:0,firstContext:e}}else Xc=Xc.next=e;return t}var Tl=null;function Hw(e){Tl===null?Tl=[e]:Tl.push(e)}function R4(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,Hw(t)):(n.next=a.next,a.next=n),t.interleaved=n,Bi(e,s)}function Bi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var go=!1;function qw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Et&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Bi(e,n)}return a=s.interleaved,a===null?(t.next=t,Hw(s)):(t.next=a.next,a.next=t),s.interleaved=t,Bi(e,n)}function Xf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ow(e,n)}}function __(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mp(e,t,n,s){var a=e.updateQueue;go=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var d=c,u=d.next;d.next=null,o===null?i=u:o.next=u,o=d;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==o&&(c===null?m.firstBaseUpdate=u:c.next=u,m.lastBaseUpdate=d))}if(i!==null){var f=a.baseState;o=0,m=u=d=null,c=i;do{var g=c.lane,x=c.eventTime;if((s&g)===g){m!==null&&(m=m.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var v=e,w=c;switch(g=t,x=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(x,f,g);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,g=typeof v=="function"?v.call(x,f,g):v,g==null)break e;f=Ar({},f,g);break e;case 2:go=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[c]:g.push(c))}else x={eventTime:x,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(u=m=x,d=f):m=m.next=x,o|=g;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;g=c,c=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(m===null&&(d=f),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);lc|=o,e.lanes=o,e.memoizedState=f}}function S_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(Ee(191,a));a.call(s)}}}var ah={},ai=ol(ah),Cm=ol(ah),Pm=ol(ah);function Ll(e){if(e===ah)throw Error(Ee(174));return e}function Vw(e,t){switch(or(Pm,t),or(Cm,e),or(ai,ah),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rv(t,e)}fr(ai),or(ai,t)}function Td(){fr(ai),fr(Cm),fr(Pm)}function F4(e){Ll(Pm.current);var t=Ll(ai.current),n=rv(t,e.type);t!==n&&(or(Cm,e),or(ai,n))}function Kw(e){Cm.current===e&&(fr(ai),fr(Cm))}var _r=ol(0);function Dp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var X0=[];function Zw(){for(var e=0;e<X0.length;e++)X0[e]._workInProgressVersionPrimary=null;X0.length=0}var ep=Ki.ReactCurrentDispatcher,ey=Ki.ReactCurrentBatchConfig,oc=0,Pr=null,Zr=null,hn=null,Rp=!1,om=!1,Am=0,BD=0;function An(){throw Error(Ee(321))}function Yw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ia(e[n],t[n]))return!1;return!0}function Qw(e,t,n,s,a,i){if(oc=i,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ep.current=e===null||e.memoizedState===null?GD:WD,e=n(s,a),om){i=0;do{if(om=!1,Am=0,25<=i)throw Error(Ee(301));i+=1,hn=Zr=null,t.updateQueue=null,ep.current=HD,e=n(s,a)}while(om)}if(ep.current=Ip,t=Zr!==null&&Zr.next!==null,oc=0,hn=Zr=Pr=null,Rp=!1,t)throw Error(Ee(300));return e}function Jw(){var e=Am!==0;return Am=0,e}function Va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Pr.memoizedState=hn=e:hn=hn.next=e,hn}function da(){if(Zr===null){var e=Pr.alternate;e=e!==null?e.memoizedState:null}else e=Zr.next;var t=hn===null?Pr.memoizedState:hn.next;if(t!==null)hn=t,Zr=e;else{if(e===null)throw Error(Ee(310));Zr=e,e={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},hn===null?Pr.memoizedState=hn=e:hn=hn.next=e}return hn}function Em(e,t){return typeof t=="function"?t(e):t}function ty(e){var t=da(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var s=Zr,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var c=o=null,d=null,u=i;do{var m=u.lane;if((oc&m)===m)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(c=d=f,o=s):d=d.next=f,Pr.lanes|=m,lc|=m}u=u.next}while(u!==null&&u!==i);d===null?o=s:d.next=c,Ia(s,t.memoizedState)||(hs=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Pr.lanes|=i,lc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ry(e){var t=da(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ia(i,t.memoizedState)||(hs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function B4(){}function $4(e,t){var n=Pr,s=da(),a=t(),i=!Ia(s.memoizedState,a);if(i&&(s.memoizedState=a,hs=!0),s=s.queue,Xw(G4.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,Om(9,U4.bind(null,n,s,a,t),void 0,null),pn===null)throw Error(Ee(349));oc&30||z4(n,t,a)}return a}function z4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function U4(e,t,n,s){t.value=n,t.getSnapshot=s,W4(t)&&H4(e)}function G4(e,t,n){return n(function(){W4(t)&&H4(e)})}function W4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ia(e,n)}catch{return!0}}function H4(e){var t=Bi(e,1);t!==null&&Ra(t,e,1,-1)}function k_(e){var t=Va();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Em,lastRenderedState:e},t.queue=e,e=e.dispatch=UD.bind(null,Pr,e),[t.memoizedState,e]}function Om(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function q4(){return da().memoizedState}function tp(e,t,n,s){var a=Va();Pr.flags|=e,a.memoizedState=Om(1|t,n,void 0,s===void 0?null:s)}function Kg(e,t,n,s){var a=da();s=s===void 0?null:s;var i=void 0;if(Zr!==null){var o=Zr.memoizedState;if(i=o.destroy,s!==null&&Yw(s,o.deps)){a.memoizedState=Om(t,n,i,s);return}}Pr.flags|=e,a.memoizedState=Om(1|t,n,i,s)}function C_(e,t){return tp(8390656,8,e,t)}function Xw(e,t){return Kg(2048,8,e,t)}function V4(e,t){return Kg(4,2,e,t)}function K4(e,t){return Kg(4,4,e,t)}function Z4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Y4(e,t,n){return n=n!=null?n.concat([e]):null,Kg(4,4,Z4.bind(null,t,e),n)}function ej(){}function Q4(e,t){var n=da();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Yw(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function J4(e,t){var n=da();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Yw(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function X4(e,t,n){return oc&21?(Ia(n,t)||(n=s4(),Pr.lanes|=n,lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hs=!0),e.memoizedState=n)}function $D(e,t){var n=Kt;Kt=n!==0&&4>n?n:4,e(!0);var s=ey.transition;ey.transition={};try{e(!1),t()}finally{Kt=n,ey.transition=s}}function e6(){return da().memoizedState}function zD(e,t,n){var s=Go(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},t6(e))r6(t,n);else if(n=R4(e,t,n,s),n!==null){var a=Xn();Ra(n,e,s,a),n6(n,t,s)}}function UD(e,t,n){var s=Go(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(t6(e))r6(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,n);if(a.hasEagerState=!0,a.eagerState=c,Ia(c,o)){var d=t.interleaved;d===null?(a.next=a,Hw(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}n=R4(e,t,a,s),n!==null&&(a=Xn(),Ra(n,e,s,a),n6(n,t,s))}}function t6(e){var t=e.alternate;return e===Pr||t!==null&&t===Pr}function r6(e,t){om=Rp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function n6(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ow(e,n)}}var Ip={readContext:ca,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},GD={readContext:ca,useCallback:function(e,t){return Va().memoizedState=[e,t===void 0?null:t],e},useContext:ca,useEffect:C_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tp(4194308,4,Z4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tp(4194308,4,e,t)},useInsertionEffect:function(e,t){return tp(4,2,e,t)},useMemo:function(e,t){var n=Va();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Va();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=zD.bind(null,Pr,e),[s.memoizedState,e]},useRef:function(e){var t=Va();return e={current:e},t.memoizedState=e},useState:k_,useDebugValue:ej,useDeferredValue:function(e){return Va().memoizedState=e},useTransition:function(){var e=k_(!1),t=e[0];return e=$D.bind(null,e[1]),Va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Pr,a=Va();if(xr){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=t(),pn===null)throw Error(Ee(349));oc&30||z4(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,C_(G4.bind(null,s,i,e),[e]),s.flags|=2048,Om(9,U4.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Va(),t=pn.identifierPrefix;if(xr){var n=Pi,s=Ci;n=(s&~(1<<32-Da(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Am++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=BD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WD={readContext:ca,useCallback:Q4,useContext:ca,useEffect:Xw,useImperativeHandle:Y4,useInsertionEffect:V4,useLayoutEffect:K4,useMemo:J4,useReducer:ty,useRef:q4,useState:function(){return ty(Em)},useDebugValue:ej,useDeferredValue:function(e){var t=da();return X4(t,Zr.memoizedState,e)},useTransition:function(){var e=ty(Em)[0],t=da().memoizedState;return[e,t]},useMutableSource:B4,useSyncExternalStore:$4,useId:e6,unstable_isNewReconciler:!1},HD={readContext:ca,useCallback:Q4,useContext:ca,useEffect:Xw,useImperativeHandle:Y4,useInsertionEffect:V4,useLayoutEffect:K4,useMemo:J4,useReducer:ry,useRef:q4,useState:function(){return ry(Em)},useDebugValue:ej,useDeferredValue:function(e){var t=da();return Zr===null?t.memoizedState=e:X4(t,Zr.memoizedState,e)},useTransition:function(){var e=ry(Em)[0],t=da().memoizedState;return[e,t]},useMutableSource:B4,useSyncExternalStore:$4,useId:e6,unstable_isNewReconciler:!1};function _a(e,t){if(e&&e.defaultProps){t=Ar({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nv(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ar({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zg={isMounted:function(e){return(e=e._reactInternals)?_c(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Xn(),a=Go(e),i=Oi(s,a);i.payload=t,n!=null&&(i.callback=n),t=zo(e,i,a),t!==null&&(Ra(t,e,a,s),Xf(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Xn(),a=Go(e),i=Oi(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=zo(e,i,a),t!==null&&(Ra(t,e,a,s),Xf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xn(),s=Go(e),a=Oi(n,s);a.tag=2,t!=null&&(a.callback=t),t=zo(e,a,s),t!==null&&(Ra(t,e,s,n),Xf(t,e,s))}};function P_(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Nm(n,s)||!Nm(a,i):!0}function s6(e,t,n){var s=!1,a=Yo,i=t.contextType;return typeof i=="object"&&i!==null?i=ca(i):(a=gs(t)?ac:In.current,s=t.contextTypes,i=(s=s!=null)?Ad(e,a):Yo),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zg,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function A_(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Zg.enqueueReplaceState(t,t.state,null)}function _v(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},qw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ca(i):(i=gs(t)?ac:In.current,a.context=Ad(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nv(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Zg.enqueueReplaceState(a,a.state,null),Mp(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ld(e,t){try{var n="",s=t;do n+=v7(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ny(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qD=typeof WeakMap=="function"?WeakMap:Map;function a6(e,t,n){n=Oi(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Bp||(Bp=!0,Dv=s),Sv(e,t)},n}function i6(e,t,n){n=Oi(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){Sv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sv(e,t),typeof s!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function E_(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new qD;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=iR.bind(null,e,t,n),t.then(e,e))}function O_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function T_(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Oi(-1,1),t.tag=2,zo(n,t,1))),n.lanes|=1),e)}var VD=Ki.ReactCurrentOwner,hs=!1;function qn(e,t,n,s){t.child=e===null?D4(t,null,n,s):Od(t,e.child,n,s)}function L_(e,t,n,s,a){n=n.render;var i=t.ref;return cd(t,a),s=Qw(e,t,n,s,i,a),n=Jw(),e!==null&&!hs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$i(e,t,a)):(xr&&n&&Bw(t),t.flags|=1,qn(e,t,s,a),t.child)}function M_(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!lj(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,o6(e,t,i,s,a)):(e=ap(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nm,n(o,s)&&e.ref===t.ref)return $i(e,t,a)}return t.flags|=1,e=Wo(i,s),e.ref=t.ref,e.return=t,t.child=e}function o6(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(Nm(i,s)&&e.ref===t.ref)if(hs=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(hs=!0);else return t.lanes=e.lanes,$i(e,t,a)}return kv(e,t,n,s,a)}function l6(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(td,As),As|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,or(td,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,or(td,As),As|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,or(td,As),As|=s;return qn(e,t,a,n),t.child}function c6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kv(e,t,n,s,a){var i=gs(n)?ac:In.current;return i=Ad(t,i),cd(t,a),n=Qw(e,t,n,s,i,a),s=Jw(),e!==null&&!hs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$i(e,t,a)):(xr&&s&&Bw(t),t.flags|=1,qn(e,t,n,a),t.child)}function D_(e,t,n,s,a){if(gs(n)){var i=!0;Ap(t)}else i=!1;if(cd(t,a),t.stateNode===null)rp(e,t),s6(t,n,s),_v(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var d=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ca(u):(u=gs(n)?ac:In.current,u=Ad(t,u));var m=n.getDerivedStateFromProps,f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||d!==u)&&A_(t,o,s,u),go=!1;var g=t.memoizedState;o.state=g,Mp(t,s,o,a),d=t.memoizedState,c!==s||g!==d||ps.current||go?(typeof m=="function"&&(Nv(t,n,m,s),d=t.memoizedState),(c=go||P_(t,n,c,s,g,d,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),o.props=s,o.state=d,o.context=u,s=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,I4(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:_a(t.type,c),o.props=u,f=t.pendingProps,g=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=ca(d):(d=gs(n)?ac:In.current,d=Ad(t,d));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==f||g!==d)&&A_(t,o,s,d),go=!1,g=t.memoizedState,o.state=g,Mp(t,s,o,a);var v=t.memoizedState;c!==f||g!==v||ps.current||go?(typeof x=="function"&&(Nv(t,n,x,s),v=t.memoizedState),(u=go||P_(t,n,u,s,g,v,d)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),o.props=s,o.state=v,o.context=d,s=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return Cv(e,t,n,s,i,a)}function Cv(e,t,n,s,a,i){c6(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&b_(t,n,!1),$i(e,t,i);s=t.stateNode,VD.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Od(t,e.child,null,i),t.child=Od(t,null,c,i)):qn(e,t,c,i),t.memoizedState=s.state,a&&b_(t,n,!0),t.child}function d6(e){var t=e.stateNode;t.pendingContext?v_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&v_(e,t.context,!1),Vw(e,t.containerInfo)}function R_(e,t,n,s,a){return Ed(),zw(a),t.flags|=256,qn(e,t,n,s),t.child}var Pv={dehydrated:null,treeContext:null,retryLane:0};function Av(e){return{baseLanes:e,cachePool:null,transitions:null}}function u6(e,t,n){var s=t.pendingProps,a=_r.current,i=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),or(_r,a&1),e===null)return wv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jg(o,s,0,null),e=Ql(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Av(n),t.memoizedState=Pv,e):tj(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return KD(e,t,o,s,c,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,c=a.sibling;var d={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Wo(a,d),s.subtreeFlags=a.subtreeFlags&14680064),c!==null?i=Wo(c,i):(i=Ql(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Av(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Pv,s}return i=e.child,e=i.sibling,s=Wo(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function tj(e,t){return t=Jg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function of(e,t,n,s){return s!==null&&zw(s),Od(t,e.child,null,n),e=tj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KD(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=ny(Error(Ee(422))),of(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Jg({mode:"visible",children:s.children},a,0,null),i=Ql(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Od(t,e.child,null,o),t.child.memoizedState=Av(o),t.memoizedState=Pv,i);if(!(t.mode&1))return of(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var c=s.dgst;return s=c,i=Error(Ee(419)),s=ny(i,s,void 0),of(e,t,o,s)}if(c=(o&e.childLanes)!==0,hs||c){if(s=pn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Bi(e,a),Ra(s,e,a,-1))}return oj(),s=ny(Error(Ee(421))),of(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=oR.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ms=$o(a.nextSibling),Ds=t,xr=!0,Pa=null,e!==null&&(ta[ra++]=Ci,ta[ra++]=Pi,ta[ra++]=ic,Ci=e.id,Pi=e.overflow,ic=t),t=tj(t,s.children),t.flags|=4096,t)}function I_(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),jv(e.return,t,n)}function sy(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function m6(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(qn(e,t,s.children,n),s=_r.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I_(e,n,t);else if(e.tag===19)I_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(or(_r,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Dp(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),sy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Dp(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}sy(t,!0,n,null,i);break;case"together":sy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $i(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,n=Wo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ZD(e,t,n){switch(t.tag){case 3:d6(t),Ed();break;case 5:F4(t);break;case 1:gs(t.type)&&Ap(t);break;case 4:Vw(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;or(Tp,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(or(_r,_r.current&1),t.flags|=128,null):n&t.child.childLanes?u6(e,t,n):(or(_r,_r.current&1),e=$i(e,t,n),e!==null?e.sibling:null);or(_r,_r.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return m6(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),or(_r,_r.current),s)break;return null;case 22:case 23:return t.lanes=0,l6(e,t,n)}return $i(e,t,n)}var h6,Ev,f6,p6;h6=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ev=function(){};f6=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Ll(ai.current);var i=null;switch(n){case"input":a=Jy(e,a),s=Jy(e,s),i=[];break;case"select":a=Ar({},a,{value:void 0}),s=Ar({},s,{value:void 0}),i=[];break;case"textarea":a=tv(e,a),s=tv(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Cp)}nv(n,s);var o;n=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var d=s[u];if(c=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&d!==c&&(d!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(i||(i=[]),i.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(i=i||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gm.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&mr("scroll",e),i||c===d||(i=[])):(i=i||[]).push(u,d))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};p6=function(e,t,n,s){n!==s&&(t.flags|=4)};function ku(e,t){if(!xr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function En(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function YD(e,t,n){var s=t.pendingProps;switch($w(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return gs(t.type)&&Pp(),En(t),null;case 3:return s=t.stateNode,Td(),fr(ps),fr(In),Zw(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(sf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pa!==null&&(Fv(Pa),Pa=null))),Ev(e,t),En(t),null;case 5:Kw(t);var a=Ll(Pm.current);if(n=t.type,e!==null&&t.stateNode!=null)f6(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ee(166));return En(t),null}if(e=Ll(ai.current),sf(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Xa]=t,s[km]=i,e=(t.mode&1)!==0,n){case"dialog":mr("cancel",s),mr("close",s);break;case"iframe":case"object":case"embed":mr("load",s);break;case"video":case"audio":for(a=0;a<Qu.length;a++)mr(Qu[a],s);break;case"source":mr("error",s);break;case"img":case"image":case"link":mr("error",s),mr("load",s);break;case"details":mr("toggle",s);break;case"input":q1(s,i),mr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},mr("invalid",s);break;case"textarea":K1(s,i),mr("invalid",s)}nv(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?s.textContent!==c&&(i.suppressHydrationWarning!==!0&&nf(s.textContent,c,e),a=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&nf(s.textContent,c,e),a=["children",""+c]):gm.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&mr("scroll",s)}switch(n){case"input":Zh(s),V1(s,i,!0);break;case"textarea":Zh(s),Z1(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Cp)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=G3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Xa]=t,e[km]=s,h6(e,t,!1,!1),t.stateNode=e;e:{switch(o=sv(n,s),n){case"dialog":mr("cancel",e),mr("close",e),a=s;break;case"iframe":case"object":case"embed":mr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Qu.length;a++)mr(Qu[a],e);a=s;break;case"source":mr("error",e),a=s;break;case"img":case"image":case"link":mr("error",e),mr("load",e),a=s;break;case"details":mr("toggle",e),a=s;break;case"input":q1(e,s),a=Jy(e,s),mr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Ar({},s,{value:void 0}),mr("invalid",e);break;case"textarea":K1(e,s),a=tv(e,s),mr("invalid",e);break;default:a=s}nv(n,a),c=a;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];i==="style"?q3(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&W3(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&xm(e,d):typeof d=="number"&&xm(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gm.hasOwnProperty(i)?d!=null&&i==="onScroll"&&mr("scroll",e):d!=null&&Sw(e,i,d,o))}switch(n){case"input":Zh(e),V1(e,s,!1);break;case"textarea":Zh(e),Z1(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Zo(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?ad(e,!!s.multiple,i,!1):s.defaultValue!=null&&ad(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cp)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(e&&t.stateNode!=null)p6(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ee(166));if(n=Ll(Pm.current),Ll(ai.current),sf(t)){if(s=t.stateNode,n=t.memoizedProps,s[Xa]=t,(i=s.nodeValue!==n)&&(e=Ds,e!==null))switch(e.tag){case 3:nf(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nf(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Xa]=t,t.stateNode=s}return En(t),null;case 13:if(fr(_r),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xr&&Ms!==null&&t.mode&1&&!(t.flags&128))L4(),Ed(),t.flags|=98560,i=!1;else if(i=sf(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[Xa]=t}else Ed(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),i=!1}else Pa!==null&&(Fv(Pa),Pa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||_r.current&1?Xr===0&&(Xr=3):oj())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return Td(),Ev(e,t),e===null&&_m(t.stateNode.containerInfo),En(t),null;case 10:return Ww(t.type._context),En(t),null;case 17:return gs(t.type)&&Pp(),En(t),null;case 19:if(fr(_r),i=t.memoizedState,i===null)return En(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)ku(i,!1);else{if(Xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dp(e),o!==null){for(t.flags|=128,ku(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return or(_r,_r.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ir()>Md&&(t.flags|=128,s=!0,ku(i,!1),t.lanes=4194304)}else{if(!s)if(e=Dp(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ku(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xr)return En(t),null}else 2*Ir()-i.renderingStartTime>Md&&n!==1073741824&&(t.flags|=128,s=!0,ku(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ir(),t.sibling=null,n=_r.current,or(_r,s?n&1|2:n&1),t):(En(t),null);case 22:case 23:return ij(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?As&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function QD(e,t){switch($w(t),t.tag){case 1:return gs(t.type)&&Pp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Td(),fr(ps),fr(In),Zw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kw(t),null;case 13:if(fr(_r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));Ed()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fr(_r),null;case 4:return Td(),null;case 10:return Ww(t.type._context),null;case 22:case 23:return ij(),null;case 24:return null;default:return null}}var lf=!1,Tn=!1,JD=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function ed(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Lr(e,t,s)}else n.current=null}function Ov(e,t,n){try{n()}catch(s){Lr(e,t,s)}}var F_=!1;function XD(e,t){if(fv=_p,e=b4(),Fw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,d=-1,u=0,m=0,f=e,g=null;t:for(;;){for(var x;f!==n||a!==0&&f.nodeType!==3||(c=o+a),f!==i||s!==0&&f.nodeType!==3||(d=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)g=f,f=x;for(;;){if(f===e)break t;if(g===n&&++u===a&&(c=o),g===i&&++m===s&&(d=o),(x=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=x}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(pv={focusedElem:e,selectionRange:n},_p=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,j=t.stateNode,S=j.getSnapshotBeforeUpdate(t.elementType===t.type?w:_a(t.type,w),b);j.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(k){Lr(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return v=F_,F_=!1,v}function lm(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ov(t,n,i)}a=a.next}while(a!==s)}}function Yg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Tv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function g6(e){var t=e.alternate;t!==null&&(e.alternate=null,g6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xa],delete t[km],delete t[yv],delete t[DD],delete t[RD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x6(e){return e.tag===5||e.tag===3||e.tag===4}function B_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lv(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cp));else if(s!==4&&(e=e.child,e!==null))for(Lv(e,t,n),e=e.sibling;e!==null;)Lv(e,t,n),e=e.sibling}function Mv(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Mv(e,t,n),e=e.sibling;e!==null;)Mv(e,t,n),e=e.sibling}var jn=null,Ca=!1;function lo(e,t,n){for(n=n.child;n!==null;)y6(e,t,n),n=n.sibling}function y6(e,t,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Ug,n)}catch{}switch(n.tag){case 5:Tn||ed(n,t);case 6:var s=jn,a=Ca;jn=null,lo(e,t,n),jn=s,Ca=a,jn!==null&&(Ca?(e=jn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jn.removeChild(n.stateNode));break;case 18:jn!==null&&(Ca?(e=jn,n=n.stateNode,e.nodeType===8?Q0(e.parentNode,n):e.nodeType===1&&Q0(e,n),wm(e)):Q0(jn,n.stateNode));break;case 4:s=jn,a=Ca,jn=n.stateNode.containerInfo,Ca=!0,lo(e,t,n),jn=s,Ca=a;break;case 0:case 11:case 14:case 15:if(!Tn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ov(n,t,o),a=a.next}while(a!==s)}lo(e,t,n);break;case 1:if(!Tn&&(ed(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){Lr(n,t,c)}lo(e,t,n);break;case 21:lo(e,t,n);break;case 22:n.mode&1?(Tn=(s=Tn)||n.memoizedState!==null,lo(e,t,n),Tn=s):lo(e,t,n);break;default:lo(e,t,n)}}function $_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new JD),t.forEach(function(s){var a=lR.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function ba(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:jn=c.stateNode,Ca=!1;break e;case 3:jn=c.stateNode.containerInfo,Ca=!0;break e;case 4:jn=c.stateNode.containerInfo,Ca=!0;break e}c=c.return}if(jn===null)throw Error(Ee(160));y6(i,o,a),jn=null,Ca=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){Lr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)v6(t,e),t=t.sibling}function v6(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ba(t,e),Ha(e),s&4){try{lm(3,e,e.return),Yg(3,e)}catch(w){Lr(e,e.return,w)}try{lm(5,e,e.return)}catch(w){Lr(e,e.return,w)}}break;case 1:ba(t,e),Ha(e),s&512&&n!==null&&ed(n,n.return);break;case 5:if(ba(t,e),Ha(e),s&512&&n!==null&&ed(n,n.return),e.flags&32){var a=e.stateNode;try{xm(a,"")}catch(w){Lr(e,e.return,w)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&z3(a,i),sv(c,o);var u=sv(c,i);for(o=0;o<d.length;o+=2){var m=d[o],f=d[o+1];m==="style"?q3(a,f):m==="dangerouslySetInnerHTML"?W3(a,f):m==="children"?xm(a,f):Sw(a,m,f,u)}switch(c){case"input":Xy(a,i);break;case"textarea":U3(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ad(a,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?ad(a,!!i.multiple,i.defaultValue,!0):ad(a,!!i.multiple,i.multiple?[]:"",!1))}a[km]=i}catch(w){Lr(e,e.return,w)}}break;case 6:if(ba(t,e),Ha(e),s&4){if(e.stateNode===null)throw Error(Ee(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){Lr(e,e.return,w)}}break;case 3:if(ba(t,e),Ha(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{wm(t.containerInfo)}catch(w){Lr(e,e.return,w)}break;case 4:ba(t,e),Ha(e);break;case 13:ba(t,e),Ha(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(sj=Ir())),s&4&&$_(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Tn=(u=Tn)||m,ba(t,e),Tn=u):ba(t,e),Ha(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(Ke=e,m=e.child;m!==null;){for(f=Ke=m;Ke!==null;){switch(g=Ke,x=g.child,g.tag){case 0:case 11:case 14:case 15:lm(4,g,g.return);break;case 1:ed(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Lr(s,n,w)}}break;case 5:ed(g,g.return);break;case 22:if(g.memoizedState!==null){U_(f);continue}}x!==null?(x.return=g,Ke=x):U_(f)}m=m.sibling}e:for(m=null,f=e;;){if(f.tag===5){if(m===null){m=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=f.stateNode,d=f.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=H3("display",o))}catch(w){Lr(e,e.return,w)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Lr(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ba(t,e),Ha(e),s&4&&$_(e);break;case 21:break;default:ba(t,e),Ha(e)}}function Ha(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(x6(n)){var s=n;break e}n=n.return}throw Error(Ee(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(xm(a,""),s.flags&=-33);var i=B_(e);Mv(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,c=B_(e);Lv(e,c,o);break;default:throw Error(Ee(161))}}catch(d){Lr(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eR(e,t,n){Ke=e,b6(e)}function b6(e,t,n){for(var s=(e.mode&1)!==0;Ke!==null;){var a=Ke,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||lf;if(!o){var c=a.alternate,d=c!==null&&c.memoizedState!==null||Tn;c=lf;var u=Tn;if(lf=o,(Tn=d)&&!u)for(Ke=a;Ke!==null;)o=Ke,d=o.child,o.tag===22&&o.memoizedState!==null?G_(a):d!==null?(d.return=o,Ke=d):G_(a);for(;i!==null;)Ke=i,b6(i),i=i.sibling;Ke=a,lf=c,Tn=u}z_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ke=i):z_(e)}}function z_(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tn||Yg(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Tn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:_a(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&S_(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}S_(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&wm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Tn||t.flags&512&&Tv(t)}catch(g){Lr(t,t.return,g)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function U_(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function G_(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yg(4,t)}catch(d){Lr(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){Lr(t,a,d)}}var i=t.return;try{Tv(t)}catch(d){Lr(t,i,d)}break;case 5:var o=t.return;try{Tv(t)}catch(d){Lr(t,o,d)}}}catch(d){Lr(t,t.return,d)}if(t===e){Ke=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ke=c;break}Ke=t.return}}var tR=Math.ceil,Fp=Ki.ReactCurrentDispatcher,rj=Ki.ReactCurrentOwner,oa=Ki.ReactCurrentBatchConfig,Et=0,pn=null,Wr=null,_n=0,As=0,td=ol(0),Xr=0,Tm=null,lc=0,Qg=0,nj=0,cm=null,ms=null,sj=0,Md=1/0,vi=null,Bp=!1,Dv=null,Uo=null,cf=!1,Mo=null,$p=0,dm=0,Rv=null,np=-1,sp=0;function Xn(){return Et&6?Ir():np!==-1?np:np=Ir()}function Go(e){return e.mode&1?Et&2&&_n!==0?_n&-_n:FD.transition!==null?(sp===0&&(sp=s4()),sp):(e=Kt,e!==0||(e=window.event,e=e===void 0?16:u4(e.type)),e):1}function Ra(e,t,n,s){if(50<dm)throw dm=0,Rv=null,Error(Ee(185));rh(e,n,s),(!(Et&2)||e!==pn)&&(e===pn&&(!(Et&2)&&(Qg|=n),Xr===4&&bo(e,_n)),xs(e,s),n===1&&Et===0&&!(t.mode&1)&&(Md=Ir()+500,Vg&&ll()))}function xs(e,t){var n=e.callbackNode;F7(e,t);var s=Np(e,e===pn?_n:0);if(s===0)n!==null&&J1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&J1(n),t===1)e.tag===0?ID(W_.bind(null,e)):E4(W_.bind(null,e)),LD(function(){!(Et&6)&&ll()}),n=null;else{switch(a4(s)){case 1:n=Ew;break;case 4:n=r4;break;case 16:n=jp;break;case 536870912:n=n4;break;default:n=jp}n=P6(n,w6.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function w6(e,t){if(np=-1,sp=0,Et&6)throw Error(Ee(327));var n=e.callbackNode;if(dd()&&e.callbackNode!==n)return null;var s=Np(e,e===pn?_n:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=zp(e,s);else{t=s;var a=Et;Et|=2;var i=N6();(pn!==e||_n!==t)&&(vi=null,Md=Ir()+500,Yl(e,t));do try{sR();break}catch(c){j6(e,c)}while(!0);Gw(),Fp.current=i,Et=a,Wr!==null?t=0:(pn=null,_n=0,t=Xr)}if(t!==0){if(t===2&&(a=cv(e),a!==0&&(s=a,t=Iv(e,a))),t===1)throw n=Tm,Yl(e,0),bo(e,s),xs(e,Ir()),n;if(t===6)bo(e,s);else{if(a=e.current.alternate,!(s&30)&&!rR(a)&&(t=zp(e,s),t===2&&(i=cv(e),i!==0&&(s=i,t=Iv(e,i))),t===1))throw n=Tm,Yl(e,0),bo(e,s),xs(e,Ir()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Ee(345));case 2:kl(e,ms,vi);break;case 3:if(bo(e,s),(s&130023424)===s&&(t=sj+500-Ir(),10<t)){if(Np(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Xn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=xv(kl.bind(null,e,ms,vi),t);break}kl(e,ms,vi);break;case 4:if(bo(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Da(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Ir()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*tR(s/1960))-s,10<s){e.timeoutHandle=xv(kl.bind(null,e,ms,vi),s);break}kl(e,ms,vi);break;case 5:kl(e,ms,vi);break;default:throw Error(Ee(329))}}}return xs(e,Ir()),e.callbackNode===n?w6.bind(null,e):null}function Iv(e,t){var n=cm;return e.current.memoizedState.isDehydrated&&(Yl(e,t).flags|=256),e=zp(e,t),e!==2&&(t=ms,ms=n,t!==null&&Fv(t)),e}function Fv(e){ms===null?ms=e:ms.push.apply(ms,e)}function rR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Ia(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bo(e,t){for(t&=~nj,t&=~Qg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Da(t),s=1<<n;e[n]=-1,t&=~s}}function W_(e){if(Et&6)throw Error(Ee(327));dd();var t=Np(e,0);if(!(t&1))return xs(e,Ir()),null;var n=zp(e,t);if(e.tag!==0&&n===2){var s=cv(e);s!==0&&(t=s,n=Iv(e,s))}if(n===1)throw n=Tm,Yl(e,0),bo(e,t),xs(e,Ir()),n;if(n===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,ms,vi),xs(e,Ir()),null}function aj(e,t){var n=Et;Et|=1;try{return e(t)}finally{Et=n,Et===0&&(Md=Ir()+500,Vg&&ll())}}function cc(e){Mo!==null&&Mo.tag===0&&!(Et&6)&&dd();var t=Et;Et|=1;var n=oa.transition,s=Kt;try{if(oa.transition=null,Kt=1,e)return e()}finally{Kt=s,oa.transition=n,Et=t,!(Et&6)&&ll()}}function ij(){As=td.current,fr(td)}function Yl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TD(n)),Wr!==null)for(n=Wr.return;n!==null;){var s=n;switch($w(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Pp();break;case 3:Td(),fr(ps),fr(In),Zw();break;case 5:Kw(s);break;case 4:Td();break;case 13:fr(_r);break;case 19:fr(_r);break;case 10:Ww(s.type._context);break;case 22:case 23:ij()}n=n.return}if(pn=e,Wr=e=Wo(e.current,null),_n=As=t,Xr=0,Tm=null,nj=Qg=lc=0,ms=cm=null,Tl!==null){for(t=0;t<Tl.length;t++)if(n=Tl[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}Tl=null}return e}function j6(e,t){do{var n=Wr;try{if(Gw(),ep.current=Ip,Rp){for(var s=Pr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Rp=!1}if(oc=0,hn=Zr=Pr=null,om=!1,Am=0,rj.current=null,n===null||n.return===null){Xr=1,Tm=t,Wr=null;break}e:{var i=e,o=n.return,c=n,d=t;if(t=_n,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,m=c,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=O_(o);if(x!==null){x.flags&=-257,T_(x,o,c,i,t),x.mode&1&&E_(i,u,t),t=x,d=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(d),t.updateQueue=w}else v.add(d);break e}else{if(!(t&1)){E_(i,u,t),oj();break e}d=Error(Ee(426))}}else if(xr&&c.mode&1){var b=O_(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),T_(b,o,c,i,t),zw(Ld(d,c));break e}}i=d=Ld(d,c),Xr!==4&&(Xr=2),cm===null?cm=[i]:cm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=a6(i,d,t);__(i,j);break e;case 1:c=d;var S=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Uo===null||!Uo.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=i6(i,c,t);__(i,k);break e}}i=i.return}while(i!==null)}S6(n)}catch(A){t=A,Wr===n&&n!==null&&(Wr=n=n.return);continue}break}while(!0)}function N6(){var e=Fp.current;return Fp.current=Ip,e===null?Ip:e}function oj(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),pn===null||!(lc&268435455)&&!(Qg&268435455)||bo(pn,_n)}function zp(e,t){var n=Et;Et|=2;var s=N6();(pn!==e||_n!==t)&&(vi=null,Yl(e,t));do try{nR();break}catch(a){j6(e,a)}while(!0);if(Gw(),Et=n,Fp.current=s,Wr!==null)throw Error(Ee(261));return pn=null,_n=0,Xr}function nR(){for(;Wr!==null;)_6(Wr)}function sR(){for(;Wr!==null&&!A7();)_6(Wr)}function _6(e){var t=C6(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?S6(e):Wr=t,rj.current=null}function S6(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QD(n,t),n!==null){n.flags&=32767,Wr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xr=6,Wr=null;return}}else if(n=YD(n,t,As),n!==null){Wr=n;return}if(t=t.sibling,t!==null){Wr=t;return}Wr=t=e}while(t!==null);Xr===0&&(Xr=5)}function kl(e,t,n){var s=Kt,a=oa.transition;try{oa.transition=null,Kt=1,aR(e,t,n,s)}finally{oa.transition=a,Kt=s}return null}function aR(e,t,n,s){do dd();while(Mo!==null);if(Et&6)throw Error(Ee(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(B7(e,i),e===pn&&(Wr=pn=null,_n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cf||(cf=!0,P6(jp,function(){return dd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=oa.transition,oa.transition=null;var o=Kt;Kt=1;var c=Et;Et|=4,rj.current=null,XD(e,n),v6(n,e),SD(pv),_p=!!fv,pv=fv=null,e.current=n,eR(n),E7(),Et=c,Kt=o,oa.transition=i}else e.current=n;if(cf&&(cf=!1,Mo=e,$p=a),i=e.pendingLanes,i===0&&(Uo=null),L7(n.stateNode),xs(e,Ir()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Bp)throw Bp=!1,e=Dv,Dv=null,e;return $p&1&&e.tag!==0&&dd(),i=e.pendingLanes,i&1?e===Rv?dm++:(dm=0,Rv=e):dm=0,ll(),null}function dd(){if(Mo!==null){var e=a4($p),t=oa.transition,n=Kt;try{if(oa.transition=null,Kt=16>e?16:e,Mo===null)var s=!1;else{if(e=Mo,Mo=null,$p=0,Et&6)throw Error(Ee(331));var a=Et;for(Et|=4,Ke=e.current;Ke!==null;){var i=Ke,o=i.child;if(Ke.flags&16){var c=i.deletions;if(c!==null){for(var d=0;d<c.length;d++){var u=c[d];for(Ke=u;Ke!==null;){var m=Ke;switch(m.tag){case 0:case 11:case 15:lm(8,m,i)}var f=m.child;if(f!==null)f.return=m,Ke=f;else for(;Ke!==null;){m=Ke;var g=m.sibling,x=m.return;if(g6(m),m===u){Ke=null;break}if(g!==null){g.return=x,Ke=g;break}Ke=x}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}Ke=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ke=o;else e:for(;Ke!==null;){if(i=Ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lm(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,Ke=j;break e}Ke=i.return}}var S=e.current;for(Ke=S;Ke!==null;){o=Ke;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ke=_;else e:for(o=S;Ke!==null;){if(c=Ke,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Yg(9,c)}}catch(A){Lr(c,c.return,A)}if(c===o){Ke=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,Ke=k;break e}Ke=c.return}}if(Et=a,ll(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Ug,e)}catch{}s=!0}return s}finally{Kt=n,oa.transition=t}}return!1}function H_(e,t,n){t=Ld(n,t),t=a6(e,t,1),e=zo(e,t,1),t=Xn(),e!==null&&(rh(e,1,t),xs(e,t))}function Lr(e,t,n){if(e.tag===3)H_(e,e,n);else for(;t!==null;){if(t.tag===3){H_(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Uo===null||!Uo.has(s))){e=Ld(n,e),e=i6(t,e,1),t=zo(t,e,1),e=Xn(),t!==null&&(rh(t,1,e),xs(t,e));break}}t=t.return}}function iR(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Xn(),e.pingedLanes|=e.suspendedLanes&n,pn===e&&(_n&n)===n&&(Xr===4||Xr===3&&(_n&130023424)===_n&&500>Ir()-sj?Yl(e,0):nj|=n),xs(e,t)}function k6(e,t){t===0&&(e.mode&1?(t=Jh,Jh<<=1,!(Jh&130023424)&&(Jh=4194304)):t=1);var n=Xn();e=Bi(e,t),e!==null&&(rh(e,t,n),xs(e,n))}function oR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),k6(e,n)}function lR(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ee(314))}s!==null&&s.delete(t),k6(e,n)}var C6;C6=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ps.current)hs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hs=!1,ZD(e,t,n);hs=!!(e.flags&131072)}else hs=!1,xr&&t.flags&1048576&&O4(t,Op,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;rp(e,t),e=t.pendingProps;var a=Ad(t,In.current);cd(t,n),a=Qw(null,t,s,e,a,n);var i=Jw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gs(s)?(i=!0,Ap(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qw(t),a.updater=Zg,t.stateNode=a,a._reactInternals=t,_v(t,s,e,n),t=Cv(null,t,s,!0,i,n)):(t.tag=0,xr&&i&&Bw(t),qn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(rp(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=dR(s),e=_a(s,e),a){case 0:t=kv(null,t,s,e,n);break e;case 1:t=D_(null,t,s,e,n);break e;case 11:t=L_(null,t,s,e,n);break e;case 14:t=M_(null,t,s,_a(s.type,e),n);break e}throw Error(Ee(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_a(s,a),kv(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_a(s,a),D_(e,t,s,a,n);case 3:e:{if(d6(t),e===null)throw Error(Ee(387));s=t.pendingProps,i=t.memoizedState,a=i.element,I4(e,t),Mp(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ld(Error(Ee(423)),t),t=R_(e,t,s,n,a);break e}else if(s!==a){a=Ld(Error(Ee(424)),t),t=R_(e,t,s,n,a);break e}else for(Ms=$o(t.stateNode.containerInfo.firstChild),Ds=t,xr=!0,Pa=null,n=D4(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ed(),s===a){t=$i(e,t,n);break e}qn(e,t,s,n)}t=t.child}return t;case 5:return F4(t),e===null&&wv(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,gv(s,a)?o=null:i!==null&&gv(s,i)&&(t.flags|=32),c6(e,t),qn(e,t,o,n),t.child;case 6:return e===null&&wv(t),null;case 13:return u6(e,t,n);case 4:return Vw(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Od(t,null,s,n):qn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_a(s,a),L_(e,t,s,a,n);case 7:return qn(e,t,t.pendingProps,n),t.child;case 8:return qn(e,t,t.pendingProps.children,n),t.child;case 12:return qn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,or(Tp,s._currentValue),s._currentValue=o,i!==null)if(Ia(i.value,o)){if(i.children===a.children&&!ps.current){t=$i(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var d=c.firstContext;d!==null;){if(d.context===s){if(i.tag===1){d=Oi(-1,n&-n),d.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),jv(i.return,n,t),c.lanes|=n;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ee(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),jv(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,cd(t,n),a=ca(a),s=s(a),t.flags|=1,qn(e,t,s,n),t.child;case 14:return s=t.type,a=_a(s,t.pendingProps),a=_a(s.type,a),M_(e,t,s,a,n);case 15:return o6(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_a(s,a),rp(e,t),t.tag=1,gs(s)?(e=!0,Ap(t)):e=!1,cd(t,n),s6(t,s,a),_v(t,s,a,n),Cv(null,t,s,!0,e,n);case 19:return m6(e,t,n);case 22:return l6(e,t,n)}throw Error(Ee(156,t.tag))};function P6(e,t){return t4(e,t)}function cR(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,n,s){return new cR(e,t,n,s)}function lj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dR(e){if(typeof e=="function")return lj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cw)return 11;if(e===Pw)return 14}return 2}function Wo(e,t){var n=e.alternate;return n===null?(n=aa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ap(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")lj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hc:return Ql(n.children,a,i,t);case kw:o=8,a|=8;break;case Ky:return e=aa(12,n,t,a|2),e.elementType=Ky,e.lanes=i,e;case Zy:return e=aa(13,n,t,a),e.elementType=Zy,e.lanes=i,e;case Yy:return e=aa(19,n,t,a),e.elementType=Yy,e.lanes=i,e;case F3:return Jg(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R3:o=10;break e;case I3:o=9;break e;case Cw:o=11;break e;case Pw:o=14;break e;case po:o=16,s=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=aa(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Ql(e,t,n,s){return e=aa(7,e,s,t),e.lanes=n,e}function Jg(e,t,n,s){return e=aa(22,e,s,t),e.elementType=F3,e.lanes=n,e.stateNode={isHidden:!1},e}function ay(e,t,n){return e=aa(6,e,null,t),e.lanes=n,e}function iy(e,t,n){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uR(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$0(0),this.expirationTimes=$0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$0(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cj(e,t,n,s,a,i,o,c,d){return e=new uR(e,t,n,c,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=aa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qw(i),e}function mR(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wc,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function A6(e){if(!e)return Yo;e=e._reactInternals;e:{if(_c(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var n=e.type;if(gs(n))return A4(e,n,t)}return t}function E6(e,t,n,s,a,i,o,c,d){return e=cj(n,s,!0,e,a,i,o,c,d),e.context=A6(null),n=e.current,s=Xn(),a=Go(n),i=Oi(s,a),i.callback=t??null,zo(n,i,a),e.current.lanes=a,rh(e,a,s),xs(e,s),e}function Xg(e,t,n,s){var a=t.current,i=Xn(),o=Go(a);return n=A6(n),t.context===null?t.context=n:t.pendingContext=n,t=Oi(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=zo(a,t,o),e!==null&&(Ra(e,a,o,i),Xf(e,a,o)),o}function Up(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function q_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dj(e,t){q_(e,t),(e=e.alternate)&&q_(e,t)}function hR(){return null}var O6=typeof reportError=="function"?reportError:function(e){console.error(e)};function uj(e){this._internalRoot=e}ex.prototype.render=uj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));Xg(e,t,null,null)};ex.prototype.unmount=uj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cc(function(){Xg(null,e,null,null)}),t[Fi]=null}};function ex(e){this._internalRoot=e}ex.prototype.unstable_scheduleHydration=function(e){if(e){var t=l4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vo.length&&t!==0&&t<vo[n].priority;n++);vo.splice(n,0,e),n===0&&d4(e)}};function mj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function V_(){}function fR(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var u=Up(o);i.call(u)}}var o=E6(t,s,e,0,null,!1,!1,"",V_);return e._reactRootContainer=o,e[Fi]=o.current,_m(e.nodeType===8?e.parentNode:e),cc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var c=s;s=function(){var u=Up(d);c.call(u)}}var d=cj(e,0,!1,null,null,!1,!1,"",V_);return e._reactRootContainer=d,e[Fi]=d.current,_m(e.nodeType===8?e.parentNode:e),cc(function(){Xg(t,d,n,s)}),d}function rx(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var c=a;a=function(){var d=Up(o);c.call(d)}}Xg(t,o,e,a)}else o=fR(n,t,e,a,s);return Up(o)}i4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yu(t.pendingLanes);n!==0&&(Ow(t,n|1),xs(t,Ir()),!(Et&6)&&(Md=Ir()+500,ll()))}break;case 13:cc(function(){var s=Bi(e,1);if(s!==null){var a=Xn();Ra(s,e,1,a)}}),dj(e,1)}};Tw=function(e){if(e.tag===13){var t=Bi(e,134217728);if(t!==null){var n=Xn();Ra(t,e,134217728,n)}dj(e,134217728)}};o4=function(e){if(e.tag===13){var t=Go(e),n=Bi(e,t);if(n!==null){var s=Xn();Ra(n,e,t,s)}dj(e,t)}};l4=function(){return Kt};c4=function(e,t){var n=Kt;try{return Kt=e,t()}finally{Kt=n}};iv=function(e,t,n){switch(t){case"input":if(Xy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=qg(s);if(!a)throw Error(Ee(90));$3(s),Xy(s,a)}}}break;case"textarea":U3(e,n);break;case"select":t=n.value,t!=null&&ad(e,!!n.multiple,t,!1)}};Z3=aj;Y3=cc;var pR={usingClientEntryPoint:!1,Events:[sh,Zc,qg,V3,K3,aj]},Cu={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gR={bundleType:Cu.bundleType,version:Cu.version,rendererPackageName:Cu.rendererPackageName,rendererConfig:Cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X3(e),e===null?null:e.stateNode},findFiberByHostInstance:Cu.findFiberByHostInstance||hR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Ug=df.inject(gR),si=df}catch{}}zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pR;zs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mj(t))throw Error(Ee(200));return mR(e,t,null,n)};zs.createRoot=function(e,t){if(!mj(e))throw Error(Ee(299));var n=!1,s="",a=O6;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=cj(e,1,!1,null,null,n,!1,s,a),e[Fi]=t.current,_m(e.nodeType===8?e.parentNode:e),new uj(t)};zs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=X3(t),e=e===null?null:e.stateNode,e};zs.flushSync=function(e){return cc(e)};zs.hydrate=function(e,t,n){if(!tx(t))throw Error(Ee(200));return rx(null,e,t,!0,n)};zs.hydrateRoot=function(e,t,n){if(!mj(e))throw Error(Ee(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=O6;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=E6(t,null,e,1,n??null,a,!1,i,o),e[Fi]=t.current,_m(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ex(t)};zs.render=function(e,t,n){if(!tx(t))throw Error(Ee(200));return rx(null,e,t,!1,n)};zs.unmountComponentAtNode=function(e){if(!tx(e))throw Error(Ee(40));return e._reactRootContainer?(cc(function(){rx(null,null,e,!1,function(){e._reactRootContainer=null,e[Fi]=null})}),!0):!1};zs.unstable_batchedUpdates=aj;zs.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!tx(n))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return rx(e,t,n,!1,s)};zs.version="18.3.1-next-f1338f8080-20240426";function T6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T6)}catch(e){console.error(e)}}T6(),T3.exports=zs;var nx=T3.exports,K_=nx;qy.createRoot=K_.createRoot,qy.hydrateRoot=K_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lm.apply(this,arguments)}var Do;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Do||(Do={}));const Z_="popstate";function xR(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:c}=s.location;return Bv("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Gp(a)}return vR(t,n,null,e)}function Fr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yR(){return Math.random().toString(36).substr(2,8)}function Y_(e,t){return{usr:e.state,key:e.key,idx:t}}function Bv(e,t,n,s){return n===void 0&&(n=null),Lm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zd(t):t,{state:n,key:t&&t.key||s||yR()})}function Gp(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Zd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function vR(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,c=Do.Pop,d=null,u=m();u==null&&(u=0,o.replaceState(Lm({},o.state,{idx:u}),""));function m(){return(o.state||{idx:null}).idx}function f(){c=Do.Pop;let b=m(),j=b==null?null:b-u;u=b,d&&d({action:c,location:w.location,delta:j})}function g(b,j){c=Do.Push;let S=Bv(w.location,b,j);u=m()+1;let _=Y_(S,u),k=w.createHref(S);try{o.pushState(_,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(k)}i&&d&&d({action:c,location:w.location,delta:1})}function x(b,j){c=Do.Replace;let S=Bv(w.location,b,j);u=m();let _=Y_(S,u),k=w.createHref(S);o.replaceState(_,"",k),i&&d&&d({action:c,location:w.location,delta:0})}function v(b){let j=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof b=="string"?b:Gp(b);return S=S.replace(/ $/,"%20"),Fr(j,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,j)}let w={get action(){return c},get location(){return e(a,o)},listen(b){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Z_,f),d=b,()=>{a.removeEventListener(Z_,f),d=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let j=v(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:g,replace:x,go(b){return o.go(b)}};return w}var Q_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q_||(Q_={}));function bR(e,t,n){return n===void 0&&(n="/"),wR(e,t,n)}function wR(e,t,n,s){let a=typeof t=="string"?Zd(t):t,i=hj(a.pathname||"/",n);if(i==null)return null;let o=M6(e);jR(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=MR(i);c=OR(o[d],u)}return c}function M6(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(Fr(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let u=Ho([s,d.relativePath]),m=n.concat(d);i.children&&i.children.length>0&&(Fr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),M6(i.children,t,m,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:AR(u,i.index),routesMeta:m})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let d of D6(i.path))a(i,o,d)}),t}function D6(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=D6(s.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function jR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ER(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const NR=/^:[\w-]+$/,_R=3,SR=2,kR=1,CR=10,PR=-2,J_=e=>e==="*";function AR(e,t){let n=e.split("/"),s=n.length;return n.some(J_)&&(s+=PR),t&&(s+=SR),n.filter(a=>!J_(a)).reduce((a,i)=>a+(NR.test(i)?_R:i===""?kR:CR),s)}function ER(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function OR(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let c=0;c<s.length;++c){let d=s[c],u=c===s.length-1,m=i==="/"?t:t.slice(i.length)||"/",f=TR({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},m),g=d.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ho([i,f.pathname]),pathnameBase:FR(Ho([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Ho([i,f.pathnameBase]))}return o}function TR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=LR(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:s.reduce((u,m,f)=>{let{paramName:g,isOptional:x}=m;if(g==="*"){let w=c[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=c[f];return x&&!v?u[g]=void 0:u[g]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function LR(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),L6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function MR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return L6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function DR(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Zd(e):e;return{pathname:n?n.startsWith("/")?n:RR(n,t):t,search:BR(s),hash:$R(a)}}function RR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function oy(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fj(e,t){let n=IR(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function pj(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Zd(e):(a=Lm({},e),Fr(!a.pathname||!a.pathname.includes("?"),oy("?","pathname","search",a)),Fr(!a.pathname||!a.pathname.includes("#"),oy("#","pathname","hash",a)),Fr(!a.search||!a.search.includes("#"),oy("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}c=f>=0?t[f]:"/"}let d=DR(a,c),u=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||m)&&(d.pathname+="/"),d}const Ho=e=>e.join("/").replace(/\/\/+/g,"/"),FR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$R=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const R6=["post","put","patch","delete"];new Set(R6);const UR=["get",...R6];new Set(UR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mm.apply(this,arguments)}const gj=p.createContext(null),GR=p.createContext(null),cl=p.createContext(null),sx=p.createContext(null),Zi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),I6=p.createContext(null);function WR(e,t){let{relative:n}=t===void 0?{}:t;Yd()||Fr(!1);let{basename:s,navigator:a}=p.useContext(cl),{hash:i,pathname:o,search:c}=B6(e,{relative:n}),d=o;return s!=="/"&&(d=o==="/"?s:Ho([s,o])),a.createHref({pathname:d,search:c,hash:i})}function Yd(){return p.useContext(sx)!=null}function dl(){return Yd()||Fr(!1),p.useContext(sx).location}function F6(e){p.useContext(cl).static||p.useLayoutEffect(e)}function Yt(){let{isDataRoute:e}=p.useContext(Zi);return e?nI():HR()}function HR(){Yd()||Fr(!1);let e=p.useContext(gj),{basename:t,future:n,navigator:s}=p.useContext(cl),{matches:a}=p.useContext(Zi),{pathname:i}=dl(),o=JSON.stringify(fj(a,n.v7_relativeSplatPath)),c=p.useRef(!1);return F6(()=>{c.current=!0}),p.useCallback(function(u,m){if(m===void 0&&(m={}),!c.current)return;if(typeof u=="number"){s.go(u);return}let f=pj(u,JSON.parse(o),i,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ho([t,f.pathname])),(m.replace?s.replace:s.push)(f,m.state,m)},[t,s,o,i,e])}function ul(){let{matches:e}=p.useContext(Zi),t=e[e.length-1];return t?t.params:{}}function B6(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=p.useContext(cl),{matches:a}=p.useContext(Zi),{pathname:i}=dl(),o=JSON.stringify(fj(a,s.v7_relativeSplatPath));return p.useMemo(()=>pj(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function qR(e,t){return VR(e,t)}function VR(e,t,n,s){Yd()||Fr(!1);let{navigator:a}=p.useContext(cl),{matches:i}=p.useContext(Zi),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=dl(),m;if(t){var f;let b=typeof t=="string"?Zd(t):t;d==="/"||(f=b.pathname)!=null&&f.startsWith(d)||Fr(!1),m=b}else m=u;let g=m.pathname||"/",x=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=bR(e,{pathname:x}),w=JR(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Ho([d,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Ho([d,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,s);return t&&w?p.createElement(sx.Provider,{value:{location:Mm({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Do.Pop}},w):w}function KR(){let e=rI(),t=zR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,null)}const ZR=p.createElement(KR,null);class YR extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Zi.Provider,{value:this.props.routeContext},p.createElement(I6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QR(e){let{routeContext:t,match:n,children:s}=e,a=p.useContext(gj);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Zi.Provider,{value:t},s)}function JR(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(a=n)==null?void 0:a.errors;if(c!=null){let m=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);m>=0||Fr(!1),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let m=0;m<o.length;m++){let f=o[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:g,errors:x}=n,v=f.route.loader&&g[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||v){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,f,g)=>{let x,v=!1,w=null,b=null;n&&(x=c&&f.route.id?c[f.route.id]:void 0,w=f.route.errorElement||ZR,d&&(u<0&&g===0?(sI("route-fallback"),v=!0,b=null):u===g&&(v=!0,b=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,g+1)),S=()=>{let _;return x?_=w:v?_=b:f.route.Component?_=p.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=m,p.createElement(QR,{match:f,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(YR,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}var $6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($6||{}),z6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(z6||{});function XR(e){let t=p.useContext(gj);return t||Fr(!1),t}function eI(e){let t=p.useContext(GR);return t||Fr(!1),t}function tI(e){let t=p.useContext(Zi);return t||Fr(!1),t}function U6(e){let t=tI(),n=t.matches[t.matches.length-1];return n.route.id||Fr(!1),n.route.id}function rI(){var e;let t=p.useContext(I6),n=eI(),s=U6();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function nI(){let{router:e}=XR($6.UseNavigateStable),t=U6(z6.UseNavigateStable),n=p.useRef(!1);return F6(()=>{n.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Mm({fromRouteId:t},i)))},[e,t])}const X_={};function sI(e,t,n){X_[e]||(X_[e]=!0)}function aI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function iI(e){let{to:t,replace:n,state:s,relative:a}=e;Yd()||Fr(!1);let{future:i,static:o}=p.useContext(cl),{matches:c}=p.useContext(Zi),{pathname:d}=dl(),u=Yt(),m=pj(t,fj(c,i.v7_relativeSplatPath),d,a==="path"),f=JSON.stringify(m);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:a}),[u,f,a,n,s]),null}function ot(e){Fr(!1)}function oI(e){let{basename:t="/",children:n=null,location:s,navigationType:a=Do.Pop,navigator:i,static:o=!1,future:c}=e;Yd()&&Fr(!1);let d=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:d,navigator:i,static:o,future:Mm({v7_relativeSplatPath:!1},c)}),[d,c,i,o]);typeof s=="string"&&(s=Zd(s));let{pathname:m="/",search:f="",hash:g="",state:x=null,key:v="default"}=s,w=p.useMemo(()=>{let b=hj(m,d);return b==null?null:{location:{pathname:b,search:f,hash:g,state:x,key:v},navigationType:a}},[d,m,f,g,x,v,a]);return w==null?null:p.createElement(cl.Provider,{value:u},p.createElement(sx.Provider,{children:n,value:w}))}function lI(e){let{children:t,location:n}=e;return qR($v(t),n)}new Promise(()=>{});function $v(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(s,a)=>{if(!p.isValidElement(s))return;let i=[...t,a];if(s.type===p.Fragment){n.push.apply(n,$v(s.props.children,i));return}s.type!==ot&&Fr(!1),!s.props.index||!s.props.children||Fr(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=$v(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zv.apply(this,arguments)}function cI(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function dI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uI(e,t){return e.button===0&&(!t||t==="_self")&&!dI(e)}function Uv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function mI(e,t){let n=Uv(e);return t&&t.forEach((s,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const hI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fI="6";try{window.__reactRouterVersion=fI}catch{}const pI="startTransition",eS=E3[pI];function gI(e){let{basename:t,children:n,future:s,window:a}=e,i=p.useRef();i.current==null&&(i.current=xR({window:a,v5Compat:!0}));let o=i.current,[c,d]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},m=p.useCallback(f=>{u&&eS?eS(()=>d(f)):d(f)},[d,u]);return p.useLayoutEffect(()=>o.listen(m),[o,m]),p.useEffect(()=>aI(s),[s]),p.createElement(oI,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:s})}const xI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=p.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:c,target:d,to:u,preventScrollReset:m,viewTransition:f}=t,g=cI(t,hI),{basename:x}=p.useContext(cl),v,w=!1;if(typeof u=="string"&&yI.test(u)&&(v=u,xI))try{let _=new URL(window.location.href),k=u.startsWith("//")?new URL(_.protocol+u):new URL(u),A=hj(k.pathname,x);k.origin===_.origin&&A!=null?u=A+k.search+k.hash:w=!0}catch{}let b=WR(u,{relative:a}),j=vI(u,{replace:o,state:c,target:d,preventScrollReset:m,relative:a,viewTransition:f});function S(_){s&&s(_),_.defaultPrevented||j(_)}return p.createElement("a",zv({},g,{href:v||b,onClick:w||i?s:S,ref:n,target:d}))});var tS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tS||(tS={}));var rS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rS||(rS={}));function vI(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:c}=t===void 0?{}:t,d=Yt(),u=dl(),m=B6(e,{relative:o});return p.useCallback(f=>{if(uI(f,n)){f.preventDefault();let g=s!==void 0?s:Gp(u)===Gp(m);d(e,{replace:g,state:a,preventScrollReset:i,relative:o,viewTransition:c})}},[u,d,m,s,a,n,e,i,o,c])}function bI(e){let t=p.useRef(Uv(e)),n=p.useRef(!1),s=dl(),a=p.useMemo(()=>mI(s.search,n.current?null:t.current),[s.search]),i=Yt(),o=p.useCallback((c,d)=>{const u=Uv(typeof c=="function"?c(a):c);n.current=!0,i("?"+u,d)},[i,a]);return[a,o]}var Qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_o,yw,l3,jI=(l3=class{constructor(){it(this,_o,wI);it(this,yw,!1)}setTimeoutProvider(e){Ge(this,_o,e)}setTimeout(e,t){return V(this,_o).setTimeout(e,t)}clearTimeout(e){V(this,_o).clearTimeout(e)}setInterval(e,t){return V(this,_o).setInterval(e,t)}clearInterval(e){V(this,_o).clearInterval(e)}},_o=new WeakMap,yw=new WeakMap,l3),Ml=new jI;function NI(e){setTimeout(e,0)}var dc=typeof window>"u"||"Deno"in globalThis;function Vn(){}function _I(e,t){return typeof e=="function"?e(t):e}function Gv(e){return typeof e=="number"&&e>=0&&e!==1/0}function G6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qo(e,t){return typeof e=="function"?e(t):e}function ea(e,t){return typeof e=="function"?e(t):e}function nS(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:c}=e;if(o){if(s){if(t.queryHash!==xj(o,t.options))return!1}else if(!Dm(t.queryKey,o))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function sS(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(uc(t.options.mutationKey)!==uc(i))return!1}else if(!Dm(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function xj(e,t){return((t==null?void 0:t.queryKeyHashFn)||uc)(e)}function uc(e){return JSON.stringify(e,(t,n)=>Wv(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Dm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Dm(e[n],t[n])):!1}var SI=Object.prototype.hasOwnProperty;function W6(e,t){if(e===t)return e;const n=aS(e)&&aS(t);if(!n&&!(Wv(e)&&Wv(t)))return t;const a=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,c=n?new Array(o):{};let d=0;for(let u=0;u<o;u++){const m=n?u:i[u],f=e[m],g=t[m];if(f===g){c[m]=f,(n?u<a:SI.call(e,m))&&d++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){c[m]=g;continue}const x=W6(f,g);c[m]=x,x===f&&d++}return a===o&&d===a?e:c}function Wp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function aS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wv(e){if(!iS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!iS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iS(e){return Object.prototype.toString.call(e)==="[object Object]"}function kI(e){return new Promise(t=>{Ml.setTimeout(t,e)})}function Hv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?W6(e,t):t}function CI(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function PI(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var yj=Symbol();function H6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===yj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function q6(e,t){return typeof e=="function"?e(...t):!!e}var $l,So,gd,c3,AI=(c3=class extends Qd{constructor(){super();it(this,$l);it(this,So);it(this,gd);Ge(this,gd,t=>{if(!dc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,So)||this.setEventListener(V(this,gd))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,So))==null||t.call(this),Ge(this,So,void 0))}setEventListener(t){var n;Ge(this,gd,t),(n=V(this,So))==null||n.call(this),Ge(this,So,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){V(this,$l)!==t&&(Ge(this,$l,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,$l)=="boolean"?V(this,$l):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$l=new WeakMap,So=new WeakMap,gd=new WeakMap,c3),vj=new AI;function qv(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}var EI=NI;function OI(){let e=[],t=0,n=c=>{c()},s=c=>{c()},a=EI;const i=c=>{t?e.push(c):a(()=>{n(c)})},o=()=>{const c=e;e=[],c.length&&a(()=>{s(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||o()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{a=c}}}var Qr=OI(),xd,ko,yd,d3,TI=(d3=class extends Qd{constructor(){super();it(this,xd,!0);it(this,ko);it(this,yd);Ge(this,yd,t=>{if(!dc&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){V(this,ko)||this.setEventListener(V(this,yd))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,ko))==null||t.call(this),Ge(this,ko,void 0))}setEventListener(t){var n;Ge(this,yd,t),(n=V(this,ko))==null||n.call(this),Ge(this,ko,t(this.setOnline.bind(this)))}setOnline(t){V(this,xd)!==t&&(Ge(this,xd,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return V(this,xd)}},xd=new WeakMap,ko=new WeakMap,yd=new WeakMap,d3),Hp=new TI;function LI(e){return Math.min(1e3*2**e,3e4)}function V6(e){return(e??"online")==="online"?Hp.isOnline():!0}var Vv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function K6(e){let t=!1,n=0,s;const a=qv(),i=()=>a.status!=="pending",o=w=>{var b;if(!i()){const j=new Vv(w);g(j),(b=e.onCancel)==null||b.call(e,j)}},c=()=>{t=!0},d=()=>{t=!1},u=()=>vj.isFocused()&&(e.networkMode==="always"||Hp.isOnline())&&e.canRun(),m=()=>V6(e.networkMode)&&e.canRun(),f=w=>{i()||(s==null||s(),a.resolve(w))},g=w=>{i()||(s==null||s(),a.reject(w))},x=()=>new Promise(w=>{var b;s=j=>{(i()||u())&&w(j)},(b=e.onPause)==null||b.call(e)}).then(()=>{var w;s=void 0,i()||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(i())return;let w;const b=n===0?e.initialPromise:void 0;try{w=b??e.fn()}catch(j){w=Promise.reject(j)}Promise.resolve(w).then(f).catch(j=>{var P;if(i())return;const S=e.retry??(dc?0:3),_=e.retryDelay??LI,k=typeof _=="function"?_(n,j):_,A=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,j);if(t||!A){g(j);return}n++,(P=e.onFail)==null||P.call(e,n,j),kI(k).then(()=>u()?void 0:x()).then(()=>{t?g(j):v()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?v():x().then(v),a)}}var zl,u3,Z6=(u3=class{constructor(){it(this,zl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gv(this.gcTime)&&Ge(this,zl,Ml.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dc?1/0:5*60*1e3))}clearGcTimeout(){V(this,zl)&&(Ml.clearTimeout(V(this,zl)),Ge(this,zl,void 0))}},zl=new WeakMap,u3),Ul,vd,Xs,Gl,un,Ym,Wl,Sa,xi,m3,MI=(m3=class extends Z6{constructor(t){super();it(this,Sa);it(this,Ul);it(this,vd);it(this,Xs);it(this,Gl);it(this,un);it(this,Ym);it(this,Wl);Ge(this,Wl,!1),Ge(this,Ym,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ge(this,Gl,t.client),Ge(this,Xs,V(this,Gl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ge(this,Ul,oS(this.options)),this.state=t.state??V(this,Ul),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,un))==null?void 0:t.promise}setOptions(t){if(this.options={...V(this,Ym),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=oS(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Ge(this,Ul,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Xs).remove(this)}setData(t,n){const s=Hv(this.state.data,t,this.options);return pt(this,Sa,xi).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){pt(this,Sa,xi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=V(this,un))==null?void 0:s.promise;return(a=V(this,un))==null||a.cancel(t),n?n.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ul))}isActive(){return this.observers.some(t=>ea(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!G6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,un))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,un))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,Xs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,un)&&(V(this,Wl)?V(this,un).cancel({revert:!0}):V(this,un).cancelRetry()),this.scheduleGc()),V(this,Xs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,Sa,xi).call(this,{type:"invalidate"})}async fetch(t,n){var d,u,m,f,g,x,v,w,b,j,S,_;if(this.state.fetchStatus!=="idle"&&((d=V(this,un))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,un))return V(this,un).continueRetry(),V(this,un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(A=>A.options.queryFn);k&&this.setOptions(k.options)}const s=new AbortController,a=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(Ge(this,Wl,!0),s.signal)})},i=()=>{const k=H6(this.options,n),P=(()=>{const E={client:V(this,Gl),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return Ge(this,Wl,!1),this.options.persister?this.options.persister(k,P,this):k(P)},c=(()=>{const k={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:V(this,Gl),state:this.state,fetchFn:i};return a(k),k})();(u=this.options.behavior)==null||u.onFetch(c,this),Ge(this,vd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&pt(this,Sa,xi).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),Ge(this,un,K6({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,onCancel:k=>{k instanceof Vv&&k.revert&&this.setState({...V(this,vd),fetchStatus:"idle"}),s.abort()},onFail:(k,A)=>{pt(this,Sa,xi).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{pt(this,Sa,xi).call(this,{type:"pause"})},onContinue:()=>{pt(this,Sa,xi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const k=await V(this,un).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(x=(g=V(this,Xs).config).onSuccess)==null||x.call(g,k,this),(w=(v=V(this,Xs).config).onSettled)==null||w.call(v,k,this.state.error,this),k}catch(k){if(k instanceof Vv){if(k.silent)return V(this,un).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw pt(this,Sa,xi).call(this,{type:"error",error:k}),(j=(b=V(this,Xs).config).onError)==null||j.call(b,k,this),(_=(S=V(this,Xs).config).onSettled)==null||_.call(S,this.state.data,k,this),k}finally{this.scheduleGc()}}},Ul=new WeakMap,vd=new WeakMap,Xs=new WeakMap,Gl=new WeakMap,un=new WeakMap,Ym=new WeakMap,Wl=new WeakMap,Sa=new WeakSet,xi=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Y6(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ge(this,vd,t.manual?a:void 0),a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Qr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),V(this,Xs).notify({query:this,type:"updated",action:t})})},m3);function Y6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function oS(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ls,_t,Qm,Wn,Hl,bd,wi,Co,Jm,wd,jd,ql,Vl,Po,Nd,Ht,Ju,Kv,Zv,Yv,Qv,Jv,Xv,eb,Q6,h3,DI=(h3=class extends Qd{constructor(t,n){super();it(this,Ht);it(this,ls);it(this,_t);it(this,Qm);it(this,Wn);it(this,Hl);it(this,bd);it(this,wi);it(this,Co);it(this,Jm);it(this,wd);it(this,jd);it(this,ql);it(this,Vl);it(this,Po);it(this,Nd,new Set);this.options=n,Ge(this,ls,t),Ge(this,Co,null),Ge(this,wi,qv()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,_t).addObserver(this),lS(V(this,_t),this.options)?pt(this,Ht,Ju).call(this):this.updateResult(),pt(this,Ht,Qv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tb(V(this,_t),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tb(V(this,_t),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pt(this,Ht,Jv).call(this),pt(this,Ht,Xv).call(this),V(this,_t).removeObserver(this)}setOptions(t){const n=this.options,s=V(this,_t);if(this.options=V(this,ls).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ea(this.options.enabled,V(this,_t))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pt(this,Ht,eb).call(this),V(this,_t).setOptions(this.options),n._defaulted&&!Wp(this.options,n)&&V(this,ls).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,_t),observer:this});const a=this.hasListeners();a&&cS(V(this,_t),s,this.options,n)&&pt(this,Ht,Ju).call(this),this.updateResult(),a&&(V(this,_t)!==s||ea(this.options.enabled,V(this,_t))!==ea(n.enabled,V(this,_t))||qo(this.options.staleTime,V(this,_t))!==qo(n.staleTime,V(this,_t)))&&pt(this,Ht,Kv).call(this);const i=pt(this,Ht,Zv).call(this);a&&(V(this,_t)!==s||ea(this.options.enabled,V(this,_t))!==ea(n.enabled,V(this,_t))||i!==V(this,Po))&&pt(this,Ht,Yv).call(this,i)}getOptimisticResult(t){const n=V(this,ls).getQueryCache().build(V(this,ls),t),s=this.createResult(n,t);return II(this,s)&&(Ge(this,Wn,s),Ge(this,bd,this.options),Ge(this,Hl,V(this,_t).state)),s}getCurrentResult(){return V(this,Wn)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&!this.options.experimental_prefetchInRender&&V(this,wi).status==="pending"&&V(this,wi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(t){V(this,Nd).add(t)}getCurrentQuery(){return V(this,_t)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=V(this,ls).defaultQueryOptions(t),s=V(this,ls).getQueryCache().build(V(this,ls),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return pt(this,Ht,Ju).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Wn)))}createResult(t,n){var M;const s=V(this,_t),a=this.options,i=V(this,Wn),o=V(this,Hl),c=V(this,bd),u=t!==s?t.state:V(this,Qm),{state:m}=t;let f={...m},g=!1,x;if(n._optimisticResults){const U=this.hasListeners(),D=!U&&lS(t,n),B=U&&cS(t,s,n,a);(D||B)&&(f={...f,...Y6(m.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:b}=f;x=f.data;let j=!1;if(n.placeholderData!==void 0&&x===void 0&&b==="pending"){let U;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(U=i.data,j=!0):U=typeof n.placeholderData=="function"?n.placeholderData((M=V(this,jd))==null?void 0:M.state.data,V(this,jd)):n.placeholderData,U!==void 0&&(b="success",x=Hv(i==null?void 0:i.data,U,n),g=!0)}if(n.select&&x!==void 0&&!j)if(i&&x===(o==null?void 0:o.data)&&n.select===V(this,Jm))x=V(this,wd);else try{Ge(this,Jm,n.select),x=n.select(x),x=Hv(i==null?void 0:i.data,x,n),Ge(this,wd,x),Ge(this,Co,null)}catch(U){Ge(this,Co,U)}V(this,Co)&&(v=V(this,Co),x=V(this,wd),w=Date.now(),b="error");const S=f.fetchStatus==="fetching",_=b==="pending",k=b==="error",A=_&&S,P=x!==void 0,T={status:b,fetchStatus:f.fetchStatus,isPending:_,isSuccess:b==="success",isError:k,isInitialLoading:A,isLoading:A,data:x,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!_,isLoadingError:k&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:k&&P,isStale:bj(t,n),refetch:this.refetch,promise:V(this,wi),isEnabled:ea(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const U=z=>{T.status==="error"?z.reject(T.error):T.data!==void 0&&z.resolve(T.data)},D=()=>{const z=Ge(this,wi,T.promise=qv());U(z)},B=V(this,wi);switch(B.status){case"pending":t.queryHash===s.queryHash&&U(B);break;case"fulfilled":(T.status==="error"||T.data!==B.value)&&D();break;case"rejected":(T.status!=="error"||T.error!==B.reason)&&D();break}}return T}updateResult(){const t=V(this,Wn),n=this.createResult(V(this,_t),this.options);if(Ge(this,Hl,V(this,_t).state),Ge(this,bd,this.options),V(this,Hl).data!==void 0&&Ge(this,jd,V(this,_t)),Wp(n,t))return;Ge(this,Wn,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!V(this,Nd).size)return!0;const o=new Set(i??V(this,Nd));return this.options.throwOnError&&o.add("error"),Object.keys(V(this,Wn)).some(c=>{const d=c;return V(this,Wn)[d]!==t[d]&&o.has(d)})};pt(this,Ht,Q6).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pt(this,Ht,Qv).call(this)}},ls=new WeakMap,_t=new WeakMap,Qm=new WeakMap,Wn=new WeakMap,Hl=new WeakMap,bd=new WeakMap,wi=new WeakMap,Co=new WeakMap,Jm=new WeakMap,wd=new WeakMap,jd=new WeakMap,ql=new WeakMap,Vl=new WeakMap,Po=new WeakMap,Nd=new WeakMap,Ht=new WeakSet,Ju=function(t){pt(this,Ht,eb).call(this);let n=V(this,_t).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Vn)),n},Kv=function(){pt(this,Ht,Jv).call(this);const t=qo(this.options.staleTime,V(this,_t));if(dc||V(this,Wn).isStale||!Gv(t))return;const s=G6(V(this,Wn).dataUpdatedAt,t)+1;Ge(this,ql,Ml.setTimeout(()=>{V(this,Wn).isStale||this.updateResult()},s))},Zv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,_t)):this.options.refetchInterval)??!1},Yv=function(t){pt(this,Ht,Xv).call(this),Ge(this,Po,t),!(dc||ea(this.options.enabled,V(this,_t))===!1||!Gv(V(this,Po))||V(this,Po)===0)&&Ge(this,Vl,Ml.setInterval(()=>{(this.options.refetchIntervalInBackground||vj.isFocused())&&pt(this,Ht,Ju).call(this)},V(this,Po)))},Qv=function(){pt(this,Ht,Kv).call(this),pt(this,Ht,Yv).call(this,pt(this,Ht,Zv).call(this))},Jv=function(){V(this,ql)&&(Ml.clearTimeout(V(this,ql)),Ge(this,ql,void 0))},Xv=function(){V(this,Vl)&&(Ml.clearInterval(V(this,Vl)),Ge(this,Vl,void 0))},eb=function(){const t=V(this,ls).getQueryCache().build(V(this,ls),this.options);if(t===V(this,_t))return;const n=V(this,_t);Ge(this,_t,t),Ge(this,Qm,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Q6=function(t){Qr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(V(this,Wn))}),V(this,ls).getQueryCache().notify({query:V(this,_t),type:"observerResultsUpdated"})})},h3);function RI(e,t){return ea(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lS(e,t){return RI(e,t)||e.state.data!==void 0&&tb(e,t,t.refetchOnMount)}function tb(e,t,n){if(ea(t.enabled,e)!==!1&&qo(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&bj(e,t)}return!1}function cS(e,t,n,s){return(e!==t||ea(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&bj(e,n)}function bj(e,t){return ea(t.enabled,e)!==!1&&e.isStaleByTime(qo(t.staleTime,e))}function II(e,t){return!Wp(e.getCurrentResult(),t)}function dS(e){return{onFetch:(t,n)=>{var m,f,g,x,v;const s=t.options,a=(g=(f=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const u=async()=>{let w=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},j=H6(t.options,t.fetchOptions),S=async(_,k,A)=>{if(w)return Promise.reject();if(k==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:k,direction:A?"backward":"forward",meta:t.options.meta};return b(D),D})(),T=await j(E),{maxPages:M}=t.options,U=A?PI:CI;return{pages:U(_.pages,T,M),pageParams:U(_.pageParams,k,M)}};if(a&&i.length){const _=a==="backward",k=_?FI:uS,A={pages:i,pageParams:o},P=k(s,A);c=await S(A,P,_)}else{const _=e??i.length;do{const k=d===0?o[0]??s.initialPageParam:uS(s,c);if(d>0&&k==null)break;c=await S(c,k),d++}while(d<_)}return c};t.options.persister?t.fetchFn=()=>{var w,b;return(b=(w=t.options).persister)==null?void 0:b.call(w,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function uS(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function FI(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Xm,Za,Hn,Kl,Ya,co,f3,BI=(f3=class extends Z6{constructor(t){super();it(this,Ya);it(this,Xm);it(this,Za);it(this,Hn);it(this,Kl);Ge(this,Xm,t.client),this.mutationId=t.mutationId,Ge(this,Hn,t.mutationCache),Ge(this,Za,[]),this.state=t.state||J6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Za).includes(t)||(V(this,Za).push(t),this.clearGcTimeout(),V(this,Hn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ge(this,Za,V(this,Za).filter(n=>n!==t)),this.scheduleGc(),V(this,Hn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Za).length||(this.state.status==="pending"?this.scheduleGc():V(this,Hn).remove(this))}continue(){var t;return((t=V(this,Kl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,c,d,u,m,f,g,x,v,w,b,j,S,_,k,A,P,E,T,M;const n=()=>{pt(this,Ya,co).call(this,{type:"continue"})},s={client:V(this,Xm),meta:this.options.meta,mutationKey:this.options.mutationKey};Ge(this,Kl,K6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(U,D)=>{pt(this,Ya,co).call(this,{type:"failed",failureCount:U,error:D})},onPause:()=>{pt(this,Ya,co).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Hn).canRun(this)}));const a=this.state.status==="pending",i=!V(this,Kl).canStart();try{if(a)n();else{pt(this,Ya,co).call(this,{type:"pending",variables:t,isPaused:i}),await((c=(o=V(this,Hn).config).onMutate)==null?void 0:c.call(o,t,this,s));const D=await((u=(d=this.options).onMutate)==null?void 0:u.call(d,t,s));D!==this.state.context&&pt(this,Ya,co).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const U=await V(this,Kl).start();return await((f=(m=V(this,Hn).config).onSuccess)==null?void 0:f.call(m,U,t,this.state.context,this,s)),await((x=(g=this.options).onSuccess)==null?void 0:x.call(g,U,t,this.state.context,s)),await((w=(v=V(this,Hn).config).onSettled)==null?void 0:w.call(v,U,null,this.state.variables,this.state.context,this,s)),await((j=(b=this.options).onSettled)==null?void 0:j.call(b,U,null,t,this.state.context,s)),pt(this,Ya,co).call(this,{type:"success",data:U}),U}catch(U){try{throw await((_=(S=V(this,Hn).config).onError)==null?void 0:_.call(S,U,t,this.state.context,this,s)),await((A=(k=this.options).onError)==null?void 0:A.call(k,U,t,this.state.context,s)),await((E=(P=V(this,Hn).config).onSettled)==null?void 0:E.call(P,void 0,U,this.state.variables,this.state.context,this,s)),await((M=(T=this.options).onSettled)==null?void 0:M.call(T,void 0,U,t,this.state.context,s)),U}finally{pt(this,Ya,co).call(this,{type:"error",error:U})}}finally{V(this,Hn).runNext(this)}}},Xm=new WeakMap,Za=new WeakMap,Hn=new WeakMap,Kl=new WeakMap,Ya=new WeakSet,co=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qr.batch(()=>{V(this,Za).forEach(s=>{s.onMutationUpdate(t)}),V(this,Hn).notify({mutation:this,type:"updated",action:t})})},f3);function J6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ji,ka,eh,p3,$I=(p3=class extends Qd{constructor(t={}){super();it(this,ji);it(this,ka);it(this,eh);this.config=t,Ge(this,ji,new Set),Ge(this,ka,new Map),Ge(this,eh,0)}build(t,n,s){const a=new BI({client:t,mutationCache:this,mutationId:++qh(this,eh)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){V(this,ji).add(t);const n=uf(t);if(typeof n=="string"){const s=V(this,ka).get(n);s?s.push(t):V(this,ka).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(V(this,ji).delete(t)){const n=uf(t);if(typeof n=="string"){const s=V(this,ka).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&V(this,ka).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=uf(t);if(typeof n=="string"){const s=V(this,ka).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=uf(t);if(typeof n=="string"){const a=(s=V(this,ka).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qr.batch(()=>{V(this,ji).forEach(t=>{this.notify({type:"removed",mutation:t})}),V(this,ji).clear(),V(this,ka).clear()})}getAll(){return Array.from(V(this,ji))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>sS(n,s))}findAll(t={}){return this.getAll().filter(n=>sS(t,n))}notify(t){Qr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Qr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Vn))))}},ji=new WeakMap,ka=new WeakMap,eh=new WeakMap,p3);function uf(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ni,Ao,cs,_i,Ri,ip,rb,g3,zI=(g3=class extends Qd{constructor(n,s){super();it(this,Ri);it(this,Ni);it(this,Ao);it(this,cs);it(this,_i);Ge(this,Ni,n),this.setOptions(s),this.bindMethods(),pt(this,Ri,ip).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=V(this,Ni).defaultMutationOptions(n),Wp(this.options,s)||V(this,Ni).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,cs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&uc(s.mutationKey)!==uc(this.options.mutationKey)?this.reset():((a=V(this,cs))==null?void 0:a.state.status)==="pending"&&V(this,cs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,cs))==null||n.removeObserver(this)}onMutationUpdate(n){pt(this,Ri,ip).call(this),pt(this,Ri,rb).call(this,n)}getCurrentResult(){return V(this,Ao)}reset(){var n;(n=V(this,cs))==null||n.removeObserver(this),Ge(this,cs,void 0),pt(this,Ri,ip).call(this),pt(this,Ri,rb).call(this)}mutate(n,s){var a;return Ge(this,_i,s),(a=V(this,cs))==null||a.removeObserver(this),Ge(this,cs,V(this,Ni).getMutationCache().build(V(this,Ni),this.options)),V(this,cs).addObserver(this),V(this,cs).execute(n)}},Ni=new WeakMap,Ao=new WeakMap,cs=new WeakMap,_i=new WeakMap,Ri=new WeakSet,ip=function(){var s;const n=((s=V(this,cs))==null?void 0:s.state)??J6();Ge(this,Ao,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},rb=function(n){Qr.batch(()=>{var s,a,i,o,c,d,u,m;if(V(this,_i)&&this.hasListeners()){const f=V(this,Ao).variables,g=V(this,Ao).context,x={client:V(this,Ni),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((a=(s=V(this,_i)).onSuccess)==null||a.call(s,n.data,f,g,x),(o=(i=V(this,_i)).onSettled)==null||o.call(i,n.data,null,f,g,x)):(n==null?void 0:n.type)==="error"&&((d=(c=V(this,_i)).onError)==null||d.call(c,n.error,f,g,x),(m=(u=V(this,_i)).onSettled)==null||m.call(u,void 0,n.error,f,g,x))}this.listeners.forEach(f=>{f(V(this,Ao))})})},g3),Qa,x3,UI=(x3=class extends Qd{constructor(t={}){super();it(this,Qa);this.config=t,Ge(this,Qa,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??xj(a,n);let o=this.get(i);return o||(o=new MI({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){V(this,Qa).has(t.queryHash)||(V(this,Qa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,Qa).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,Qa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,Qa).get(t)}getAll(){return[...V(this,Qa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>nS(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>nS(t,s)):n}notify(t){Qr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qa=new WeakMap,x3),Tr,Eo,Oo,_d,Sd,To,kd,Cd,y3,GI=(y3=class{constructor(e={}){it(this,Tr);it(this,Eo);it(this,Oo);it(this,_d);it(this,Sd);it(this,To);it(this,kd);it(this,Cd);Ge(this,Tr,e.queryCache||new UI),Ge(this,Eo,e.mutationCache||new $I),Ge(this,Oo,e.defaultOptions||{}),Ge(this,_d,new Map),Ge(this,Sd,new Map),Ge(this,To,0)}mount(){qh(this,To)._++,V(this,To)===1&&(Ge(this,kd,vj.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Tr).onFocus())})),Ge(this,Cd,Hp.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Tr).onOnline())})))}unmount(){var e,t;qh(this,To)._--,V(this,To)===0&&((e=V(this,kd))==null||e.call(this),Ge(this,kd,void 0),(t=V(this,Cd))==null||t.call(this),Ge(this,Cd,void 0))}isFetching(e){return V(this,Tr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,Eo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,Tr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=V(this,Tr).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return V(this,Tr).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=V(this,Tr).get(s.queryHash),i=a==null?void 0:a.state.data,o=_I(t,i);if(o!==void 0)return V(this,Tr).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Qr.batch(()=>V(this,Tr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,Tr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,Tr);Qr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,Tr);return Qr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Qr.batch(()=>V(this,Tr).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Vn).catch(Vn)}invalidateQueries(e,t={}){return Qr.batch(()=>(V(this,Tr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Qr.batch(()=>V(this,Tr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Vn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,Tr).build(this,t);return n.isStaleByTime(qo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=dS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=dS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hp.isOnline()?V(this,Eo).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Tr)}getMutationCache(){return V(this,Eo)}getDefaultOptions(){return V(this,Oo)}setDefaultOptions(e){Ge(this,Oo,e)}setQueryDefaults(e,t){V(this,_d).set(uc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,_d).values()],n={};return t.forEach(s=>{Dm(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){V(this,Sd).set(uc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Sd).values()],n={};return t.forEach(s=>{Dm(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,Oo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===yj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,Oo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,Tr).clear(),V(this,Eo).clear()}},Tr=new WeakMap,Eo=new WeakMap,Oo=new WeakMap,_d=new WeakMap,Sd=new WeakMap,To=new WeakMap,kd=new WeakMap,Cd=new WeakMap,y3),X6=p.createContext(void 0),ml=e=>{const t=p.useContext(X6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},WI=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(X6.Provider,{value:e,children:t})),eP=p.createContext(!1),HI=()=>p.useContext(eP);eP.Provider;function qI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var VI=p.createContext(qI()),KI=()=>p.useContext(VI),ZI=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},YI=e=>{p.useEffect(()=>{e.clearReset()},[e])},QI=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||q6(n,[e.error,s])),JI=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...a)=>n(s(...a)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},XI=(e,t)=>e.isLoading&&e.isFetching&&!t,e8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,mS=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function t8(e,t,n){var f,g,x,v,w;const s=HI(),a=KI(),i=ml(),o=i.defaultQueryOptions(e);(g=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",JI(o),ZI(o,a),YI(a);const c=!i.getQueryCache().get(o.queryHash),[d]=p.useState(()=>new t(i,o)),u=d.getOptimisticResult(o),m=!s&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(b=>{const j=m?d.subscribe(Qr.batchCalls(b)):Vn;return d.updateResult(),j},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),p.useEffect(()=>{d.setOptions(o)},[o,d]),e8(o,u))throw mS(o,d,a);if(QI({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||v.call(x,o,u),o.experimental_prefetchInRender&&!dc&&XI(u,s)){const b=c?mS(o,d,a):(w=i.getQueryCache().get(o.queryHash))==null?void 0:w.promise;b==null||b.catch(Vn).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function kr(e,t){return t8(e,DI)}function Ti(e,t){const n=ml(),[s]=p.useState(()=>new zI(n,e));p.useEffect(()=>{s.setOptions(e)},[s,e]);const a=p.useSyncExternalStore(p.useCallback(o=>s.subscribe(Qr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=p.useCallback((o,c)=>{s.mutate(o,c).catch(Vn)},[s]);if(a.error&&q6(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var r8=typeof Element<"u",n8=typeof Map=="function",s8=typeof Set=="function",a8=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function op(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!op(e[s],t[s]))return!1;return!0}var i;if(n8&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;for(i=e.entries();!(s=i.next()).done;)if(!op(s.value[1],t.get(s.value[0])))return!1;return!0}if(s8&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(a8&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(r8&&e instanceof Element)return!1;for(s=n;s--!==0;)if(!((a[s]==="_owner"||a[s]==="__v"||a[s]==="__o")&&e.$$typeof)&&!op(e[a[s]],t[a[s]]))return!1;return!0}return e!==e&&t!==t}var i8=function(t,n){try{return op(t,n)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const o8=bs(i8);var l8=function(e,t,n,s,a,i,o,c){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,s,a,i,o,c],m=0;d=new Error(t.replace(/%s/g,function(){return u[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},c8=l8;const hS=bs(c8);var d8=function(t,n,s,a){var i=s?s.call(a,t,n):void 0;if(i!==void 0)return!!i;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var o=Object.keys(t),c=Object.keys(n);if(o.length!==c.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var m=o[u];if(!d(m))return!1;var f=t[m],g=n[m];if(i=s?s.call(a,f,g,m):void 0,i===!1||i===void 0&&f!==g)return!1}return!0};const u8=bs(d8);var tP=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(tP||{}),ly={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},fS=Object.values(tP),wj={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},m8=Object.entries(wj).reduce((e,[t,n])=>(e[n]=t,e),{}),La="data-rh",ud={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},md=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const s=e[n];if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}return null},h8=e=>{let t=md(e,"title");const n=md(e,ud.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const s=md(e,ud.DEFAULT_TITLE);return t||s||void 0},f8=e=>md(e,ud.ON_CHANGE_CLIENT_STATE)||(()=>{}),cy=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,s)=>({...n,...s}),{}),p8=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,s)=>{if(!n.length){const a=Object.keys(s);for(let i=0;i<a.length;i+=1){const c=a[i].toLowerCase();if(e.indexOf(c)!==-1&&s[c])return n.concat(s)}}return n},[]),g8=e=>console&&typeof console.warn=="function"&&console.warn(e),Pu=(e,t,n)=>{const s={};return n.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&g8(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(d=>{let u;const m=Object.keys(d);for(let g=0;g<m.length;g+=1){const x=m[g],v=x.toLowerCase();t.indexOf(v)!==-1&&!(u==="rel"&&d[u].toLowerCase()==="canonical")&&!(v==="rel"&&d[v].toLowerCase()==="stylesheet")&&(u=v),t.indexOf(x)!==-1&&(x==="innerHTML"||x==="cssText"||x==="itemprop")&&(u=x)}if(!u||!d[u])return!1;const f=d[u].toLowerCase();return s[u]||(s[u]={}),o[u]||(o[u]={}),s[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(d=>a.push(d));const c=Object.keys(o);for(let d=0;d<c.length;d+=1){const u=c[d],m={...s[u],...o[u]};s[u]=m}return a},[]).reverse()},x8=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},y8=e=>({baseTag:p8(["href"],e),bodyAttributes:cy("bodyAttributes",e),defer:md(e,ud.DEFER),encode:md(e,ud.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cy("htmlAttributes",e),linkTags:Pu("link",["rel","href"],e),metaTags:Pu("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Pu("noscript",["innerHTML"],e),onChangeClientState:f8(e),scriptTags:Pu("script",["src","innerHTML"],e),styleTags:Pu("style",["cssText"],e),title:h8(e),titleAttributes:cy("titleAttributes",e),prioritizeSeoTags:x8(e,ud.PRIORITIZE_SEO_TAGS)}),rP=e=>Array.isArray(e)?e.join(""):e,v8=(e,t)=>{const n=Object.keys(e);for(let s=0;s<n.length;s+=1)if(t[n[s]]&&t[n[s]].includes(e[n[s]]))return!0;return!1},dy=(e,t)=>Array.isArray(e)?e.reduce((n,s)=>(v8(s,t)?n.priority.push(s):n.default.push(s),n),{priority:[],default:[]}):{default:e,priority:[]},pS=(e,t)=>({...e,[t]:void 0}),b8=["noscript","script","style"],nb=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),nP=e=>Object.keys(e).reduce((t,n)=>{const s=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${s}`:s},""),w8=(e,t,n,s)=>{const a=nP(n),i=rP(t);return a?`<${e} ${La}="true" ${a}>${nb(i,s)}</${e}>`:`<${e} ${La}="true">${nb(i,s)}</${e}>`},j8=(e,t,n=!0)=>t.reduce((s,a)=>{const i=a,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,m)=>{const f=typeof i[m]>"u"?m:`${m}="${nb(i[m],n)}"`;return u?`${u} ${f}`:f},""),c=i.innerHTML||i.cssText||"",d=b8.indexOf(e)===-1;return`${s}<${e} ${La}="true" ${o}${d?"/>":`>${c}</${e}>`}`},""),sP=(e,t={})=>Object.keys(e).reduce((n,s)=>{const a=wj[s];return n[a||s]=e[s],n},t),N8=(e,t,n)=>{const s={key:t,[La]:!0},a=sP(n,s);return[tt.createElement("title",a,t)]},lp=(e,t)=>t.map((n,s)=>{const a={key:s,[La]:!0};return Object.keys(n).forEach(i=>{const c=wj[i]||i;if(c==="innerHTML"||c==="cssText"){const d=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:d}}else a[c]=n[i]}),tt.createElement(e,a)}),Js=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>N8(e,t.title,t.titleAttributes),toString:()=>w8(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>sP(t),toString:()=>nP(t)};default:return{toComponent:()=>lp(e,t),toString:()=>j8(e,t,n)}}},_8=({metaTags:e,linkTags:t,scriptTags:n,encode:s})=>{const a=dy(e,ly.meta),i=dy(t,ly.link),o=dy(n,ly.script);return{priorityMethods:{toComponent:()=>[...lp("meta",a.priority),...lp("link",i.priority),...lp("script",o.priority)],toString:()=>`${Js("meta",a.priority,s)} ${Js("link",i.priority,s)} ${Js("script",o.priority,s)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},S8=e=>{const{baseTag:t,bodyAttributes:n,encode:s=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:c="",titleAttributes:d,prioritizeSeoTags:u}=e;let{linkTags:m,metaTags:f,scriptTags:g}=e,x={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:x,linkTags:m,metaTags:f,scriptTags:g}=_8(e)),{priority:x,base:Js("base",t,s),bodyAttributes:Js("bodyAttributes",n,s),htmlAttributes:Js("htmlAttributes",a,s),link:Js("link",m,s),meta:Js("meta",f,s),noscript:Js("noscript",i,s),script:Js("script",g,s),style:Js("style",o,s),title:Js("title",{title:c,titleAttributes:d},s)}},sb=S8,mf=[],aP=!!(typeof window<"u"&&window.document&&window.document.createElement),ab=class{constructor(e,t){va(this,"instances",[]);va(this,"canUseDOM",aP);va(this,"context");va(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?mf:this.instances,add:e=>{(this.canUseDOM?mf:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?mf:this.instances).indexOf(e);(this.canUseDOM?mf:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=sb({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},k8={},iP=tt.createContext(k8),Zl,oP=(Zl=class extends p.Component{constructor(n){super(n);va(this,"helmetData");this.helmetData=new ab(this.props.context||{},Zl.canUseDOM)}render(){return tt.createElement(iP.Provider,{value:this.helmetData.value},this.props.children)}},va(Zl,"canUseDOM",aP),Zl),Ic=(e,t)=>{const n=document.head||document.querySelector("head"),s=n.querySelectorAll(`${e}[${La}]`),a=[].slice.call(s),i=[];let o;return t&&t.length&&t.forEach(c=>{const d=document.createElement(e);for(const u in c)if(Object.prototype.hasOwnProperty.call(c,u))if(u==="innerHTML")d.innerHTML=c.innerHTML;else if(u==="cssText")d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{const m=u,f=typeof c[m]>"u"?"":c[m];d.setAttribute(u,f)}d.setAttribute(La,"true"),a.some((u,m)=>(o=m,d.isEqualNode(u)))?a.splice(o,1):i.push(d)}),a.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)}),i.forEach(c=>n.appendChild(c)),{oldTags:a,newTags:i}},ib=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const s=n.getAttribute(La),a=s?s.split(","):[],i=[...a],o=Object.keys(t);for(const c of o){const d=t[c]||"";n.getAttribute(c)!==d&&n.setAttribute(c,d),a.indexOf(c)===-1&&a.push(c);const u=i.indexOf(c);u!==-1&&i.splice(u,1)}for(let c=i.length-1;c>=0;c-=1)n.removeAttribute(i[c]);a.length===i.length?n.removeAttribute(La):n.getAttribute(La)!==o.join(",")&&n.setAttribute(La,o.join(","))},C8=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=rP(e)),ib("title",t)},gS=(e,t)=>{const{baseTag:n,bodyAttributes:s,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:c,onChangeClientState:d,scriptTags:u,styleTags:m,title:f,titleAttributes:g}=e;ib("body",s),ib("html",a),C8(f,g);const x={baseTag:Ic("base",n),linkTags:Ic("link",i),metaTags:Ic("meta",o),noscriptTags:Ic("noscript",c),scriptTags:Ic("script",u),styleTags:Ic("style",m)},v={},w={};Object.keys(x).forEach(b=>{const{newTags:j,oldTags:S}=x[b];j.length&&(v[b]=j),S.length&&(w[b]=x[b].oldTags)}),t&&t(),d(e,v,w)},Au=null,P8=e=>{Au&&cancelAnimationFrame(Au),e.defer?Au=requestAnimationFrame(()=>{gS(e,()=>{Au=null})}):(gS(e),Au=null)},A8=P8,xS=class extends p.Component{constructor(){super(...arguments);va(this,"rendered",!1)}shouldComponentUpdate(t){return!u8(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let s=null;const a=y8(t.get().map(i=>{const o={...i.props};return delete o.context,o}));oP.canUseDOM?A8(a):sb&&(s=sb(a)),n(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Hy,lP=(Hy=class extends p.Component{shouldComponentUpdate(e){return!o8(pS(this.props,"helmetData"),pS(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,s){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,s)}]}}mapObjectTypeChildren(e,t,n,s){switch(e.type){case"title":return{...t,[e.type]:s,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(s=>{n={...n,[s]:e[s]}}),n}warnOnInvalidChildren(e,t){return hS(fS.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${fS.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),hS(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return tt.Children.forEach(e,s=>{if(!s||!s.props)return;const{children:a,...i}=s.props,o=Object.keys(i).reduce((d,u)=>(d[m8[u]||u]=i[u],d),{});let{type:c}=s;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(s,a),c){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(s,n,o,a);break;default:t=this.mapObjectTypeChildren(s,t,o,a);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:s}=t;if(e&&(n=this.mapChildrenToProps(e,n)),s&&!(s instanceof ab)){const a=s;s=new ab(a.context,!0),delete n.helmetData}return s?tt.createElement(xS,{...n,context:s.value}):tt.createElement(iP.Consumer,null,a=>tt.createElement(xS,{...n,context:a}))}},va(Hy,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Hy);function cP(e,t){return function(){return e.apply(t,arguments)}}const{toString:E8}=Object.prototype,{getPrototypeOf:jj}=Object,{iterator:ax,toStringTag:dP}=Symbol,ix=(e=>t=>{const n=E8.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=e=>(e=e.toLowerCase(),t=>ix(t)===e),ox=e=>t=>typeof t===e,{isArray:Jd}=Array,Dd=ox("undefined");function ih(e){return e!==null&&!Dd(e)&&e.constructor!==null&&!Dd(e.constructor)&&ys(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uP=Fa("ArrayBuffer");function O8(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uP(e.buffer),t}const T8=ox("string"),ys=ox("function"),mP=ox("number"),oh=e=>e!==null&&typeof e=="object",L8=e=>e===!0||e===!1,cp=e=>{if(ix(e)!=="object")return!1;const t=jj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(dP in e)&&!(ax in e)},M8=e=>{if(!oh(e)||ih(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},D8=Fa("Date"),R8=Fa("File"),I8=Fa("Blob"),F8=Fa("FileList"),B8=e=>oh(e)&&ys(e.pipe),$8=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ys(e.append)&&((t=ix(e))==="formdata"||t==="object"&&ys(e.toString)&&e.toString()==="[object FormData]"))},z8=Fa("URLSearchParams"),[U8,G8,W8,H8]=["ReadableStream","Request","Response","Headers"].map(Fa),q8=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lh(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Jd(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(ih(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(s=0;s<o;s++)c=i[s],t.call(null,e[c],c,e)}}function hP(e,t){if(ih(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const Dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fP=e=>!Dd(e)&&e!==Dl;function ob(){const{caseless:e,skipUndefined:t}=fP(this)&&this||{},n={},s=(a,i)=>{const o=e&&hP(n,i)||i;cp(n[o])&&cp(a)?n[o]=ob(n[o],a):cp(a)?n[o]=ob({},a):Jd(a)?n[o]=a.slice():(!t||!Dd(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&lh(arguments[a],s);return n}const V8=(e,t,n,{allOwnKeys:s}={})=>(lh(t,(a,i)=>{n&&ys(a)?e[i]=cP(a,n):e[i]=a},{allOwnKeys:s}),e),K8=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Z8=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Y8=(e,t,n,s)=>{let a,i,o;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&jj(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Q8=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},J8=e=>{if(!e)return null;if(Jd(e))return e;let t=e.length;if(!mP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},X8=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jj(Uint8Array)),eF=(e,t)=>{const s=(e&&e[ax]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},tF=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},rF=Fa("HTMLFormElement"),nF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),yS=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),sF=Fa("RegExp"),pP=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};lh(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},aF=e=>{pP(e,(t,n)=>{if(ys(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(ys(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},iF=(e,t)=>{const n={},s=a=>{a.forEach(i=>{n[i]=!0})};return Jd(e)?s(e):s(String(e).split(t)),n},oF=()=>{},lF=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function cF(e){return!!(e&&ys(e.append)&&e[dP]==="FormData"&&e[ax])}const dF=e=>{const t=new Array(10),n=(s,a)=>{if(oh(s)){if(t.indexOf(s)>=0)return;if(ih(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Jd(s)?[]:{};return lh(s,(o,c)=>{const d=n(o,a+1);!Dd(d)&&(i[c]=d)}),t[a]=void 0,i}}return s};return n(e,0)},uF=Fa("AsyncFunction"),mF=e=>e&&(oh(e)||ys(e))&&ys(e.then)&&ys(e.catch),gP=((e,t)=>e?setImmediate:t?((n,s)=>(Dl.addEventListener("message",({source:a,data:i})=>{a===Dl&&i===n&&s.length&&s.shift()()},!1),a=>{s.push(a),Dl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ys(Dl.postMessage)),hF=typeof queueMicrotask<"u"?queueMicrotask.bind(Dl):typeof process<"u"&&process.nextTick||gP,fF=e=>e!=null&&ys(e[ax]),fe={isArray:Jd,isArrayBuffer:uP,isBuffer:ih,isFormData:$8,isArrayBufferView:O8,isString:T8,isNumber:mP,isBoolean:L8,isObject:oh,isPlainObject:cp,isEmptyObject:M8,isReadableStream:U8,isRequest:G8,isResponse:W8,isHeaders:H8,isUndefined:Dd,isDate:D8,isFile:R8,isBlob:I8,isRegExp:sF,isFunction:ys,isStream:B8,isURLSearchParams:z8,isTypedArray:X8,isFileList:F8,forEach:lh,merge:ob,extend:V8,trim:q8,stripBOM:K8,inherits:Z8,toFlatObject:Y8,kindOf:ix,kindOfTest:Fa,endsWith:Q8,toArray:J8,forEachEntry:eF,matchAll:tF,isHTMLForm:rF,hasOwnProperty:yS,hasOwnProp:yS,reduceDescriptors:pP,freezeMethods:aF,toObjectSet:iF,toCamelCase:nF,noop:oF,toFiniteNumber:lF,findKey:hP,global:Dl,isContextDefined:fP,isSpecCompliantForm:cF,toJSONObject:dF,isAsyncFn:uF,isThenable:mF,setImmediate:gP,asap:hF,isIterable:fF};function ht(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}fe.inherits(ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const xP=ht.prototype,yP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yP[e]={value:e}});Object.defineProperties(ht,yP);Object.defineProperty(xP,"isAxiosError",{value:!0});ht.from=(e,t,n,s,a,i)=>{const o=Object.create(xP);fe.toFlatObject(e,o,function(m){return m!==Error.prototype},u=>u!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return ht.call(o,c,d,n,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const pF=null;function lb(e){return fe.isPlainObject(e)||fe.isArray(e)}function vP(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function vS(e,t,n){return e?e.concat(t).map(function(a,i){return a=vP(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function gF(e){return fe.isArray(e)&&!e.some(lb)}const xF=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function lx(e,t,n){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,b){return!fe.isUndefined(b[w])});const s=n.metaTokens,a=n.visitor||m,i=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(fe.isDate(v))return v.toISOString();if(fe.isBoolean(v))return v.toString();if(!d&&fe.isBlob(v))throw new ht("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(v)||fe.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,w,b){let j=v;if(v&&!b&&typeof v=="object"){if(fe.endsWith(w,"{}"))w=s?w:w.slice(0,-2),v=JSON.stringify(v);else if(fe.isArray(v)&&gF(v)||(fe.isFileList(v)||fe.endsWith(w,"[]"))&&(j=fe.toArray(v)))return w=vP(w),j.forEach(function(_,k){!(fe.isUndefined(_)||_===null)&&t.append(o===!0?vS([w],k,i):o===null?w:w+"[]",u(_))}),!1}return lb(v)?!0:(t.append(vS(b,w,i),u(v)),!1)}const f=[],g=Object.assign(xF,{defaultVisitor:m,convertValue:u,isVisitable:lb});function x(v,w){if(!fe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),fe.forEach(v,function(j,S){(!(fe.isUndefined(j)||j===null)&&a.call(t,j,fe.isString(S)?S.trim():S,w,g))===!0&&x(j,w?w.concat(S):[S])}),f.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return x(e),t}function bS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Nj(e,t){this._pairs=[],e&&lx(e,this,t)}const bP=Nj.prototype;bP.append=function(t,n){this._pairs.push([t,n])};bP.toString=function(t){const n=t?function(s){return t.call(this,s,bS)}:bS;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function yF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wP(e,t,n){if(!t)return e;const s=n&&n.encode||yF;fe.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=fe.isURLSearchParams(t)?t.toString():new Nj(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class wS{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(s){s!==null&&t(s)})}}const jP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vF=typeof URLSearchParams<"u"?URLSearchParams:Nj,bF=typeof FormData<"u"?FormData:null,wF=typeof Blob<"u"?Blob:null,jF={isBrowser:!0,classes:{URLSearchParams:vF,FormData:bF,Blob:wF},protocols:["http","https","file","blob","url","data"]},_j=typeof window<"u"&&typeof document<"u",cb=typeof navigator=="object"&&navigator||void 0,NF=_j&&(!cb||["ReactNative","NativeScript","NS"].indexOf(cb.product)<0),_F=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",SF=_j&&window.location.href||"http://localhost",kF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_j,hasStandardBrowserEnv:NF,hasStandardBrowserWebWorkerEnv:_F,navigator:cb,origin:SF},Symbol.toStringTag,{value:"Module"})),Mn={...kF,...jF};function CF(e,t){return lx(e,new Mn.classes.URLSearchParams,{visitor:function(n,s,a,i){return Mn.isNode&&fe.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function PF(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function AF(e){const t={},n=Object.keys(e);let s;const a=n.length;let i;for(s=0;s<a;s++)i=n[s],t[i]=e[i];return t}function NP(e){function t(n,s,a,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=i>=n.length;return o=!o&&fe.isArray(a)?a.length:o,d?(fe.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!c):((!a[o]||!fe.isObject(a[o]))&&(a[o]=[]),t(n,s,a[o],i)&&fe.isArray(a[o])&&(a[o]=AF(a[o])),!c)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const n={};return fe.forEachEntry(e,(s,a)=>{t(PF(s),a,n,0)}),n}return null}function EF(e,t,n){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const ch={transitional:jP,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=fe.isObject(t);if(i&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return a?JSON.stringify(NP(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return CF(t,this.formSerializer).toString();if((c=fe.isFileList(t))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return lx(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),EF(t)):t}],transformResponse:[function(t){const n=this.transitional||ch.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t))return t;if(t&&fe.isString(t)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?ht.from(c,ht.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{ch.headers[e]={}});const OF=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TF=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||t[n]&&OF[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},jS=Symbol("internals");function Eu(e){return e&&String(e).trim().toLowerCase()}function dp(e){return e===!1||e==null?e:fe.isArray(e)?e.map(dp):String(e)}function LF(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const MF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uy(e,t,n,s,a){if(fe.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!fe.isString(t)){if(fe.isString(s))return t.indexOf(s)!==-1;if(fe.isRegExp(s))return s.test(t)}}function DF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function RF(e,t){const n=fe.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let vs=class{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function i(c,d,u){const m=Eu(d);if(!m)throw new Error("header name must be a non-empty string");const f=fe.findKey(a,m);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||d]=dp(c))}const o=(c,d)=>fe.forEach(c,(u,m)=>i(u,m,d));if(fe.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(fe.isString(t)&&(t=t.trim())&&!MF(t))o(TF(t),n);else if(fe.isObject(t)&&fe.isIterable(t)){let c={},d,u;for(const m of t){if(!fe.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[u=m[0]]=(d=c[u])?fe.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=Eu(t),t){const s=fe.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return LF(a);if(fe.isFunction(n))return n.call(this,a,s);if(fe.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Eu(t),t){const s=fe.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||uy(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function i(o){if(o=Eu(o),o){const c=fe.findKey(s,o);c&&(!n||uy(s,s[c],c,n))&&(delete s[c],a=!0)}}return fe.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];(!t||uy(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,s={};return fe.forEach(this,(a,i)=>{const o=fe.findKey(s,i);if(o){n[o]=dp(a),delete n[i];return}const c=t?DF(i):String(i).trim();c!==i&&delete n[i],n[c]=dp(a),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return fe.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&fe.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[jS]=this[jS]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=Eu(o);s[c]||(RF(a,o),s[c]=!0)}return fe.isArray(t)?t.forEach(i):i(t),this}};vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(vs.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});fe.freezeMethods(vs);function my(e,t){const n=this||ch,s=t||n,a=vs.from(s.headers);let i=s.data;return fe.forEach(e,function(c){i=c.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function _P(e){return!!(e&&e.__CANCEL__)}function Xd(e,t,n){ht.call(this,e??"canceled",ht.ERR_CANCELED,t,n),this.name="CanceledError"}fe.inherits(Xd,ht,{__CANCEL__:!0});function SP(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ht("Request failed with status code "+n.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function IF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function FF(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),m=s[i];o||(o=u),n[a]=d,s[a]=u;let f=i,g=0;for(;f!==a;)g+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const x=m&&u-m;return x?Math.round(g*1e3/x):void 0}}function BF(e,t){let n=0,s=1e3/t,a,i;const o=(u,m=Date.now())=>{n=m,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const m=Date.now(),f=m-n;f>=s?o(u,m):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const qp=(e,t,n=3)=>{let s=0;const a=FF(50,250);return BF(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-s,u=a(d),m=o<=c;s=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&m?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},n)},NS=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},_S=e=>(...t)=>fe.asap(()=>e(...t)),$F=Mn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Mn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,zF=Mn.hasStandardBrowserEnv?{write(e,t,n,s,a,i){const o=[e+"="+encodeURIComponent(t)];fe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),fe.isString(s)&&o.push("path="+s),fe.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function GF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kP(e,t,n){let s=!UF(t);return e&&(s||n==!1)?GF(e,t):t}const SS=e=>e instanceof vs?{...e}:e;function mc(e,t){t=t||{};const n={};function s(u,m,f,g){return fe.isPlainObject(u)&&fe.isPlainObject(m)?fe.merge.call({caseless:g},u,m):fe.isPlainObject(m)?fe.merge({},m):fe.isArray(m)?m.slice():m}function a(u,m,f,g){if(fe.isUndefined(m)){if(!fe.isUndefined(u))return s(void 0,u,f,g)}else return s(u,m,f,g)}function i(u,m){if(!fe.isUndefined(m))return s(void 0,m)}function o(u,m){if(fe.isUndefined(m)){if(!fe.isUndefined(u))return s(void 0,u)}else return s(void 0,m)}function c(u,m,f){if(f in t)return s(u,m);if(f in e)return s(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,m,f)=>a(SS(u),SS(m),f,!0)};return fe.forEach(Object.keys({...e,...t}),function(m){const f=d[m]||a,g=f(e[m],t[m],m);fe.isUndefined(g)&&f!==c||(n[m]=g)}),n}const CP=e=>{const t=mc({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;if(t.headers=o=vs.from(o),t.url=wP(kP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),fe.isFormData(n)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(fe.isFunction(n.getHeaders)){const d=n.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{u.includes(m.toLowerCase())&&o.set(m,f)})}}if(Mn.hasStandardBrowserEnv&&(s&&fe.isFunction(s)&&(s=s(t)),s||s!==!1&&$F(t.url))){const d=a&&i&&zF.read(i);d&&o.set(a,d)}return t},WF=typeof XMLHttpRequest<"u",HF=WF&&function(e){return new Promise(function(n,s){const a=CP(e);let i=a.data;const o=vs.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=a,m,f,g,x,v;function w(){x&&x(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function j(){if(!b)return;const _=vs.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:_,config:e,request:b};SP(function(E){n(E),w()},function(E){s(E),w()},A),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(s(new ht("Request aborted",ht.ECONNABORTED,e,b)),b=null)},b.onerror=function(k){const A=k&&k.message?k.message:"Network Error",P=new ht(A,ht.ERR_NETWORK,e,b);P.event=k||null,s(P),b=null},b.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||jP;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),s(new ht(k,A.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&fe.forEach(o.toJSON(),function(k,A){b.setRequestHeader(A,k)}),fe.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),c&&c!=="json"&&(b.responseType=a.responseType),u&&([g,v]=qp(u,!0),b.addEventListener("progress",g)),d&&b.upload&&([f,x]=qp(d),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(m=_=>{b&&(s(!_||_.type?new Xd(null,e,b):_),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const S=IF(a.url);if(S&&Mn.protocols.indexOf(S)===-1){s(new ht("Unsupported protocol "+S+":",ht.ERR_BAD_REQUEST,e));return}b.send(i||null)})},qF=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const i=function(u){if(!a){a=!0,c();const m=u instanceof Error?u:this.reason;s.abort(m instanceof ht?m:new Xd(m instanceof Error?m.message:m))}};let o=t&&setTimeout(()=>{o=null,i(new ht(`timeout ${t} of ms exceeded`,ht.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=s;return d.unsubscribe=()=>fe.asap(c),d}},VF=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},KF=async function*(e,t){for await(const n of ZF(e))yield*VF(n,t)},ZF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},kS=(e,t,n,s)=>{const a=KF(e,t);let i=0,o,c=d=>{o||(o=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:u,value:m}=await a.next();if(u){c(),d.close();return}let f=m.byteLength;if(n){let g=i+=f;n(g)}d.enqueue(new Uint8Array(m))}catch(u){throw c(u),u}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},CS=64*1024,{isFunction:hf}=fe,YF=(({Request:e,Response:t})=>({Request:e,Response:t}))(fe.global),{ReadableStream:PS,TextEncoder:AS}=fe.global,ES=(e,...t)=>{try{return!!e(...t)}catch{return!1}},QF=e=>{e=fe.merge.call({skipUndefined:!0},YF,e);const{fetch:t,Request:n,Response:s}=e,a=t?hf(t):typeof fetch=="function",i=hf(n),o=hf(s);if(!a)return!1;const c=a&&hf(PS),d=a&&(typeof AS=="function"?(v=>w=>v.encode(w))(new AS):async v=>new Uint8Array(await new n(v).arrayBuffer())),u=i&&c&&ES(()=>{let v=!1;const w=new n(Mn.origin,{body:new PS,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!w}),m=o&&c&&ES(()=>fe.isReadableStream(new s("").body)),f={stream:m&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(w,b)=>{let j=w&&w[v];if(j)return j.call(w);throw new ht(`Response type '${v}' is not supported`,ht.ERR_NOT_SUPPORT,b)})});const g=async v=>{if(v==null)return 0;if(fe.isBlob(v))return v.size;if(fe.isSpecCompliantForm(v))return(await new n(Mn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(v)||fe.isArrayBuffer(v))return v.byteLength;if(fe.isURLSearchParams(v)&&(v=v+""),fe.isString(v))return(await d(v)).byteLength},x=async(v,w)=>{const b=fe.toFiniteNumber(v.getContentLength());return b??g(w)};return async v=>{let{url:w,method:b,data:j,signal:S,cancelToken:_,timeout:k,onDownloadProgress:A,onUploadProgress:P,responseType:E,headers:T,withCredentials:M="same-origin",fetchOptions:U}=CP(v),D=t||fetch;E=E?(E+"").toLowerCase():"text";let B=qF([S,_&&_.toAbortSignal()],k),z=null;const X=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let le;try{if(P&&u&&b!=="get"&&b!=="head"&&(le=await x(T,j))!==0){let I=new n(w,{method:"POST",body:j,duplex:"half"}),pe;if(fe.isFormData(j)&&(pe=I.headers.get("content-type"))&&T.setContentType(pe),I.body){const[Q,xe]=NS(le,qp(_S(P)));j=kS(I.body,CS,Q,xe)}}fe.isString(M)||(M=M?"include":"omit");const $=i&&"credentials"in n.prototype,ae={...U,signal:B,method:b.toUpperCase(),headers:T.normalize().toJSON(),body:j,duplex:"half",credentials:$?M:void 0};z=i&&new n(w,ae);let G=await(i?D(z,U):D(w,ae));const ie=m&&(E==="stream"||E==="response");if(m&&(A||ie&&X)){const I={};["status","statusText","headers"].forEach(je=>{I[je]=G[je]});const pe=fe.toFiniteNumber(G.headers.get("content-length")),[Q,xe]=A&&NS(pe,qp(_S(A),!0))||[];G=new s(kS(G.body,CS,Q,()=>{xe&&xe(),X&&X()}),I)}E=E||"text";let ce=await f[fe.findKey(f,E)||"text"](G,v);return!ie&&X&&X(),await new Promise((I,pe)=>{SP(I,pe,{data:ce,headers:vs.from(G.headers),status:G.status,statusText:G.statusText,config:v,request:z})})}catch($){throw X&&X(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,v,z),{cause:$.cause||$}):ht.from($,$&&$.code,v,z)}}},JF=new Map,PP=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:a}=t,i=[s,a,n];let o=i.length,c=o,d,u,m=JF;for(;c--;)d=i[c],u=m.get(d),u===void 0&&m.set(d,u=c?new Map:QF(t)),m=u;return u};PP();const db={http:pF,xhr:HF,fetch:{get:PP}};fe.forEach(db,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const OS=e=>`- ${e}`,XF=e=>fe.isFunction(e)||e===null||e===!1,AP={getAdapter:(e,t)=>{e=fe.isArray(e)?e:[e];const{length:n}=e;let s,a;const i={};for(let o=0;o<n;o++){s=e[o];let c;if(a=s,!XF(s)&&(a=db[(c=String(s)).toLowerCase()],a===void 0))throw new ht(`Unknown adapter '${c}'`);if(a&&(fe.isFunction(a)||(a=a.get(t))))break;i[c||"#"+o]=a}if(!a){const o=Object.entries(i).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(OS).join(`
`):" "+OS(o[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:db};function hy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xd(null,e)}function TS(e){return hy(e),e.headers=vs.from(e.headers),e.data=my.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),AP.getAdapter(e.adapter||ch.adapter,e)(e).then(function(s){return hy(e),s.data=my.call(e,e.transformResponse,s),s.headers=vs.from(s.headers),s},function(s){return _P(s)||(hy(e),s&&s.response&&(s.response.data=my.call(e,e.transformResponse,s.response),s.response.headers=vs.from(s.response.headers))),Promise.reject(s)})}const EP="1.12.2",cx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{cx[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const LS={};cx.transitional=function(t,n,s){function a(i,o){return"[Axios v"+EP+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,c)=>{if(t===!1)throw new ht(a(o," has been removed"+(n?" in "+n:"")),ht.ERR_DEPRECATED);return n&&!LS[o]&&(LS[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,c):!0}};cx.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function eB(e,t,n){if(typeof e!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const c=e[i],d=c===void 0||o(c,i,e);if(d!==!0)throw new ht("option "+i+" must be "+d,ht.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ht("Unknown option "+i,ht.ERR_BAD_OPTION)}}const up={assertOptions:eB,validators:cx},qa=up.validators;let Jl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wS,response:new wS}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mc(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;s!==void 0&&up.assertOptions(s,{silentJSONParsing:qa.transitional(qa.boolean),forcedJSONParsing:qa.transitional(qa.boolean),clarifyTimeoutError:qa.transitional(qa.boolean)},!1),a!=null&&(fe.isFunction(a)?n.paramsSerializer={serialize:a}:up.assertOptions(a,{encode:qa.function,serialize:qa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),up.assertOptions(n,{baseUrl:qa.spelling("baseURL"),withXsrfToken:qa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&fe.merge(i.common,i[n.method]);i&&fe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=vs.concat(o,i);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let m,f=0,g;if(!d){const v=[TS.bind(this),void 0];for(v.unshift(...c),v.push(...u),g=v.length,m=Promise.resolve(n);f<g;)m=m.then(v[f++],v[f++]);return m}g=c.length;let x=n;for(;f<g;){const v=c[f++],w=c[f++];try{x=v(x)}catch(b){w.call(this,b);break}}try{m=TS.call(this,x)}catch(v){return Promise.reject(v)}for(f=0,g=u.length;f<g;)m=m.then(u[f++],u[f++]);return m}getUri(t){t=mc(this.defaults,t);const n=kP(t.baseURL,t.url,t.allowAbsoluteUrls);return wP(n,t.params,t.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(t){Jl.prototype[t]=function(n,s){return this.request(mc(s||{},{method:t,url:n,data:(s||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,c){return this.request(mc(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Jl.prototype[t]=n(),Jl.prototype[t+"Form"]=n(!0)});let tB=class OP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,c){s.reason||(s.reason=new Xd(i,o,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new OP(function(a){t=a}),cancel:t}}};function rB(e){return function(n){return e.apply(null,n)}}function nB(e){return fe.isObject(e)&&e.isAxiosError===!0}const ub={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ub).forEach(([e,t])=>{ub[t]=e});function TP(e){const t=new Jl(e),n=cP(Jl.prototype.request,t);return fe.extend(n,Jl.prototype,t,{allOwnKeys:!0}),fe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return TP(mc(e,a))},n}const Nt=TP(ch);Nt.Axios=Jl;Nt.CanceledError=Xd;Nt.CancelToken=tB;Nt.isCancel=_P;Nt.VERSION=EP;Nt.toFormData=lx;Nt.AxiosError=ht;Nt.Cancel=Nt.CanceledError;Nt.all=function(t){return Promise.all(t)};Nt.spread=rB;Nt.isAxiosError=nB;Nt.mergeConfig=mc;Nt.AxiosHeaders=vs;Nt.formToJSON=e=>NP(fe.isHTMLForm(e)?new FormData(e):e);Nt.getAdapter=AP.getAdapter;Nt.HttpStatusCode=ub;Nt.default=Nt;const{Axios:gle,AxiosError:xle,CanceledError:yle,isCancel:vle,CancelToken:ble,VERSION:wle,all:jle,Cancel:Nle,isAxiosError:_le,spread:Sle,toFormData:kle,AxiosHeaders:Cle,HttpStatusCode:Ple,formToJSON:Ale,getAdapter:Ele,mergeConfig:Ole}=Nt,sB=()=>"http://localhost:3001".replace(/\/$/,""),aB=sB(),Sr=e=>{const t=e.startsWith("/")?e:`/${e}`;return`${aB}${t}`},yt=Nt.create({baseURL:Sr("/api"),headers:{"Content-Type":"application/json"},withCredentials:!0});yt.interceptors.request.use(e=>{var n;const t=(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content");return t&&e.method!=="get"&&(e.headers["X-CSRF-Token"]=t),e},e=>Promise.reject(e));yt.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&!window.location.pathname.includes("/login")&&(window.location.href="/login"),Promise.reject(e)});const ei={register:e=>yt.post("/auth/register",e),login:e=>yt.post("/auth/login",e),logout:()=>yt.post("/auth/logout"),getProfile:()=>yt.get("/auth/profile"),updateProfile:e=>yt.put("/auth/profile",e)},Li={submit:e=>yt.post("/research/submit",e),search:e=>{const t={...e};return t.geographic_filter&&(t.geographic_filter=JSON.stringify(t.geographic_filter)),yt.get("/research/search",{params:t})},naturalLanguageSearch:(e,t=1,n=20)=>yt.post("/research/natural-language-search",{query:e,page:t,limit:n}),getById:e=>yt.get(`/research/${e}`),getMyResearch:e=>yt.get("/research/my-research",{params:e}),suggestMetadata:(e,t)=>yt.put(`/research/${e}/suggest`,t),getSuggestions:(e,t)=>yt.get(`/research/${e}/suggestions`,{params:t}),getMySuggestions:()=>yt.get("/research/my-suggestions"),getPendingSuggestions:()=>yt.get("/research/pending-suggestions"),reviewSuggestion:(e,t)=>yt.post(`/research/suggestions/${e}/review`,t),previewSuggestions:e=>yt.post("/research/preview-suggestions",e)},LP={find:e=>yt.get("/researchers/find",{params:e}),getProfile:e=>yt.get(`/researchers/${e}`)},iB={lookupDOI:async e=>{try{return(await Nt.get(`https://api.crossref.org/works/${e}`)).data.message}catch{throw new Error("DOI not found")}}},Xl={getUserInterests:()=>yt.get("/interests"),updateInterests:e=>yt.put("/interests",e),getAvailable:e=>yt.get("/interests/available",{params:e}),getTrending:e=>yt.get("/interests/trending",{params:e}),getFeed:e=>yt.get("/interests/feed",{params:e}),getFeatured:e=>yt.get("/interests/featured",{params:e})},eu={getTrendingTopics:e=>yt.get("/analytics/trending-topics",{params:e}),getWeeklyTrends:e=>yt.get("/analytics/trends",{params:e}),getAnalyzedPapers:e=>yt.get("/analytics/papers",{params:e}),getAnalyticsSummary:()=>yt.get("/analytics/summary"),getMapData:e=>yt.get("/analytics/map-data",{params:e}),getDatabaseStats:e=>yt.get("/analytics/database-stats",{params:e}),getLatestPapers:e=>yt.get("/analytics/latest-papers",{params:e}),getTemporalTrends:e=>yt.get("/analytics/temporal-trends",{params:e}),getResearchGaps:e=>yt.get("/analytics/research-gaps",{params:e}),getPredictiveAnalytics:e=>yt.get("/analytics/predictions",{params:e}),getCollaborationNetworks:e=>yt.get("/analytics/collaborations",{params:e}),getWeeklyHighlights:e=>yt.get("/analytics/weekly-highlights",{params:e})},oB=Object.freeze(Object.defineProperty({__proto__:null,analyticsAPI:eu,authAPI:ei,crossrefAPI:iB,interestsAPI:Xl,researchAPI:Li,researchersAPI:LP},Symbol.toStringTag,{value:"Module"})),MP=p.createContext(null),lB=({children:e})=>{const[t,n]=p.useState(null),[s,a]=p.useState(!0);p.useEffect(()=>{ei.getProfile().then(u=>{n(u.data.user)}).catch(()=>{n(null)}).finally(()=>{a(!1)})},[]);const i=async u=>{const m=await ei.login(u);return n(m.data.user),m.data},o=async u=>{const m=await ei.register(u);return n(m.data.user),m.data},c=async()=>{try{await ei.logout()}catch{}n(null),["authToken","user","session","refresh_token"].forEach(m=>{localStorage.removeItem(m),sessionStorage.removeItem(m)})},d=u=>{n(u)};return r.jsx(MP.Provider,{value:{user:t,login:i,register:o,logout:c,updateUser:d,loading:s,isAuthenticated:!!t},children:e})},Ot=()=>{const e=p.useContext(MP);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function cB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Qo=p.forwardRef(cB);function dB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const uB=p.forwardRef(dB);function mB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const DP=p.forwardRef(mB);function hB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Yi=p.forwardRef(hB);function fB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Vp=p.forwardRef(fB);function pB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const rd=p.forwardRef(pB);function gB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const mb=p.forwardRef(gB);function xB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const MS=p.forwardRef(xB);function yB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const um=p.forwardRef(yB);function vB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const bB=p.forwardRef(vB);function wB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const RP=p.forwardRef(wB);function jB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const Cr=p.forwardRef(jB);function NB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const ii=p.forwardRef(NB);function _B({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const hb=p.forwardRef(_B);function SB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const ti=p.forwardRef(SB);function kB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const Vo=p.forwardRef(kB);function CB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Jo=p.forwardRef(CB);function PB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"}))}const AB=p.forwardRef(PB);function EB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ec=p.forwardRef(EB);function OB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Jr=p.forwardRef(OB);function TB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const en=p.forwardRef(TB);function LB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const zi=p.forwardRef(LB);function MB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ae=p.forwardRef(MB);function DB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Ps=p.forwardRef(DB);function RB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const la=p.forwardRef(RB);function IB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const FB=p.forwardRef(IB);function BB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const IP=p.forwardRef(BB);function $B({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const dx=p.forwardRef($B);function zB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const FP=p.forwardRef(zB);function UB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const hc=p.forwardRef(UB);function GB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const fy=p.forwardRef(GB);function WB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const HB=p.forwardRef(WB);function qB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const BP=p.forwardRef(qB);function VB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Kp=p.forwardRef(VB);function KB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const hd=p.forwardRef(KB);function ZB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Zp=p.forwardRef(ZB);function YB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const QB=p.forwardRef(YB);function JB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const DS=p.forwardRef(JB);function XB({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const bt=p.forwardRef(XB);function e$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const ri=p.forwardRef(e$);function t$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const fb=p.forwardRef(t$);function r$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Yp=p.forwardRef(r$);function n$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const RS=p.forwardRef(n$);function s$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const $P=p.forwardRef(s$);function a$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const i$=p.forwardRef(a$);function o$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const l$=p.forwardRef(o$);function c$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const zP=p.forwardRef(c$);function d$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Qp=p.forwardRef(d$);function u$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Ja=p.forwardRef(u$);function m$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const cr=p.forwardRef(m$);function h$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const mp=p.forwardRef(h$);function f$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const Rm=p.forwardRef(f$);function p$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const Ma=p.forwardRef(p$);function g$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const uo=p.forwardRef(g$);function x$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"}))}const y$=p.forwardRef(x$);function v$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Dn=p.forwardRef(v$);function b$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Wt=p.forwardRef(b$);function w$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const j$=p.forwardRef(w$);function N$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))}const _$=p.forwardRef(N$);function S$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const ux=p.forwardRef(S$);function k$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const pb=p.forwardRef(k$);function C$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const UP=p.forwardRef(C$);function P$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const A$=p.forwardRef(P$);function E$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const O$=p.forwardRef(E$);function T$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const sa=p.forwardRef(T$);function L$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const M$=p.forwardRef(L$);function D$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 19.5v-.75a7.5 7.5 0 0 0-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const py=p.forwardRef(D$);function R$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Jp=p.forwardRef(R$);function I$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Ct=p.forwardRef(I$);function F$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const B$=p.forwardRef(F$);function $$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const z$=p.forwardRef($$);function U$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Rd=p.forwardRef(U$);function G$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Rs=p.forwardRef(G$);function W$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Sj=p.forwardRef(W$);function H$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Qn=p.forwardRef(H$);function q$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const GP=p.forwardRef(q$);function V$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const K$=p.forwardRef(V$);function Z$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const IS=p.forwardRef(Z$);function Y$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mm=p.forwardRef(Y$);function Q$({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Rt=p.forwardRef(Q$),J$=()=>{var x,v,w;const{isAuthenticated:e,user:t,logout:n}=Ot(),[s,a]=p.useState(null),[i,o]=p.useState(!1),c=p.useRef({}),[d]=p.useState(0),[u]=p.useState(0),m={research:{title:"Research",icon:r.jsx(Cr,{className:"w-5 h-5"}),items:[{label:"Search Research",path:"/search",description:"Find aligned research papers",icon:r.jsx(Dn,{className:"w-4 h-4"}),badge:"Beta"},{label:"Geographic Explorer",path:"/map",description:"Interactive research coverage map",icon:r.jsx(cr,{className:"w-4 h-4"}),badge:"Beta"},{label:"Frameworks",path:"/frameworks",description:"Conservation & sustainability frameworks",icon:r.jsx(ti,{className:"w-4 h-4"})},{label:"Analytics Dashboard",path:"/analytics",description:"Research trends & insights",icon:r.jsx(en,{className:"w-4 h-4"}),badge:"Beta"}],featured:{title:"AI Research Assistant",description:"Ask questions about research papers, frameworks, and policy alignment using AI.",link:"/ai-assistant"}},opportunities:{title:"Opportunities",icon:r.jsx(Jo,{className:"w-5 h-5"}),items:[{label:"Job Board",path:"/jobs",description:"Research positions & careers",icon:r.jsx(Jo,{className:"w-4 h-4"})},{label:"Grant Opportunities",path:"/grants",description:"Funding for your research",icon:r.jsx(hd,{className:"w-4 h-4"})},{label:"AI Grant Writing",path:"/ai-writing",description:"AI-powered proposal assistance",icon:r.jsx(Ct,{className:"w-4 h-4"})}],featured:{title:"Featured Opportunities",description:"Premium-curated jobs, grants, training, and events from leading conservation organizations.",link:"/featured"}},resources:{title:"Resources",icon:r.jsx(ti,{className:"w-5 h-5"}),items:[{label:"About COMPASS ID",path:"/about",description:"Our mission and vision",icon:r.jsx(bt,{className:"w-4 h-4"})},{label:"How It Works",path:"/how-it-works",description:"Platform guide and tutorials",icon:r.jsx(z$,{className:"w-4 h-4"})},{label:"News & Updates",path:"/news",description:"Platform announcements and blog",icon:r.jsx(ti,{className:"w-4 h-4"})},{label:"API Documentation",path:"/api-docs",description:"Developer resources",icon:r.jsx(bt,{className:"w-4 h-4"})}],featured:{title:"Why Get a COMPASS ID?",description:"Discover all the benefits of creating a free account and joining our community of conservation researchers.",link:"/why-compass-id"}},community:{title:"Community",icon:r.jsx(Qn,{className:"w-5 h-5"}),items:[{label:"Community Hub",path:"/community",description:"Connect with researchers",icon:r.jsx(Qn,{className:"w-4 h-4"})},{label:"Research Groups",path:"/groups",description:"Join collaborative teams",icon:r.jsx(Qo,{className:"w-4 h-4"})},{label:"Events & Webinars",path:"/events",description:"Community events and workshops",icon:r.jsx(cr,{className:"w-4 h-4"})}]}},f=b=>{a(b)},g=()=>{a(null)};return p.useEffect(()=>{const b=j=>{s&&!Object.values(c.current).some(S=>S==null?void 0:S.contains(j.target))&&a(null)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[s]),r.jsx("nav",{className:"bg-white/95 backdrop-blur-md border-b border-neutral-100 sticky top-0 z-[9999]",children:r.jsxs("div",{className:"container-custom",children:[r.jsxs("div",{className:"flex justify-between items-center h-20",children:[r.jsxs(ne,{to:"/",className:"flex items-center space-x-3 group flex-shrink-0 mr-8",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"C"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-neutral-900 group-hover:text-primary-600 transition-colors",children:[r.jsx("span",{className:"text-neutral-900",children:"COMPASS"}),r.jsx("span",{className:"text-primary-600 ml-1",children:"ID"})]}),r.jsx("div",{className:"hidden lg:block text-xs text-neutral-500 -mt-1 font-medium",children:"Research  Policy Bridge"})]})]}),r.jsxs("div",{className:"hidden lg:flex items-center space-x-1 flex-1 justify-center",children:[Object.entries(m).map(([b,j])=>r.jsxs("div",{className:"relative",ref:S=>c.current[b]=S,onMouseEnter:()=>f(b),onMouseLeave:g,children:[r.jsxs("button",{className:`
                    flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-200
                    ${s===b?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-50 hover:text-primary-600"}
                  `,children:[j.icon,r.jsx("span",{children:j.title}),r.jsx(la,{className:`w-4 h-4 transition-transform duration-200 ${s===b?"rotate-180":""}`})]}),r.jsx("div",{className:`
                  absolute top-full left-0 mt-2 bg-white rounded-2xl shadow-2xl border border-neutral-100
                  transition-all duration-300 transform origin-top-left
                  ${s===b?"opacity-100 visible scale-100 translate-y-0":"opacity-0 invisible scale-95 -translate-y-2"}
                  ${j.featured?"w-[600px]":"w-[320px]"}
                `,children:r.jsx("div",{className:"p-2",children:r.jsxs("div",{className:j.featured?"flex gap-4":"",children:[r.jsx("div",{className:j.featured?"flex-1":"",children:j.items.map((S,_)=>r.jsxs(ne,{to:S.path,className:"flex items-start gap-3 px-4 py-3 rounded-xl hover:bg-primary-50 transition-colors group",onClick:()=>a(null),children:[r.jsx("span",{className:"text-neutral-400 group-hover:text-primary-600 mt-0.5",children:S.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-neutral-900 group-hover:text-primary-700",children:S.label}),S.badge&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-primary-100 text-primary-700 rounded-full",children:S.badge})]}),S.description&&r.jsx("p",{className:"text-sm text-neutral-500 mt-0.5",children:S.description})]})]},_))}),j.featured&&r.jsx("div",{className:"w-[240px] border-l border-neutral-100 pl-4",children:r.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary-50 to-secondary-50 rounded-xl",children:[r.jsx("h4",{className:"font-semibold text-neutral-900 mb-2",children:j.featured.title}),r.jsx("p",{className:"text-sm text-neutral-600 mb-3",children:j.featured.description}),r.jsxs(ne,{to:j.featured.link,className:"inline-flex items-center gap-2 text-sm font-medium text-primary-600 hover:text-primary-700",onClick:()=>a(null),children:["Learn more",r.jsx(rd,{className:"w-4 h-4"})]})]})})]})})})]},b)),r.jsx("div",{className:"flex items-center gap-2 ml-auto pl-4 border-l border-neutral-200 flex-shrink-0",children:e?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{to:"/notifications",className:"relative p-2 text-neutral-700 hover:text-primary-600 hover:bg-neutral-50 rounded-lg transition-colors",title:"Notifications",children:[r.jsx(ii,{className:"w-5 h-5"}),d>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:d>9?"9+":d})]}),r.jsxs(ne,{to:"/messages",className:"relative p-2 text-neutral-700 hover:text-primary-600 hover:bg-neutral-50 rounded-lg transition-colors",title:"Messages",children:[r.jsx(ri,{className:"w-5 h-5"}),u>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:u>9?"9+":u})]}),r.jsx(ne,{to:"/dashboard",className:"px-3 py-2 text-neutral-700 hover:text-primary-600 font-medium transition-colors text-sm",children:"Dashboard"}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&r.jsxs(ne,{to:"/admin",className:"px-3 py-2 text-red-600 hover:text-red-700 font-medium transition-colors text-sm flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin"]}),r.jsxs("div",{className:"relative group",children:[r.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-neutral-50 transition-colors",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:(((x=t==null?void 0:t.first_name)==null?void 0:x[0])||((v=t==null?void 0:t.email)==null?void 0:v[0])||"U").toUpperCase()})}),r.jsx("span",{className:"text-sm font-medium text-neutral-700",children:(t==null?void 0:t.first_name)||((w=t==null?void 0:t.email)==null?void 0:w.split("@")[0])}),r.jsx(la,{className:"w-4 h-4 text-neutral-400"})]}),r.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-neutral-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:r.jsxs("div",{className:"p-2",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-neutral-100",children:[r.jsxs("div",{className:"font-semibold text-neutral-900",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),r.jsx("div",{className:"text-sm text-neutral-500",children:t==null?void 0:t.email}),(t==null?void 0:t.compass_id)&&r.jsx("div",{className:"text-xs text-neutral-400 font-mono mt-1",children:t.compass_id})]}),(t==null?void 0:t.compass_id)&&r.jsx(ne,{to:`/profile/${t.compass_id}`,className:"flex items-center w-full px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 rounded-lg transition-colors",children:"My Profile"}),r.jsx(ne,{to:"/settings",className:"flex items-center w-full px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 rounded-lg transition-colors",children:"Account Settings"}),r.jsx("button",{onClick:n,className:"flex items-center w-full px-4 py-3 text-sm text-neutral-700 hover:bg-red-50 hover:text-red-700 rounded-lg transition-colors",children:"Logout"})]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(ne,{to:"/login",className:"px-4 py-2 text-neutral-700 hover:text-primary-600 font-medium transition-colors",children:"Login"}),r.jsx(ne,{to:"/register",className:"btn-primary",children:"Get Started"})]})})]}),r.jsx("button",{onClick:()=>o(!i),className:"lg:hidden p-2 rounded-xl hover:bg-neutral-100 transition-colors",children:i?r.jsx(Rt,{className:"w-6 h-6"}):r.jsx(RP,{className:"w-6 h-6"})})]}),i&&r.jsxs("div",{className:"lg:hidden py-4 border-t border-neutral-100",children:[Object.entries(m).map(([b,j])=>r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"px-4 py-2 font-semibold text-neutral-900",children:j.title}),j.items.map((S,_)=>r.jsxs(ne,{to:S.path,className:"flex items-center gap-3 px-6 py-2 text-neutral-700 hover:bg-neutral-50",onClick:()=>o(!1),children:[S.icon,r.jsx("span",{children:S.label}),S.badge&&r.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-medium bg-primary-100 text-primary-700 rounded-full",children:S.badge})]},_))]},b)),r.jsx("div",{className:"pt-4 border-t border-neutral-100",children:e?r.jsxs(r.Fragment,{children:[r.jsx(ne,{to:"/dashboard",className:"block px-6 py-2 text-neutral-700 hover:bg-neutral-50",onClick:()=>o(!1),children:"Dashboard"}),r.jsx(ne,{to:"/settings",className:"block px-6 py-2 text-neutral-700 hover:bg-neutral-50",onClick:()=>o(!1),children:"Account Settings"}),r.jsx("button",{onClick:()=>{n(),o(!1)},className:"block w-full text-left px-6 py-2 text-red-600 hover:bg-red-50",children:"Logout"})]}):r.jsxs(r.Fragment,{children:[r.jsx(ne,{to:"/login",className:"block px-6 py-2 text-neutral-700 hover:bg-neutral-50",onClick:()=>o(!1),children:"Login"}),r.jsx(ne,{to:"/register",className:"block px-6 py-2 text-primary-600 font-medium hover:bg-primary-50",onClick:()=>o(!1),children:"Get Started"})]})})]})]})})};function X$(){const e=new Date().getFullYear();return r.jsx("footer",{className:"bg-neutral-900 text-white",children:r.jsxs("div",{className:"container-custom py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 lg:gap-12",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"COMPASS ID"}),r.jsx("div",{className:"text-xs text-neutral-400 -mt-1",children:"Research-Policy Alignment"})]})]}),r.jsx("p",{className:"text-neutral-300 mb-6 max-w-md",children:"Open infrastructure for research-policy alignment. Making research discoverable by its real-world impact potential and connecting researchers with funding opportunities."}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"https://twitter.com/compassid",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-400 hover:text-white transition-colors","aria-label":"Follow us on Twitter",children:r.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),r.jsx("a",{href:"https://github.com/compassid",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-400 hover:text-white transition-colors","aria-label":"View our GitHub repository",children:r.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),r.jsx("a",{href:"https://linkedin.com/company/compassid",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-400 hover:text-white transition-colors","aria-label":"Connect with us on LinkedIn",children:r.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Platform"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsx(ne,{to:"/search",className:"text-neutral-300 hover:text-white transition-colors",children:"Search Research"})}),r.jsx("li",{children:r.jsx(ne,{to:"/frameworks",className:"text-neutral-300 hover:text-white transition-colors",children:"Policy Frameworks"})}),r.jsx("li",{children:r.jsx(ne,{to:"/grants",className:"text-neutral-300 hover:text-white transition-colors",children:"Find Grants"})}),r.jsx("li",{children:r.jsx(ne,{to:"/jobs",className:"text-neutral-300 hover:text-white transition-colors",children:"Job Board"})}),r.jsx("li",{children:r.jsx(ne,{to:"/community",className:"text-neutral-300 hover:text-white transition-colors",children:"Community"})}),r.jsx("li",{children:r.jsx(ne,{to:"/blog",className:"text-neutral-300 hover:text-white transition-colors",children:"Blog"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Get Started"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsx(ne,{to:"/how-it-works",className:"text-neutral-300 hover:text-white transition-colors",children:"How It Works"})}),r.jsx("li",{children:r.jsx(ne,{to:"/register",className:"text-neutral-300 hover:text-white transition-colors",children:"Create Account"})}),r.jsx("li",{children:r.jsx(ne,{to:"/dashboard",className:"text-neutral-300 hover:text-white transition-colors",children:"My Dashboard"})}),r.jsx("li",{children:r.jsx(ne,{to:"/premium",className:"text-neutral-300 hover:text-white transition-colors",children:"Premium Plans"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"About"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsx(ne,{to:"/about",className:"text-neutral-300 hover:text-white transition-colors",children:"About COMPASS ID"})}),r.jsx("li",{children:r.jsx(ne,{to:"/team",className:"text-neutral-300 hover:text-white transition-colors",children:"Our Team"})}),r.jsx("li",{children:r.jsx(ne,{to:"/how-it-works",className:"text-neutral-300 hover:text-white transition-colors",children:"How It Works"})}),r.jsx("li",{children:r.jsx(ne,{to:"/blog",className:"text-neutral-300 hover:text-white transition-colors",children:"News & Updates"})}),r.jsx("li",{children:r.jsx(ne,{to:"/api-docs",className:"text-neutral-300 hover:text-white transition-colors",children:"API Documentation"})}),r.jsx("li",{children:r.jsx(ne,{to:"/support",className:"text-neutral-300 hover:text-white transition-colors",children:"Contact & Support"})})]})]})]}),r.jsxs("div",{className:"border-t border-neutral-800 mt-12 pt-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Supported Policy Frameworks"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-sm",children:[r.jsxs("div",{className:"text-neutral-300",children:[r.jsx("div",{className:"font-medium text-white mb-1",children:"UN SDGs"}),r.jsx("div",{children:"Sustainable Development Goals"})]}),r.jsxs("div",{className:"text-neutral-300",children:[r.jsx("div",{className:"font-medium text-white mb-1",children:"CBD"}),r.jsx("div",{children:"Convention on Biological Diversity"})]}),r.jsxs("div",{className:"text-neutral-300",children:[r.jsx("div",{className:"font-medium text-white mb-1",children:"UNFCCC"}),r.jsx("div",{children:"Paris Agreement"})]}),r.jsxs("div",{className:"text-neutral-300",children:[r.jsx("div",{className:"font-medium text-white mb-1",children:"CCAMLR"}),r.jsx("div",{children:"Antarctic Conservation"})]}),r.jsxs("div",{className:"text-neutral-300",children:[r.jsx("div",{className:"font-medium text-white mb-1",children:"Ramsar"}),r.jsx("div",{children:"Wetlands Convention"})]}),r.jsxs("div",{className:"text-neutral-300",children:[r.jsx("div",{className:"font-medium text-white mb-1",children:"CITES"}),r.jsx("div",{children:"Trade in Endangered Species"})]})]})]}),r.jsx("div",{className:"border-t border-neutral-800 mt-12 pt-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[r.jsxs("p",{className:"text-neutral-400 text-sm",children:[" ",e," Compass ID. Open infrastructure for research-policy alignment."]}),r.jsxs("div",{className:"flex space-x-6 text-sm",children:[r.jsx(ne,{to:"/privacy",className:"text-neutral-400 hover:text-white transition-colors",children:"Privacy Policy"}),r.jsx(ne,{to:"/terms",className:"text-neutral-400 hover:text-white transition-colors",children:"Terms of Service"}),r.jsx(ne,{to:"/about",className:"text-neutral-400 hover:text-white transition-colors",children:"About Us"}),r.jsx("a",{href:"mailto:contact@compassid.org",className:"text-neutral-400 hover:text-white transition-colors",children:"Contact"})]})]}),r.jsx("div",{className:"text-sm text-neutral-400",children:"Made with  for the research community"})]})})]})})}function ez(){const{pathname:e}=dl();return p.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function WP(e,t){const n=p.useRef(t);p.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function tz(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const rz=1;function nz(e){return Object.freeze({__version:rz,map:e})}function kj(e,t){return Object.freeze({...e,...t})}const HP=p.createContext(null),qP=HP.Provider;function mx(){const e=p.useContext(HP);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function VP(e){function t(n,s){const{instance:a,context:i}=e(n).current;return p.useImperativeHandle(s,()=>a),n.children==null?null:tt.createElement(qP,{value:i},n.children)}return p.forwardRef(t)}function sz(e){function t(n,s){const[a,i]=p.useState(!1),{instance:o}=e(n,i).current;p.useImperativeHandle(s,()=>o),p.useEffect(function(){a&&o.update()},[o,a,n.children]);const c=o._contentNode;return c?nx.createPortal(n.children,c):null}return p.forwardRef(t)}function az(e){function t(n,s){const{instance:a}=e(n).current;return p.useImperativeHandle(s,()=>a),null}return p.forwardRef(t)}function Cj(e,t){const n=p.useRef();p.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function hx(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function iz(e,t){return function(s,a){const i=mx(),o=e(hx(s,i),i);return WP(i.map,s.attribution),Cj(o.current,s.eventHandlers),t(o.current,i,s,a),o}}var gb={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,s){s(t)})(v3,function(n){var s="1.9.4";function a(l){var h,y,N,C;for(y=1,N=arguments.length;y<N;y++){C=arguments[y];for(h in C)l[h]=C[h]}return l}var i=Object.create||function(){function l(){}return function(h){return l.prototype=h,new l}}();function o(l,h){var y=Array.prototype.slice;if(l.bind)return l.bind.apply(l,y.call(arguments,1));var N=y.call(arguments,2);return function(){return l.apply(h,N.length?N.concat(y.call(arguments)):arguments)}}var c=0;function d(l){return"_leaflet_id"in l||(l._leaflet_id=++c),l._leaflet_id}function u(l,h,y){var N,C,O,q;return q=function(){N=!1,C&&(O.apply(y,C),C=!1)},O=function(){N?C=arguments:(l.apply(y,arguments),setTimeout(q,h),N=!0)},O}function m(l,h,y){var N=h[1],C=h[0],O=N-C;return l===N&&y?l:((l-C)%O+O)%O+C}function f(){return!1}function g(l,h){if(h===!1)return l;var y=Math.pow(10,h===void 0?6:h);return Math.round(l*y)/y}function x(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function v(l){return x(l).split(/\s+/)}function w(l,h){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?i(l.options):{});for(var y in h)l.options[y]=h[y];return l.options}function b(l,h,y){var N=[];for(var C in l)N.push(encodeURIComponent(y?C.toUpperCase():C)+"="+encodeURIComponent(l[C]));return(!h||h.indexOf("?")===-1?"?":"&")+N.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function S(l,h){return l.replace(j,function(y,N){var C=h[N];if(C===void 0)throw new Error("No value provided for variable "+y);return typeof C=="function"&&(C=C(h)),C})}var _=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function k(l,h){for(var y=0;y<l.length;y++)if(l[y]===h)return y;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var E=0;function T(l){var h=+new Date,y=Math.max(0,16-(h-E));return E=h+y,window.setTimeout(l,y)}var M=window.requestAnimationFrame||P("RequestAnimationFrame")||T,U=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function D(l,h,y){if(y&&M===T)l.call(h);else return M.call(window,o(l,h))}function B(l){l&&U.call(window,l)}var z={__proto__:null,extend:a,create:i,bind:o,get lastId(){return c},stamp:d,throttle:u,wrapNum:m,falseFn:f,formatNum:g,trim:x,splitWords:v,setOptions:w,getParamString:b,template:S,isArray:_,indexOf:k,emptyImageUrl:A,requestFn:M,cancelFn:U,requestAnimFrame:D,cancelAnimFrame:B};function X(){}X.extend=function(l){var h=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=h.__super__=this.prototype,N=i(y);N.constructor=h,h.prototype=N;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(h[C]=this[C]);return l.statics&&a(h,l.statics),l.includes&&(le(l.includes),a.apply(null,[N].concat(l.includes))),a(N,l),delete N.statics,delete N.includes,N.options&&(N.options=y.options?i(y.options):{},a(N.options,l.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,q=N._initHooks.length;O<q;O++)N._initHooks[O].call(this)}},h},X.include=function(l){var h=this.prototype.options;return a(this.prototype,l),l.options&&(this.prototype.options=h,this.mergeOptions(l.options)),this},X.mergeOptions=function(l){return a(this.prototype.options,l),this},X.addInitHook=function(l){var h=Array.prototype.slice.call(arguments,1),y=typeof l=="function"?l:function(){this[l].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function le(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=_(l)?l:[l];for(var h=0;h<l.length;h++)l[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(l,h,y){if(typeof l=="object")for(var N in l)this._on(N,l[N],h);else{l=v(l);for(var C=0,O=l.length;C<O;C++)this._on(l[C],h,y)}return this},off:function(l,h,y){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var N in l)this._off(N,l[N],h);else{l=v(l);for(var C=arguments.length===1,O=0,q=l.length;O<q;O++)C?this._off(l[O]):this._off(l[O],h,y)}return this},_on:function(l,h,y,N){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(l,h,y)===!1){y===this&&(y=void 0);var C={fn:h,ctx:y};N&&(C.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(C)}},_off:function(l,h,y){var N,C,O;if(this._events&&(N=this._events[l],!!N)){if(arguments.length===1){if(this._firingCount)for(C=0,O=N.length;C<O;C++)N[C].fn=f;delete this._events[l];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var q=this._listens(l,h,y);if(q!==!1){var oe=N[q];this._firingCount&&(oe.fn=f,this._events[l]=N=N.slice()),N.splice(q,1)}}},fire:function(l,h,y){if(!this.listens(l,y))return this;var N=a({},h,{type:l,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var C=this._events[l];if(C){this._firingCount=this._firingCount+1||1;for(var O=0,q=C.length;O<q;O++){var oe=C[O],he=oe.fn;oe.once&&this.off(l,he,oe.ctx),he.call(oe.ctx||this,N)}this._firingCount--}}return y&&this._propagateEvent(N),this},listens:function(l,h,y,N){typeof l!="string"&&console.warn('"string" type argument expected');var C=h;typeof h!="function"&&(N=!!h,C=void 0,y=void 0);var O=this._events&&this._events[l];if(O&&O.length&&this._listens(l,C,y)!==!1)return!0;if(N){for(var q in this._eventParents)if(this._eventParents[q].listens(l,h,y,N))return!0}return!1},_listens:function(l,h,y){if(!this._events)return!1;var N=this._events[l]||[];if(!h)return!!N.length;y===this&&(y=void 0);for(var C=0,O=N.length;C<O;C++)if(N[C].fn===h&&N[C].ctx===y)return C;return!1},once:function(l,h,y){if(typeof l=="object")for(var N in l)this._on(N,l[N],h,!0);else{l=v(l);for(var C=0,O=l.length;C<O;C++)this._on(l[C],h,y,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[d(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[d(l)],this},_propagateEvent:function(l){for(var h in this._eventParents)this._eventParents[h].fire(l.type,a({layer:l.target,propagatedFrom:l.target},l),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var ae=X.extend($);function G(l,h,y){this.x=y?Math.round(l):l,this.y=y?Math.round(h):h}var ie=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(l){return this.clone()._add(ce(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(ce(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new G(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new G(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(l){l=ce(l);var h=l.x-this.x,y=l.y-this.y;return Math.sqrt(h*h+y*y)},equals:function(l){return l=ce(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=ce(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function ce(l,h,y){return l instanceof G?l:_(l)?new G(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new G(l.x,l.y):new G(l,h,y)}function I(l,h){if(l)for(var y=h?[l,h]:l,N=0,C=y.length;N<C;N++)this.extend(y[N])}I.prototype={extend:function(l){var h,y;if(!l)return this;if(l instanceof G||typeof l[0]=="number"||"x"in l)h=y=ce(l);else if(l=pe(l),h=l.min,y=l.max,!h||!y)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=y.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(l){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var h,y;return typeof l[0]=="number"||l instanceof G?l=ce(l):l=pe(l),l instanceof I?(h=l.min,y=l.max):h=y=l,h.x>=this.min.x&&y.x<=this.max.x&&h.y>=this.min.y&&y.y<=this.max.y},intersects:function(l){l=pe(l);var h=this.min,y=this.max,N=l.min,C=l.max,O=C.x>=h.x&&N.x<=y.x,q=C.y>=h.y&&N.y<=y.y;return O&&q},overlaps:function(l){l=pe(l);var h=this.min,y=this.max,N=l.min,C=l.max,O=C.x>h.x&&N.x<y.x,q=C.y>h.y&&N.y<y.y;return O&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var h=this.min,y=this.max,N=Math.abs(h.x-y.x)*l,C=Math.abs(h.y-y.y)*l;return pe(ce(h.x-N,h.y-C),ce(y.x+N,y.y+C))},equals:function(l){return l?(l=pe(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function pe(l,h){return!l||l instanceof I?l:new I(l,h)}function Q(l,h){if(l)for(var y=h?[l,h]:l,N=0,C=y.length;N<C;N++)this.extend(y[N])}Q.prototype={extend:function(l){var h=this._southWest,y=this._northEast,N,C;if(l instanceof je)N=l,C=l;else if(l instanceof Q){if(N=l._southWest,C=l._northEast,!N||!C)return this}else return l?this.extend(Re(l)||xe(l)):this;return!h&&!y?(this._southWest=new je(N.lat,N.lng),this._northEast=new je(C.lat,C.lng)):(h.lat=Math.min(N.lat,h.lat),h.lng=Math.min(N.lng,h.lng),y.lat=Math.max(C.lat,y.lat),y.lng=Math.max(C.lng,y.lng)),this},pad:function(l){var h=this._southWest,y=this._northEast,N=Math.abs(h.lat-y.lat)*l,C=Math.abs(h.lng-y.lng)*l;return new Q(new je(h.lat-N,h.lng-C),new je(y.lat+N,y.lng+C))},getCenter:function(){return new je((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new je(this.getNorth(),this.getWest())},getSouthEast:function(){return new je(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof je||"lat"in l?l=Re(l):l=xe(l);var h=this._southWest,y=this._northEast,N,C;return l instanceof Q?(N=l.getSouthWest(),C=l.getNorthEast()):N=C=l,N.lat>=h.lat&&C.lat<=y.lat&&N.lng>=h.lng&&C.lng<=y.lng},intersects:function(l){l=xe(l);var h=this._southWest,y=this._northEast,N=l.getSouthWest(),C=l.getNorthEast(),O=C.lat>=h.lat&&N.lat<=y.lat,q=C.lng>=h.lng&&N.lng<=y.lng;return O&&q},overlaps:function(l){l=xe(l);var h=this._southWest,y=this._northEast,N=l.getSouthWest(),C=l.getNorthEast(),O=C.lat>h.lat&&N.lat<y.lat,q=C.lng>h.lng&&N.lng<y.lng;return O&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,h){return l?(l=xe(l),this._southWest.equals(l.getSouthWest(),h)&&this._northEast.equals(l.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(l,h){return l instanceof Q?l:new Q(l,h)}function je(l,h,y){if(isNaN(l)||isNaN(h))throw new Error("Invalid LatLng object: ("+l+", "+h+")");this.lat=+l,this.lng=+h,y!==void 0&&(this.alt=+y)}je.prototype={equals:function(l,h){if(!l)return!1;l=Re(l);var y=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return y<=(h===void 0?1e-9:h)},toString:function(l){return"LatLng("+g(this.lat,l)+", "+g(this.lng,l)+")"},distanceTo:function(l){return Z.distance(this,Re(l))},wrap:function(){return Z.wrapLatLng(this)},toBounds:function(l){var h=180*l/40075017,y=h/Math.cos(Math.PI/180*this.lat);return xe([this.lat-h,this.lng-y],[this.lat+h,this.lng+y])},clone:function(){return new je(this.lat,this.lng,this.alt)}};function Re(l,h,y){return l instanceof je?l:_(l)&&typeof l[0]!="object"?l.length===3?new je(l[0],l[1],l[2]):l.length===2?new je(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new je(l.lat,"lng"in l?l.lng:l.lon,l.alt):h===void 0?null:new je(l,h,y)}var rt={latLngToPoint:function(l,h){var y=this.projection.project(l),N=this.scale(h);return this.transformation._transform(y,N)},pointToLatLng:function(l,h){var y=this.scale(h),N=this.transformation.untransform(l,y);return this.projection.unproject(N)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var h=this.projection.bounds,y=this.scale(l),N=this.transformation.transform(h.min,y),C=this.transformation.transform(h.max,y);return new I(N,C)},infinite:!1,wrapLatLng:function(l){var h=this.wrapLng?m(l.lng,this.wrapLng,!0):l.lng,y=this.wrapLat?m(l.lat,this.wrapLat,!0):l.lat,N=l.alt;return new je(y,h,N)},wrapLatLngBounds:function(l){var h=l.getCenter(),y=this.wrapLatLng(h),N=h.lat-y.lat,C=h.lng-y.lng;if(N===0&&C===0)return l;var O=l.getSouthWest(),q=l.getNorthEast(),oe=new je(O.lat-N,O.lng-C),he=new je(q.lat-N,q.lng-C);return new Q(oe,he)}},Z=a({},rt,{wrapLng:[-180,180],R:6371e3,distance:function(l,h){var y=Math.PI/180,N=l.lat*y,C=h.lat*y,O=Math.sin((h.lat-l.lat)*y/2),q=Math.sin((h.lng-l.lng)*y/2),oe=O*O+Math.cos(N)*Math.cos(C)*q*q,he=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*he}}),J=6378137,De={R:J,MAX_LATITUDE:85.0511287798,project:function(l){var h=Math.PI/180,y=this.MAX_LATITUDE,N=Math.max(Math.min(y,l.lat),-y),C=Math.sin(N*h);return new G(this.R*l.lng*h,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(l){var h=180/Math.PI;return new je((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*h,l.x*h/this.R)},bounds:function(){var l=J*Math.PI;return new I([-l,-l],[l,l])}()};function Fe(l,h,y,N){if(_(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=h,this._c=y,this._d=N}Fe.prototype={transform:function(l,h){return this._transform(l.clone(),h)},_transform:function(l,h){return h=h||1,l.x=h*(this._a*l.x+this._b),l.y=h*(this._c*l.y+this._d),l},untransform:function(l,h){return h=h||1,new G((l.x/h-this._b)/this._a,(l.y/h-this._d)/this._c)}};function ge(l,h,y,N){return new Fe(l,h,y,N)}var te=a({},Z,{code:"EPSG:3857",projection:De,transformation:function(){var l=.5/(Math.PI*De.R);return ge(l,.5,-l,.5)}()}),Te=a({},te,{code:"EPSG:900913"});function Le(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ze(l,h){var y="",N,C,O,q,oe,he;for(N=0,O=l.length;N<O;N++){for(oe=l[N],C=0,q=oe.length;C<q;C++)he=oe[C],y+=(C?"L":"M")+he.x+" "+he.y;y+=h?Ie.svg?"z":"x":""}return y||"M0 0"}var Qe=document.documentElement.style,Tt="ActiveXObject"in window,At=Tt&&!document.addEventListener,W="msLaunchUri"in navigator&&!("documentMode"in document),R=at("webkit"),ee=at("android"),se=at("android 2")||at("android 3"),we=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ue=ee&&at("Google")&&we<537&&!("AudioNode"in window),ye=!!window.opera,He=!W&&at("chrome"),ut=at("gecko")&&!R&&!ye&&!Tt,Bt=!He&&at("safari"),qt=at("phantom"),rr="OTransition"in Qe,K=navigator.platform.indexOf("Win")===0,Se=Tt&&"transition"in Qe,Oe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!se,lt="MozPerspective"in Qe,Qt=!window.L_DISABLE_3D&&(Se||Oe||lt)&&!rr&&!qt,$t=typeof orientation<"u"||at("mobile"),an=$t&&R,Kr=$t&&Oe,zt=!window.PointerEvent&&window.MSPointerEvent,Hs=!!(window.PointerEvent||zt),Dr="ontouchstart"in window||!!window.TouchEvent,yn=!window.L_NO_TOUCH&&(Dr||Hs),Bn=$t&&ye,Jt=$t&&ut,$n=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$a=function(){var l=!1;try{var h=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",f,h),window.removeEventListener("testPassiveEventSupport",f,h)}catch{}return l}(),Br=function(){return!!document.createElement("canvas").getContext}(),vn=!!(document.createElementNS&&Le("svg").createSVGRect),is=!!vn&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Y=!vn&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var h=l.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),me=navigator.platform.indexOf("Mac")===0,Be=navigator.platform.indexOf("Linux")===0;function at(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Ie={ie:Tt,ielt9:At,edge:W,webkit:R,android:ee,android23:se,androidStock:ue,opera:ye,chrome:He,gecko:ut,safari:Bt,phantom:qt,opera12:rr,win:K,ie3d:Se,webkit3d:Oe,gecko3d:lt,any3d:Qt,mobile:$t,mobileWebkit:an,mobileWebkit3d:Kr,msPointer:zt,pointer:Hs,touch:yn,touchNative:Dr,mobileOpera:Bn,mobileGecko:Jt,retina:$n,passiveEvents:$a,canvas:Br,svg:vn,vml:Y,inlineSvg:is,mac:me,linux:Be},Lt=Ie.msPointer?"MSPointerDown":"pointerdown",Xt=Ie.msPointer?"MSPointerMove":"pointermove",on=Ie.msPointer?"MSPointerUp":"pointerup",re=Ie.msPointer?"MSPointerCancel":"pointercancel",Ye={touchstart:Lt,touchmove:Xt,touchend:on,touchcancel:re},nt={touchstart:nr,touchmove:dr,touchend:dr,touchcancel:dr},Pe={},ft=!1;function qe(l,h,y){return h==="touchstart"&&mt(),nt[h]?(y=nt[h].bind(this,y),l.addEventListener(Ye[h],y,!1),y):(console.warn("wrong event specified:",h),f)}function Me(l,h,y){if(!Ye[h]){console.warn("wrong event specified:",h);return}l.removeEventListener(Ye[h],y,!1)}function H(l){Pe[l.pointerId]=l}function _e(l){Pe[l.pointerId]&&(Pe[l.pointerId]=l)}function Ue(l){delete Pe[l.pointerId]}function mt(){ft||(document.addEventListener(Lt,H,!0),document.addEventListener(Xt,_e,!0),document.addEventListener(on,Ue,!0),document.addEventListener(re,Ue,!0),ft=!0)}function dr(l,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var y in Pe)h.touches.push(Pe[y]);h.changedTouches=[h],l(h)}}function nr(l,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&bn(h),dr(l,h)}function ln(l){var h={},y,N;for(N in l)y=l[N],h[N]=y&&y.bind?y.bind(l):y;return l=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Ns=200;function _s(l,h){l.addEventListener("dblclick",h);var y=0,N;function C(O){if(O.detail!==1){N=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var q=t1(O);if(!(q.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!q.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var oe=Date.now();oe-y<=Ns?(N++,N===2&&h(ln(O))):N=1,y=oe}}}return l.addEventListener("click",C),{dblclick:h,simDblclick:C}}function yl(l,h){l.removeEventListener("dblclick",h.dblclick),l.removeEventListener("click",h.simDblclick)}var jr=ao(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),za=ao(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vl=za==="webkitTransition"||za==="OTransition"?za+"End":"transitionend";function Lh(l){return typeof l=="string"?document.getElementById(l):l}function bl(l,h){var y=l.style[h]||l.currentStyle&&l.currentStyle[h];if((!y||y==="auto")&&document.defaultView){var N=document.defaultView.getComputedStyle(l,null);y=N?N[h]:null}return y==="auto"?null:y}function St(l,h,y){var N=document.createElement(l);return N.className=h||"",y&&y.appendChild(N),N}function ur(l){var h=l.parentNode;h&&h.removeChild(l)}function no(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function di(l){var h=l.parentNode;h&&h.lastChild!==l&&h.appendChild(l)}function wl(l){var h=l.parentNode;h&&h.firstChild!==l&&h.insertBefore(l,h.firstChild)}function Ac(l,h){if(l.classList!==void 0)return l.classList.contains(h);var y=so(l);return y.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(y)}function Ve(l,h){if(l.classList!==void 0)for(var y=v(h),N=0,C=y.length;N<C;N++)l.classList.add(y[N]);else if(!Ac(l,h)){var O=so(l);Ss(l,(O?O+" ":"")+h)}}function Nr(l,h){l.classList!==void 0?l.classList.remove(h):Ss(l,x((" "+so(l)+" ").replace(" "+h+" "," ")))}function Ss(l,h){l.className.baseVal===void 0?l.className=h:l.className.baseVal=h}function so(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Pn(l,h){"opacity"in l.style?l.style.opacity=h:"filter"in l.style&&ui(l,h)}function ui(l,h){var y=!1,N="DXImageTransform.Microsoft.Alpha";try{y=l.filters.item(N)}catch{if(h===1)return}h=Math.round(h*100),y?(y.Enabled=h!==100,y.Opacity=h):l.style.filter+=" progid:"+N+"(opacity="+h+")"}function ao(l){for(var h=document.documentElement.style,y=0;y<l.length;y++)if(l[y]in h)return l[y];return!1}function Ua(l,h,y){var N=h||new G(0,0);l.style[jr]=(Ie.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+(y?" scale("+y+")":"")}function Or(l,h){l._leaflet_pos=h,Ie.any3d?Ua(l,h):(l.style.left=h.x+"px",l.style.top=h.y+"px")}function ga(l){return l._leaflet_pos||new G(0,0)}var Mt,F,ve;if("onselectstart"in document)Mt=function(){$e(window,"selectstart",bn)},F=function(){sr(window,"selectstart",bn)};else{var Ne=ao(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mt=function(){if(Ne){var l=document.documentElement.style;ve=l[Ne],l[Ne]="none"}},F=function(){Ne&&(document.documentElement.style[Ne]=ve,ve=void 0)}}function be(){$e(window,"dragstart",bn)}function Ce(){sr(window,"dragstart",bn)}var et,Ut;function gt(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(ct(),et=l,Ut=l.style.outlineStyle,l.style.outlineStyle="none",$e(window,"keydown",ct))}function ct(){et&&(et.style.outlineStyle=Ut,et=void 0,Ut=void 0,sr(window,"keydown",ct))}function jt(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function $r(l){var h=l.getBoundingClientRect();return{x:h.width/l.offsetWidth||1,y:h.height/l.offsetHeight||1,boundingClientRect:h}}var Dt={__proto__:null,TRANSFORM:jr,TRANSITION:za,TRANSITION_END:vl,get:Lh,getStyle:bl,create:St,remove:ur,empty:no,toFront:di,toBack:wl,hasClass:Ac,addClass:Ve,removeClass:Nr,setClass:Ss,getClass:so,setOpacity:Pn,testProp:ao,setTransform:Ua,setPosition:Or,getPosition:ga,get disableTextSelection(){return Mt},get enableTextSelection(){return F},disableImageDrag:be,enableImageDrag:Ce,preventOutline:gt,restoreOutline:ct,getSizedParentNode:jt,getScale:$r};function $e(l,h,y,N){if(h&&typeof h=="object")for(var C in h)v0(l,C,h[C],y);else{h=v(h);for(var O=0,q=h.length;O<q;O++)v0(l,h[O],y,N)}return this}var Gt="_leaflet_events";function sr(l,h,y,N){if(arguments.length===1)e1(l),delete l[Gt];else if(h&&typeof h=="object")for(var C in h)b0(l,C,h[C],y);else if(h=v(h),arguments.length===2)e1(l,function(oe){return k(h,oe)!==-1});else for(var O=0,q=h.length;O<q;O++)b0(l,h[O],y,N);return this}function e1(l,h){for(var y in l[Gt]){var N=y.split(/\d/)[0];(!h||h(N))&&b0(l,N,null,null,y)}}var y0={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function v0(l,h,y,N){var C=h+d(y)+(N?"_"+d(N):"");if(l[Gt]&&l[Gt][C])return this;var O=function(oe){return y.call(N||l,oe||window.event)},q=O;!Ie.touchNative&&Ie.pointer&&h.indexOf("touch")===0?O=qe(l,h,O):Ie.touch&&h==="dblclick"?O=_s(l,O):"addEventListener"in l?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?l.addEventListener(y0[h]||h,O,Ie.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(O=function(oe){oe=oe||window.event,j0(l,oe)&&q(oe)},l.addEventListener(y0[h],O,!1)):l.addEventListener(h,q,!1):l.attachEvent("on"+h,O),l[Gt]=l[Gt]||{},l[Gt][C]=O}function b0(l,h,y,N,C){C=C||h+d(y)+(N?"_"+d(N):"");var O=l[Gt]&&l[Gt][C];if(!O)return this;!Ie.touchNative&&Ie.pointer&&h.indexOf("touch")===0?Me(l,h,O):Ie.touch&&h==="dblclick"?yl(l,O):"removeEventListener"in l?l.removeEventListener(y0[h]||h,O,!1):l.detachEvent("on"+h,O),l[Gt][C]=null}function jl(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function w0(l){return v0(l,"wheel",jl),this}function hu(l){return $e(l,"mousedown touchstart dblclick contextmenu",jl),l._leaflet_disable_click=!0,this}function bn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function Nl(l){return bn(l),jl(l),this}function t1(l){if(l.composedPath)return l.composedPath();for(var h=[],y=l.target;y;)h.push(y),y=y.parentNode;return h}function r1(l,h){if(!h)return new G(l.clientX,l.clientY);var y=$r(h),N=y.boundingClientRect;return new G((l.clientX-N.left)/y.x-h.clientLeft,(l.clientY-N.top)/y.y-h.clientTop)}var YM=Ie.linux&&Ie.chrome?window.devicePixelRatio:Ie.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function n1(l){return Ie.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/YM:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function j0(l,h){var y=h.relatedTarget;if(!y)return!0;try{for(;y&&y!==l;)y=y.parentNode}catch{return!1}return y!==l}var QM={__proto__:null,on:$e,off:sr,stopPropagation:jl,disableScrollPropagation:w0,disableClickPropagation:hu,preventDefault:bn,stop:Nl,getPropagationPath:t1,getMousePosition:r1,getWheelDelta:n1,isExternalTarget:j0,addListener:$e,removeListener:sr},s1=ae.extend({run:function(l,h,y,N){this.stop(),this._el=l,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=ga(l),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(l){var h=+new Date-this._startTime,y=this._duration*1e3;h<y?this._runFrame(this._easeOut(h/y),l):(this._runFrame(1),this._complete())},_runFrame:function(l,h){var y=this._startPos.add(this._offset.multiplyBy(l));h&&y._round(),Or(this._el,y),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),kt=ae.extend({options:{crs:te,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,h){h=w(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Re(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=za&&Ie.any3d&&!Ie.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,vl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,h,y){if(h=h===void 0?this._zoom:this._limitZoom(h),l=this._limitCenter(Re(l),h,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=a({animate:y.animate},y.zoom),y.pan=a({animate:y.animate,duration:y.duration},y.pan));var N=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,h,y.zoom):this._tryAnimatedPan(l,y.pan);if(N)return clearTimeout(this._sizeTimer),this}return this._resetView(l,h,y.pan&&y.pan.noMoveStart),this},setZoom:function(l,h){return this._loaded?this.setView(this.getCenter(),l,{zoom:h}):(this._zoom=l,this)},zoomIn:function(l,h){return l=l||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,h)},zoomOut:function(l,h){return l=l||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,h)},setZoomAround:function(l,h,y){var N=this.getZoomScale(h),C=this.getSize().divideBy(2),O=l instanceof G?l:this.latLngToContainerPoint(l),q=O.subtract(C).multiplyBy(1-1/N),oe=this.containerPointToLatLng(C.add(q));return this.setView(oe,h,{zoom:y})},_getBoundsCenterZoom:function(l,h){h=h||{},l=l.getBounds?l.getBounds():xe(l);var y=ce(h.paddingTopLeft||h.padding||[0,0]),N=ce(h.paddingBottomRight||h.padding||[0,0]),C=this.getBoundsZoom(l,!1,y.add(N));if(C=typeof h.maxZoom=="number"?Math.min(h.maxZoom,C):C,C===1/0)return{center:l.getCenter(),zoom:C};var O=N.subtract(y).divideBy(2),q=this.project(l.getSouthWest(),C),oe=this.project(l.getNorthEast(),C),he=this.unproject(q.add(oe).divideBy(2).add(O),C);return{center:he,zoom:C}},fitBounds:function(l,h){if(l=xe(l),!l.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(l,h);return this.setView(y.center,y.zoom,h)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,h){return this.setView(l,this._zoom,{pan:h})},panBy:function(l,h){if(l=ce(l).round(),h=h||{},!l.x&&!l.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new s1,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ve(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,y,h.duration||.25,h.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,h,y){if(y=y||{},y.animate===!1||!Ie.any3d)return this.setView(l,h,y);this._stop();var N=this.project(this.getCenter()),C=this.project(l),O=this.getSize(),q=this._zoom;l=Re(l),h=h===void 0?q:h;var oe=Math.max(O.x,O.y),he=oe*this.getZoomScale(q,h),ke=C.distanceTo(N)||1,We=1.42,dt=We*We;function xt(zr){var Hh=zr?-1:1,B9=zr?he:oe,$9=he*he-oe*oe+Hh*dt*dt*ke*ke,z9=2*B9*dt*ke,L0=$9/z9,F1=Math.sqrt(L0*L0+1)-L0,U9=F1<1e-9?-18:Math.log(F1);return U9}function zn(zr){return(Math.exp(zr)-Math.exp(-zr))/2}function cn(zr){return(Math.exp(zr)+Math.exp(-zr))/2}function Vs(zr){return zn(zr)/cn(zr)}var os=xt(0);function Dc(zr){return oe*(cn(os)/cn(os+We*zr))}function D9(zr){return oe*(cn(os)*Vs(os+We*zr)-zn(os))/dt}function R9(zr){return 1-Math.pow(1-zr,1.5)}var I9=Date.now(),R1=(xt(1)-os)/We,F9=y.duration?1e3*y.duration:1e3*R1*.8;function I1(){var zr=(Date.now()-I9)/F9,Hh=R9(zr)*R1;zr<=1?(this._flyToFrame=D(I1,this),this._move(this.unproject(N.add(C.subtract(N).multiplyBy(D9(Hh)/ke)),q),this.getScaleZoom(oe/Dc(Hh),q),{flyTo:!0})):this._move(l,h)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),I1.call(this),this},flyToBounds:function(l,h){var y=this._getBoundsCenterZoom(l,h);return this.flyTo(y.center,y.zoom,h)},setMaxBounds:function(l){return l=xe(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var h=this.options.minZoom;return this.options.minZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var h=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,h){this._enforcingBounds=!0;var y=this.getCenter(),N=this._limitCenter(y,this._zoom,xe(l));return y.equals(N)||this.panTo(N,h),this._enforcingBounds=!1,this},panInside:function(l,h){h=h||{};var y=ce(h.paddingTopLeft||h.padding||[0,0]),N=ce(h.paddingBottomRight||h.padding||[0,0]),C=this.project(this.getCenter()),O=this.project(l),q=this.getPixelBounds(),oe=pe([q.min.add(y),q.max.subtract(N)]),he=oe.getSize();if(!oe.contains(O)){this._enforcingBounds=!0;var ke=O.subtract(oe.getCenter()),We=oe.extend(O).getSize().subtract(he);C.x+=ke.x<0?-We.x:We.x,C.y+=ke.y<0?-We.y:We.y,this.panTo(this.unproject(C),h),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=a({animate:!1,pan:!0},l===!0?{animate:!0}:l);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),N=h.divideBy(2).round(),C=y.divideBy(2).round(),O=N.subtract(C);return!O.x&&!O.y?this:(l.animate&&l.pan?this.panBy(O):(l.pan&&this._rawPanBy(O),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=a({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=o(this._handleGeolocationResponse,this),y=o(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,y,l):navigator.geolocation.getCurrentPosition(h,y,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var h=l.code,y=l.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var h=l.coords.latitude,y=l.coords.longitude,N=new je(h,y),C=N.toBounds(l.coords.accuracy*2),O=this._locateOptions;if(O.setView){var q=this.getBoundsZoom(C);this.setView(N,O.maxZoom?Math.min(q,O.maxZoom):q)}var oe={latlng:N,bounds:C,timestamp:l.timestamp};for(var he in l.coords)typeof l.coords[he]=="number"&&(oe[he]=l.coords[he]);this.fire("locationfound",oe)}},addHandler:function(l,h){if(!h)return this;var y=this[l]=new h(this);return this._handlers.push(y),this.options[l]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ur(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)ur(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,h){var y="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),N=St("div",y,h||this._mapPane);return l&&(this._panes[l]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),h=this.unproject(l.getBottomLeft()),y=this.unproject(l.getTopRight());return new Q(h,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,h,y){l=xe(l),y=ce(y||[0,0]);var N=this.getZoom()||0,C=this.getMinZoom(),O=this.getMaxZoom(),q=l.getNorthWest(),oe=l.getSouthEast(),he=this.getSize().subtract(y),ke=pe(this.project(oe,N),this.project(q,N)).getSize(),We=Ie.any3d?this.options.zoomSnap:1,dt=he.x/ke.x,xt=he.y/ke.y,zn=h?Math.max(dt,xt):Math.min(dt,xt);return N=this.getScaleZoom(zn,N),We&&(N=Math.round(N/(We/100))*(We/100),N=h?Math.ceil(N/We)*We:Math.floor(N/We)*We),Math.max(C,Math.min(O,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,h){var y=this._getTopLeftPoint(l,h);return new I(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,h){var y=this.options.crs;return h=h===void 0?this._zoom:h,y.scale(l)/y.scale(h)},getScaleZoom:function(l,h){var y=this.options.crs;h=h===void 0?this._zoom:h;var N=y.zoom(l*y.scale(h));return isNaN(N)?1/0:N},project:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Re(l),h)},unproject:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(ce(l),h)},layerPointToLatLng:function(l){var h=ce(l).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(l){var h=this.project(Re(l))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(Re(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(xe(l))},distance:function(l,h){return this.options.crs.distance(Re(l),Re(h))},containerPointToLayerPoint:function(l){return ce(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return ce(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var h=this.containerPointToLayerPoint(ce(l));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(l)))},mouseEventToContainerPoint:function(l){return r1(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var h=this._container=Lh(l);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$e(h,"scroll",this._onScroll,this),this._containerId=d(h)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ie.any3d,Ve(l,"leaflet-container"+(Ie.touch?" leaflet-touch":"")+(Ie.retina?" leaflet-retina":"")+(Ie.ielt9?" leaflet-oldie":"")+(Ie.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=bl(l,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Or(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ve(l.markerPane,"leaflet-zoom-hide"),Ve(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,h,y){Or(this._mapPane,new G(0,0));var N=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var C=this._zoom!==h;this._moveStart(C,y)._move(l,h)._moveEnd(C),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(l,h){return l&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(l,h,y,N){h===void 0&&(h=this._zoom);var C=this._zoom!==h;return this._zoom=h,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),N?y&&y.pinch&&this.fire("zoom",y):((C||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Or(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[d(this._container)]=this;var h=l?sr:$e;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Ie.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,h){for(var y=[],N,C=h==="mouseout"||h==="mouseover",O=l.target||l.srcElement,q=!1;O;){if(N=this._targets[d(O)],N&&(h==="click"||h==="preclick")&&this._draggableMoved(N)){q=!0;break}if(N&&N.listens(h,!0)&&(C&&!j0(O,l)||(y.push(N),C))||O===this._container)break;O=O.parentNode}return!y.length&&!q&&!C&&this.listens(h,!0)&&(y=[this]),y},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var h=l.target||l.srcElement;if(!(!this._loaded||h._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(h))){var y=l.type;y==="mousedown"&&gt(h),this._fireDOMEvent(l,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,h,y){if(l.type==="click"){var N=a({},l);N.type="preclick",this._fireDOMEvent(N,N.type,y)}var C=this._findEventTargets(l,h);if(y){for(var O=[],q=0;q<y.length;q++)y[q].listens(h,!0)&&O.push(y[q]);C=O.concat(C)}if(C.length){h==="contextmenu"&&bn(l);var oe=C[0],he={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var ke=oe.getLatLng&&(!oe._radius||oe._radius<=10);he.containerPoint=ke?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(l),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=ke?oe.getLatLng():this.layerPointToLatLng(he.layerPoint)}for(q=0;q<C.length;q++)if(C[q].fire(h,he,!0),he.originalEvent._stopped||C[q].options.bubblingMouseEvents===!1&&k(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,h=this._handlers.length;l<h;l++)this._handlers[l].disable()},whenReady:function(l,h){return this._loaded?l.call(h||this,{target:this}):this.on("load",l,h),this},_getMapPanePos:function(){return ga(this._mapPane)||new G(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,h){var y=l&&h!==void 0?this._getNewPixelOrigin(l,h):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,h){var y=this.getSize()._divideBy(2);return this.project(l,h)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,h,y){var N=this._getNewPixelOrigin(y,h);return this.project(l,h)._subtract(N)},_latLngBoundsToNewLayerBounds:function(l,h,y){var N=this._getNewPixelOrigin(y,h);return pe([this.project(l.getSouthWest(),h)._subtract(N),this.project(l.getNorthWest(),h)._subtract(N),this.project(l.getSouthEast(),h)._subtract(N),this.project(l.getNorthEast(),h)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,h,y){if(!y)return l;var N=this.project(l,h),C=this.getSize().divideBy(2),O=new I(N.subtract(C),N.add(C)),q=this._getBoundsOffset(O,y,h);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?l:this.unproject(N.add(q),h)},_limitOffset:function(l,h){if(!h)return l;var y=this.getPixelBounds(),N=new I(y.min.add(l),y.max.add(l));return l.add(this._getBoundsOffset(N,h))},_getBoundsOffset:function(l,h,y){var N=pe(this.project(h.getNorthEast(),y),this.project(h.getSouthWest(),y)),C=N.min.subtract(l.min),O=N.max.subtract(l.max),q=this._rebound(C.x,-O.x),oe=this._rebound(C.y,-O.y);return new G(q,oe)},_rebound:function(l,h){return l+h>0?Math.round(l-h)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(h))},_limitZoom:function(l){var h=this.getMinZoom(),y=this.getMaxZoom(),N=Ie.any3d?this.options.zoomSnap:1;return N&&(l=Math.round(l/N)*N),Math.max(h,Math.min(y,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,h){var y=this._getCenterOffset(l)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,h),!0)},_createAnimProxy:function(){var l=this._proxy=St("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(h){var y=jr,N=this._proxy.style[y];Ua(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),N===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ur(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),h=this.getZoom();Ua(this._proxy,this.project(l,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,h,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(h),C=this._getCenterOffset(l)._divideBy(1-1/N);return y.animate!==!0&&!this.getSize().contains(C)?!1:(D(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(l,h,!0)},this),!0)},_animateZoom:function(l,h,y,N){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=h,Ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:h,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function JM(l,h){return new kt(l,h)}var xa=X.extend({options:{position:"topright"},initialize:function(l){w(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var h=this._map;return h&&h.removeControl(this),this.options.position=l,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var h=this._container=this.onAdd(l),y=this.getPosition(),N=l._controlCorners[y];return Ve(h,"leaflet-control"),y.indexOf("bottom")!==-1?N.insertBefore(h,N.firstChild):N.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ur(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),fu=function(l){return new xa(l)};kt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},h="leaflet-",y=this._controlContainer=St("div",h+"control-container",this._container);function N(C,O){var q=h+C+" "+h+O;l[C+O]=St("div",q,y)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)ur(this._controlCorners[l]);ur(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var a1=xa.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,h,y,N){return y<N?-1:N<y?1:0}},initialize:function(l,h,y){w(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var N in l)this._addLayer(l[N],N);for(N in h)this._addLayer(h[N],N,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return xa.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,h){return this._addLayer(l,h),this._map?this._update():this},addOverlay:function(l,h){return this._addLayer(l,h,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var h=this._getLayer(d(l));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Nr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",h=this._container=St("div",l),y=this.options.collapsed;h.setAttribute("aria-haspopup",!0),hu(h),w0(h);var N=this._section=St("section",l+"-list");y&&(this._map.on("click",this.collapse,this),$e(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=St("a",l+"-toggle",h);C.href="#",C.title="Layers",C.setAttribute("role","button"),$e(C,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){bn(O),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=St("div",l+"-base",N),this._separator=St("div",l+"-separator",N),this._overlaysList=St("div",l+"-overlays",N),h.appendChild(N)},_getLayer:function(l){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&d(this._layers[h].layer)===l)return this._layers[h]},_addLayer:function(l,h,y){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:h,overlay:y}),this.options.sortLayers&&this._layers.sort(o(function(N,C){return this.options.sortFunction(N.layer,C.layer,N.name,C.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;no(this._baseLayersList),no(this._overlaysList),this._layerControlInputs=[];var l,h,y,N,C=0;for(y=0;y<this._layers.length;y++)N=this._layers[y],this._addItem(N),h=h||N.overlay,l=l||!N.overlay,C+=N.overlay?0:1;return this.options.hideSingleBase&&(l=l&&C>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=h&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var h=this._getLayer(d(l.target)),y=h.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;y&&this._map.fire(y,h)},_createRadioElement:function(l,h){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(h?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=y,N.firstChild},_addItem:function(l){var h=document.createElement("label"),y=this._map.hasLayer(l.layer),N;l.overlay?(N=document.createElement("input"),N.type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=y):N=this._createRadioElement("leaflet-base-layers_"+d(this),y),this._layerControlInputs.push(N),N.layerId=d(l.layer),$e(N,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+l.name;var O=document.createElement("span");h.appendChild(O),O.appendChild(N),O.appendChild(C);var q=l.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,h,y,N=[],C=[];this._handlingClick=!0;for(var O=l.length-1;O>=0;O--)h=l[O],y=this._getLayer(h.layerId).layer,h.checked?N.push(y):h.checked||C.push(y);for(O=0;O<C.length;O++)this._map.hasLayer(C[O])&&this._map.removeLayer(C[O]);for(O=0;O<N.length;O++)this._map.hasLayer(N[O])||this._map.addLayer(N[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,h,y,N=this._map.getZoom(),C=l.length-1;C>=0;C--)h=l[C],y=this._getLayer(h.layerId).layer,h.disabled=y.options.minZoom!==void 0&&N<y.options.minZoom||y.options.maxZoom!==void 0&&N>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,$e(l,"click",bn),this.expand();var h=this;setTimeout(function(){sr(l,"click",bn),h._preventClick=!1})}}),XM=function(l,h,y){return new a1(l,h,y)},N0=xa.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var h="leaflet-control-zoom",y=St("div",h+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,h+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,h+"-out",y,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,h,y,N,C){var O=St("a",y,N);return O.innerHTML=l,O.href="#",O.title=h,O.setAttribute("role","button"),O.setAttribute("aria-label",h),hu(O),$e(O,"click",Nl),$e(O,"click",C,this),$e(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var l=this._map,h="leaflet-disabled";Nr(this._zoomInButton,h),Nr(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Ve(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Ve(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});kt.mergeOptions({zoomControl:!0}),kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new N0,this.addControl(this.zoomControl))});var e9=function(l){return new N0(l)},i1=xa.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var h="leaflet-control-scale",y=St("div",h),N=this.options;return this._addScales(N,h+"-line",y),l.on(N.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),y},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,h,y){l.metric&&(this._mScale=St("div",h,y)),l.imperial&&(this._iScale=St("div",h,y))},_update:function(){var l=this._map,h=l.getSize().y/2,y=l.distance(l.containerPointToLatLng([0,h]),l.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(y)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var h=this._getRoundNum(l),y=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,y,h/l)},_updateImperial:function(l){var h=l*3.2808399,y,N,C;h>5280?(y=h/5280,N=this._getRoundNum(y),this._updateScale(this._iScale,N+" mi",N/y)):(C=this._getRoundNum(h),this._updateScale(this._iScale,C+" ft",C/h))},_updateScale:function(l,h,y){l.style.width=Math.round(this.options.maxWidth*y)+"px",l.innerHTML=h},_getRoundNum:function(l){var h=Math.pow(10,(Math.floor(l)+"").length-1),y=l/h;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,h*y}}),t9=function(l){return new i1(l)},r9='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_0=xa.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ie.inlineSvg?r9+" ":"")+"Leaflet</a>"},initialize:function(l){w(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=St("div","leaflet-control-attribution"),hu(this._container);for(var h in l._layers)l._layers[h].getAttribution&&this.addAttribution(l._layers[h].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var h in this._attributions)this._attributions[h]&&l.push(h);var y=[];this.options.prefix&&y.push(this.options.prefix),l.length&&y.push(l.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});kt.mergeOptions({attributionControl:!0}),kt.addInitHook(function(){this.options.attributionControl&&new _0().addTo(this)});var n9=function(l){return new _0(l)};xa.Layers=a1,xa.Zoom=N0,xa.Scale=i1,xa.Attribution=_0,fu.layers=XM,fu.zoom=e9,fu.scale=t9,fu.attribution=n9;var Ga=X.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ga.addTo=function(l,h){return l.addHandler(h,this),this};var s9={Events:$},o1=Ie.touch?"touchstart mousedown":"mousedown",io=ae.extend({options:{clickTolerance:3},initialize:function(l,h,y,N){w(this,N),this._element=l,this._dragStartTarget=h||l,this._preventOutline=y},enable:function(){this._enabled||($e(this._dragStartTarget,o1,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(io._dragging===this&&this.finishDrag(!0),sr(this._dragStartTarget,o1,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Ac(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){io._dragging===this&&this.finishDrag();return}if(!(io._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(io._dragging=this,this._preventOutline&&gt(this._element),be(),Mt(),!this._moving)){this.fire("down");var h=l.touches?l.touches[0]:l,y=jt(this._element);this._startPoint=new G(h.clientX,h.clientY),this._startPos=ga(this._element),this._parentScale=$r(y);var N=l.type==="mousedown";$e(document,N?"mousemove":"touchmove",this._onMove,this),$e(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var h=l.touches&&l.touches.length===1?l.touches[0]:l,y=new G(h.clientX,h.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,bn(l),this._moved||(this.fire("dragstart"),this._moved=!0,Ve(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Or(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Nr(document.body,"leaflet-dragging"),this._lastTarget&&(Nr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),sr(document,"mousemove touchmove",this._onMove,this),sr(document,"mouseup touchend touchcancel",this._onUp,this),Ce(),F();var h=this._moved&&this._moving;this._moving=!1,io._dragging=!1,h&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function l1(l,h,y){var N,C=[1,4,2,8],O,q,oe,he,ke,We,dt,xt;for(O=0,We=l.length;O<We;O++)l[O]._code=_l(l[O],h);for(oe=0;oe<4;oe++){for(dt=C[oe],N=[],O=0,We=l.length,q=We-1;O<We;q=O++)he=l[O],ke=l[q],he._code&dt?ke._code&dt||(xt=Mh(ke,he,dt,h,y),xt._code=_l(xt,h),N.push(xt)):(ke._code&dt&&(xt=Mh(ke,he,dt,h,y),xt._code=_l(xt,h),N.push(xt)),N.push(he));l=N}return l}function c1(l,h){var y,N,C,O,q,oe,he,ke,We;if(!l||l.length===0)throw new Error("latlngs not passed");qs(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var dt=Re([0,0]),xt=xe(l),zn=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());zn<1700&&(dt=S0(l));var cn=l.length,Vs=[];for(y=0;y<cn;y++){var os=Re(l[y]);Vs.push(h.project(Re([os.lat-dt.lat,os.lng-dt.lng])))}for(oe=he=ke=0,y=0,N=cn-1;y<cn;N=y++)C=Vs[y],O=Vs[N],q=C.y*O.x-O.y*C.x,he+=(C.x+O.x)*q,ke+=(C.y+O.y)*q,oe+=q*3;oe===0?We=Vs[0]:We=[he/oe,ke/oe];var Dc=h.unproject(ce(We));return Re([Dc.lat+dt.lat,Dc.lng+dt.lng])}function S0(l){for(var h=0,y=0,N=0,C=0;C<l.length;C++){var O=Re(l[C]);h+=O.lat,y+=O.lng,N++}return Re([h/N,y/N])}var a9={__proto__:null,clipPolygon:l1,polygonCenter:c1,centroid:S0};function d1(l,h){if(!h||!l.length)return l.slice();var y=h*h;return l=l9(l,y),l=o9(l,y),l}function u1(l,h,y){return Math.sqrt(pu(l,h,y,!0))}function i9(l,h,y){return pu(l,h,y)}function o9(l,h){var y=l.length,N=typeof Uint8Array<"u"?Uint8Array:Array,C=new N(y);C[0]=C[y-1]=1,k0(l,C,h,0,y-1);var O,q=[];for(O=0;O<y;O++)C[O]&&q.push(l[O]);return q}function k0(l,h,y,N,C){var O=0,q,oe,he;for(oe=N+1;oe<=C-1;oe++)he=pu(l[oe],l[N],l[C],!0),he>O&&(q=oe,O=he);O>y&&(h[q]=1,k0(l,h,y,N,q),k0(l,h,y,q,C))}function l9(l,h){for(var y=[l[0]],N=1,C=0,O=l.length;N<O;N++)c9(l[N],l[C])>h&&(y.push(l[N]),C=N);return C<O-1&&y.push(l[O-1]),y}var m1;function h1(l,h,y,N,C){var O=N?m1:_l(l,y),q=_l(h,y),oe,he,ke;for(m1=q;;){if(!(O|q))return[l,h];if(O&q)return!1;oe=O||q,he=Mh(l,h,oe,y,C),ke=_l(he,y),oe===O?(l=he,O=ke):(h=he,q=ke)}}function Mh(l,h,y,N,C){var O=h.x-l.x,q=h.y-l.y,oe=N.min,he=N.max,ke,We;return y&8?(ke=l.x+O*(he.y-l.y)/q,We=he.y):y&4?(ke=l.x+O*(oe.y-l.y)/q,We=oe.y):y&2?(ke=he.x,We=l.y+q*(he.x-l.x)/O):y&1&&(ke=oe.x,We=l.y+q*(oe.x-l.x)/O),new G(ke,We,C)}function _l(l,h){var y=0;return l.x<h.min.x?y|=1:l.x>h.max.x&&(y|=2),l.y<h.min.y?y|=4:l.y>h.max.y&&(y|=8),y}function c9(l,h){var y=h.x-l.x,N=h.y-l.y;return y*y+N*N}function pu(l,h,y,N){var C=h.x,O=h.y,q=y.x-C,oe=y.y-O,he=q*q+oe*oe,ke;return he>0&&(ke=((l.x-C)*q+(l.y-O)*oe)/he,ke>1?(C=y.x,O=y.y):ke>0&&(C+=q*ke,O+=oe*ke)),q=l.x-C,oe=l.y-O,N?q*q+oe*oe:new G(C,O)}function qs(l){return!_(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function f1(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qs(l)}function p1(l,h){var y,N,C,O,q,oe,he,ke;if(!l||l.length===0)throw new Error("latlngs not passed");qs(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var We=Re([0,0]),dt=xe(l),xt=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());xt<1700&&(We=S0(l));var zn=l.length,cn=[];for(y=0;y<zn;y++){var Vs=Re(l[y]);cn.push(h.project(Re([Vs.lat-We.lat,Vs.lng-We.lng])))}for(y=0,N=0;y<zn-1;y++)N+=cn[y].distanceTo(cn[y+1])/2;if(N===0)ke=cn[0];else for(y=0,O=0;y<zn-1;y++)if(q=cn[y],oe=cn[y+1],C=q.distanceTo(oe),O+=C,O>N){he=(O-N)/C,ke=[oe.x-he*(oe.x-q.x),oe.y-he*(oe.y-q.y)];break}var os=h.unproject(ce(ke));return Re([os.lat+We.lat,os.lng+We.lng])}var d9={__proto__:null,simplify:d1,pointToSegmentDistance:u1,closestPointOnSegment:i9,clipSegment:h1,_getEdgeIntersection:Mh,_getBitCode:_l,_sqClosestPointOnSegment:pu,isFlat:qs,_flat:f1,polylineCenter:p1},C0={project:function(l){return new G(l.lng,l.lat)},unproject:function(l){return new je(l.y,l.x)},bounds:new I([-180,-90],[180,90])},P0={R:6378137,R_MINOR:6356752314245179e-9,bounds:new I([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var h=Math.PI/180,y=this.R,N=l.lat*h,C=this.R_MINOR/y,O=Math.sqrt(1-C*C),q=O*Math.sin(N),oe=Math.tan(Math.PI/4-N/2)/Math.pow((1-q)/(1+q),O/2);return N=-y*Math.log(Math.max(oe,1e-10)),new G(l.lng*h*y,N)},unproject:function(l){for(var h=180/Math.PI,y=this.R,N=this.R_MINOR/y,C=Math.sqrt(1-N*N),O=Math.exp(-l.y/y),q=Math.PI/2-2*Math.atan(O),oe=0,he=.1,ke;oe<15&&Math.abs(he)>1e-7;oe++)ke=C*Math.sin(q),ke=Math.pow((1-ke)/(1+ke),C/2),he=Math.PI/2-2*Math.atan(O*ke)-q,q+=he;return new je(q*h,l.x*h/y)}},u9={__proto__:null,LonLat:C0,Mercator:P0,SphericalMercator:De},m9=a({},Z,{code:"EPSG:3395",projection:P0,transformation:function(){var l=.5/(Math.PI*P0.R);return ge(l,.5,-l,.5)}()}),g1=a({},Z,{code:"EPSG:4326",projection:C0,transformation:ge(1/180,1,-1/180,.5)}),h9=a({},rt,{projection:C0,transformation:ge(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,h){var y=h.lng-l.lng,N=h.lat-l.lat;return Math.sqrt(y*y+N*N)},infinite:!0});rt.Earth=Z,rt.EPSG3395=m9,rt.EPSG3857=te,rt.EPSG900913=Te,rt.EPSG4326=g1,rt.Simple=h9;var ya=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[d(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[d(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var h=l.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var y=this.getEvents();h.on(y,this),this.once("remove",function(){h.off(y,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});kt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var h=d(l);return this._layers[h]?this:(this._layers[h]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var h=d(l);return this._layers[h]?(this._loaded&&l.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return d(l)in this._layers},eachLayer:function(l,h){for(var y in this._layers)l.call(h,this._layers[y]);return this},_addLayers:function(l){l=l?_(l)?l:[l]:[];for(var h=0,y=l.length;h<y;h++)this.addLayer(l[h])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[d(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var h=d(l);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,h=-1/0,y=this._getZoomSpan();for(var N in this._zoomBoundLayers){var C=this._zoomBoundLayers[N].options;l=C.minZoom===void 0?l:Math.min(l,C.minZoom),h=C.maxZoom===void 0?h:Math.max(h,C.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=l===1/0?void 0:l,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ec=ya.extend({initialize:function(l,h){w(this,h),this._layers={};var y,N;if(l)for(y=0,N=l.length;y<N;y++)this.addLayer(l[y])},addLayer:function(l){var h=this.getLayerId(l);return this._layers[h]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var h=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(l){var h=typeof l=="number"?l:this.getLayerId(l);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var h=Array.prototype.slice.call(arguments,1),y,N;for(y in this._layers)N=this._layers[y],N[l]&&N[l].apply(N,h);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,h){for(var y in this._layers)l.call(h,this._layers[y]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return d(l)}}),f9=function(l,h){return new Ec(l,h)},mi=Ec.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Ec.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Ec.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new Q;for(var h in this._layers){var y=this._layers[h];l.extend(y.getBounds?y.getBounds():y.getLatLng())}return l}}),p9=function(l,h){return new mi(l,h)},Oc=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){w(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,h){var y=this._getIconUrl(l);if(!y){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg(y,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(N,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),N},_setIconStyles:function(l,h){var y=this.options,N=y[h+"Size"];typeof N=="number"&&(N=[N,N]);var C=ce(N),O=ce(h==="shadow"&&y.shadowAnchor||y.iconAnchor||C&&C.divideBy(2,!0));l.className="leaflet-marker-"+h+" "+(y.className||""),O&&(l.style.marginLeft=-O.x+"px",l.style.marginTop=-O.y+"px"),C&&(l.style.width=C.x+"px",l.style.height=C.y+"px")},_createImg:function(l,h){return h=h||document.createElement("img"),h.src=l,h},_getIconUrl:function(l){return Ie.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function g9(l){return new Oc(l)}var gu=Oc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof gu.imagePath!="string"&&(gu.imagePath=this._detectIconPath()),(this.options.imagePath||gu.imagePath)+Oc.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var h=function(y,N,C){var O=N.exec(y);return O&&O[C]};return l=h(l,/^url\((['"])?(.+)\1\)$/,2),l&&h(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=St("div","leaflet-default-icon-path",document.body),h=bl(l,"background-image")||bl(l,"backgroundImage");if(document.body.removeChild(l),h=this._stripUrl(h),h)return h;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),x1=Ga.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new io(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ve(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var h=this._marker,y=h._map,N=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,O=ga(h._icon),q=y.getPixelBounds(),oe=y.getPixelOrigin(),he=pe(q.min._subtract(oe).add(C),q.max._subtract(oe).subtract(C));if(!he.contains(O)){var ke=ce((Math.max(he.max.x,O.x)-he.max.x)/(q.max.x-he.max.x)-(Math.min(he.min.x,O.x)-he.min.x)/(q.min.x-he.min.x),(Math.max(he.max.y,O.y)-he.max.y)/(q.max.y-he.max.y)-(Math.min(he.min.y,O.y)-he.min.y)/(q.min.y-he.min.y)).multiplyBy(N);y.panBy(ke,{animate:!1}),this._draggable._newPos._add(ke),this._draggable._startPos._add(ke),Or(h._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=D(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,l)))},_onDrag:function(l){var h=this._marker,y=h._shadow,N=ga(h._icon),C=h._map.layerPointToLatLng(N);y&&Or(y,N),h._latlng=C,l.latlng=C,l.oldLatLng=this._oldLatLng,h.fire("move",l).fire("drag",l)},_onDragEnd:function(l){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),Dh=ya.extend({options:{icon:new gu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,h){w(this,h),this._latlng=Re(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var h=this._latlng;return this._latlng=Re(l),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=l.icon.createIcon(this._icon),N=!1;y!==this._icon&&(this._icon&&this._removeIcon(),N=!0,l.title&&(y.title=l.title),y.tagName==="IMG"&&(y.alt=l.alt||"")),Ve(y,h),l.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(y,"focus",this._panOnFocus,this);var C=l.icon.createShadow(this._shadow),O=!1;C!==this._shadow&&(this._removeShadow(),O=!0),C&&(Ve(C,h),C.alt=""),this._shadow=C,l.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&O&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&sr(this._icon,"focus",this._panOnFocus,this),ur(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ur(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Or(this._icon,l),this._shadow&&Or(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),x1)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new x1(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Pn(this._icon,l),this._shadow&&Pn(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var h=this.options.icon.options,y=h.iconSize?ce(h.iconSize):ce(0,0),N=h.iconAnchor?ce(h.iconAnchor):ce(0,0);l.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:y.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function x9(l,h){return new Dh(l,h)}var oo=ya.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return w(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rh=oo.extend({options:{fill:!0,radius:10},initialize:function(l,h){w(this,h),this._latlng=Re(l),this._radius=this.options.radius},setLatLng:function(l){var h=this._latlng;return this._latlng=Re(l),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var h=l&&l.radius||this._radius;return oo.prototype.setStyle.call(this,l),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,h=this._radiusY||l,y=this._clickTolerance(),N=[l+y,h+y];this._pxBounds=new I(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function y9(l,h){return new Rh(l,h)}var A0=Rh.extend({initialize:function(l,h,y){if(typeof h=="number"&&(h=a({},y,{radius:h})),w(this,h),this._latlng=Re(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:oo.prototype.setStyle,_project:function(){var l=this._latlng.lng,h=this._latlng.lat,y=this._map,N=y.options.crs;if(N.distance===Z.distance){var C=Math.PI/180,O=this._mRadius/Z.R/C,q=y.project([h+O,l]),oe=y.project([h-O,l]),he=q.add(oe).divideBy(2),ke=y.unproject(he).lat,We=Math.acos((Math.cos(O*C)-Math.sin(h*C)*Math.sin(ke*C))/(Math.cos(h*C)*Math.cos(ke*C)))/C;(isNaN(We)||We===0)&&(We=O/Math.cos(Math.PI/180*h)),this._point=he.subtract(y.getPixelOrigin()),this._radius=isNaN(We)?0:he.x-y.project([ke,l-We]).x,this._radiusY=he.y-q.y}else{var dt=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(dt).x}this._updateBounds()}});function v9(l,h,y){return new A0(l,h,y)}var hi=oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,h){w(this,h),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var h=1/0,y=null,N=pu,C,O,q=0,oe=this._parts.length;q<oe;q++)for(var he=this._parts[q],ke=1,We=he.length;ke<We;ke++){C=he[ke-1],O=he[ke];var dt=N(l,C,O,!0);dt<h&&(h=dt,y=N(l,C,O))}return y&&(y.distance=Math.sqrt(h)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return p1(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,h){return h=h||this._defaultShape(),l=Re(l),h.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new Q,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return qs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var h=[],y=qs(l),N=0,C=l.length;N<C;N++)y?(h[N]=Re(l[N]),this._bounds.extend(h[N])):h[N]=this._convertLatLngs(l[N]);return h},_project:function(){var l=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),h=new G(l,l);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(l,h,y){var N=l[0]instanceof je,C=l.length,O,q;if(N){for(q=[],O=0;O<C;O++)q[O]=this._map.latLngToLayerPoint(l[O]),y.extend(q[O]);h.push(q)}else for(O=0;O<C;O++)this._projectLatlngs(l[O],h,y)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,y,N,C,O,q,oe,he;for(y=0,C=0,O=this._rings.length;y<O;y++)for(he=this._rings[y],N=0,q=he.length;N<q-1;N++)oe=h1(he[N],he[N+1],l,N,!0),oe&&(h[C]=h[C]||[],h[C].push(oe[0]),(oe[1]!==he[N+1]||N===q-2)&&(h[C].push(oe[1]),C++))}},_simplifyPoints:function(){for(var l=this._parts,h=this.options.smoothFactor,y=0,N=l.length;y<N;y++)l[y]=d1(l[y],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,h){var y,N,C,O,q,oe,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(y=0,O=this._parts.length;y<O;y++)for(oe=this._parts[y],N=0,q=oe.length,C=q-1;N<q;C=N++)if(!(!h&&N===0)&&u1(l,oe[C],oe[N])<=he)return!0;return!1}});function b9(l,h){return new hi(l,h)}hi._flat=f1;var Tc=hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return c1(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var h=hi.prototype._convertLatLngs.call(this,l),y=h.length;return y>=2&&h[0]instanceof je&&h[0].equals(h[y-1])&&h.pop(),h},_setLatLngs:function(l){hi.prototype._setLatLngs.call(this,l),qs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,h=this.options.weight,y=new G(h,h);if(l=new I(l.min.subtract(y),l.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var N=0,C=this._rings.length,O;N<C;N++)O=l1(this._rings[N],l,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var h=!1,y,N,C,O,q,oe,he,ke;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(O=0,he=this._parts.length;O<he;O++)for(y=this._parts[O],q=0,ke=y.length,oe=ke-1;q<ke;oe=q++)N=y[q],C=y[oe],N.y>l.y!=C.y>l.y&&l.x<(C.x-N.x)*(l.y-N.y)/(C.y-N.y)+N.x&&(h=!h);return h||hi.prototype._containsPoint.call(this,l,!0)}});function w9(l,h){return new Tc(l,h)}var fi=mi.extend({initialize:function(l,h){w(this,h),this._layers={},l&&this.addData(l)},addData:function(l){var h=_(l)?l:l.features,y,N,C;if(h){for(y=0,N=h.length;y<N;y++)C=h[y],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var O=this.options;if(O.filter&&!O.filter(l))return this;var q=Ih(l,O);return q?(q.feature=$h(l),q.defaultOptions=q.options,this.resetStyle(q),O.onEachFeature&&O.onEachFeature(l,q),this.addLayer(q)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=a({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(h){this._setLayerStyle(h,l)},this)},_setLayerStyle:function(l,h){l.setStyle&&(typeof h=="function"&&(h=h(l.feature)),l.setStyle(h))}});function Ih(l,h){var y=l.type==="Feature"?l.geometry:l,N=y?y.coordinates:null,C=[],O=h&&h.pointToLayer,q=h&&h.coordsToLatLng||E0,oe,he,ke,We;if(!N&&!y)return null;switch(y.type){case"Point":return oe=q(N),y1(O,l,oe,h);case"MultiPoint":for(ke=0,We=N.length;ke<We;ke++)oe=q(N[ke]),C.push(y1(O,l,oe,h));return new mi(C);case"LineString":case"MultiLineString":return he=Fh(N,y.type==="LineString"?0:1,q),new hi(he,h);case"Polygon":case"MultiPolygon":return he=Fh(N,y.type==="Polygon"?1:2,q),new Tc(he,h);case"GeometryCollection":for(ke=0,We=y.geometries.length;ke<We;ke++){var dt=Ih({geometry:y.geometries[ke],type:"Feature",properties:l.properties},h);dt&&C.push(dt)}return new mi(C);case"FeatureCollection":for(ke=0,We=y.features.length;ke<We;ke++){var xt=Ih(y.features[ke],h);xt&&C.push(xt)}return new mi(C);default:throw new Error("Invalid GeoJSON object.")}}function y1(l,h,y,N){return l?l(h,y):new Dh(y,N&&N.markersInheritOptions&&N)}function E0(l){return new je(l[1],l[0],l[2])}function Fh(l,h,y){for(var N=[],C=0,O=l.length,q;C<O;C++)q=h?Fh(l[C],h-1,y):(y||E0)(l[C]),N.push(q);return N}function O0(l,h){return l=Re(l),l.alt!==void 0?[g(l.lng,h),g(l.lat,h),g(l.alt,h)]:[g(l.lng,h),g(l.lat,h)]}function Bh(l,h,y,N){for(var C=[],O=0,q=l.length;O<q;O++)C.push(h?Bh(l[O],qs(l[O])?0:h-1,y,N):O0(l[O],N));return!h&&y&&C.length>0&&C.push(C[0].slice()),C}function Lc(l,h){return l.feature?a({},l.feature,{geometry:h}):$h(h)}function $h(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var T0={toGeoJSON:function(l){return Lc(this,{type:"Point",coordinates:O0(this.getLatLng(),l)})}};Dh.include(T0),A0.include(T0),Rh.include(T0),hi.include({toGeoJSON:function(l){var h=!qs(this._latlngs),y=Bh(this._latlngs,h?1:0,!1,l);return Lc(this,{type:(h?"Multi":"")+"LineString",coordinates:y})}}),Tc.include({toGeoJSON:function(l){var h=!qs(this._latlngs),y=h&&!qs(this._latlngs[0]),N=Bh(this._latlngs,y?2:h?1:0,!0,l);return h||(N=[N]),Lc(this,{type:(y?"Multi":"")+"Polygon",coordinates:N})}}),Ec.include({toMultiPoint:function(l){var h=[];return this.eachLayer(function(y){h.push(y.toGeoJSON(l).geometry.coordinates)}),Lc(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(l){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(l);var y=h==="GeometryCollection",N=[];return this.eachLayer(function(C){if(C.toGeoJSON){var O=C.toGeoJSON(l);if(y)N.push(O.geometry);else{var q=$h(O);q.type==="FeatureCollection"?N.push.apply(N,q.features):N.push(q)}}}),y?Lc(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});function v1(l,h){return new fi(l,h)}var j9=v1,zh=ya.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,h,y){this._url=l,this._bounds=xe(h),w(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ur(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&di(this._image),this},bringToBack:function(){return this._map&&wl(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=xe(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",h=this._image=l?this._url:St("img");if(Ve(h,"leaflet-image-layer"),this._zoomAnimated&&Ve(h,"leaflet-zoom-animated"),this.options.className&&Ve(h,this.options.className),h.onselectstart=f,h.onmousemove=f,h.onload=o(this.fire,this,"load"),h.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(l){var h=this._map.getZoomScale(l.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Ua(this._image,y,h)},_reset:function(){var l=this._image,h=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=h.getSize();Or(l,h.min),l.style.width=y.x+"px",l.style.height=y.y+"px"},_updateOpacity:function(){Pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),N9=function(l,h,y){return new zh(l,h,y)},b1=zh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",h=this._image=l?this._url:St("video");if(Ve(h,"leaflet-image-layer"),this._zoomAnimated&&Ve(h,"leaflet-zoom-animated"),this.options.className&&Ve(h,this.options.className),h.onselectstart=f,h.onmousemove=f,h.onloadeddata=o(this.fire,this,"load"),l){for(var y=h.getElementsByTagName("source"),N=[],C=0;C<y.length;C++)N.push(y[C].src);this._url=y.length>0?N:[h.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var q=St("source");q.src=this._url[O],h.appendChild(q)}}});function _9(l,h,y){return new b1(l,h,y)}var w1=zh.extend({_initImage:function(){var l=this._image=this._url;Ve(l,"leaflet-image-layer"),this._zoomAnimated&&Ve(l,"leaflet-zoom-animated"),this.options.className&&Ve(l,this.options.className),l.onselectstart=f,l.onmousemove=f}});function S9(l,h,y){return new w1(l,h,y)}var Wa=ya.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,h){l&&(l instanceof je||_(l))?(this._latlng=Re(l),w(this,h)):(w(this,l),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Pn(this._container,1),this.bringToFront(),this.options.interactive&&(Ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Pn(this._container,0),this._removeTimeout=setTimeout(o(ur,void 0,this._container),200)):ur(this._container),this.options.interactive&&(Nr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=Re(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&di(this._container),this},bringToBack:function(){return this._map&&wl(this._container),this},_prepareOpen:function(l){var h=this._source;if(!h._map)return!1;if(h instanceof mi){h=null;var y=this._source._layers;for(var N in y)if(y[N]._map){h=y[N];break}if(!h)return!1;this._source=h}if(!l)if(h.getCenter)l=h.getCenter();else if(h.getLatLng)l=h.getLatLng();else if(h.getBounds)l=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")l.innerHTML=h;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),h=ce(this.options.offset),y=this._getAnchor();this._zoomAnimated?Or(this._container,l.add(y)):h=h.add(l).add(y);var N=this._containerBottom=-h.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=N+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});kt.include({_initOverlay:function(l,h,y,N){var C=h;return C instanceof l||(C=new l(N).setContent(h)),y&&C.setLatLng(y),C}}),ya.include({_initOverlay:function(l,h,y,N){var C=y;return C instanceof l?(w(C,N),C._source=this):(C=h&&!N?h:new l(N,this),C.setContent(y)),C}});var Uh=Wa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Wa.prototype.openOn.call(this,l)},onAdd:function(l){Wa.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oo||this._source.on("preclick",jl))},onRemove:function(l){Wa.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oo||this._source.off("preclick",jl))},getEvents:function(){var l=Wa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",h=this._container=St("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=St("div",l+"-content-wrapper",h);if(this._contentNode=St("div",l+"-content",y),hu(h),w0(this._contentNode),$e(h,"contextmenu",jl),this._tipContainer=St("div",l+"-tip-container",h),this._tip=St("div",l+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=St("a",l+"-close-button",h);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',$e(N,"click",function(C){bn(C),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,h=l.style;h.width="",h.whiteSpace="nowrap";var y=l.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),h.width=y+1+"px",h.whiteSpace="",h.height="";var N=l.offsetHeight,C=this.options.maxHeight,O="leaflet-popup-scrolled";C&&N>C?(h.height=C+"px",Ve(l,O)):Nr(l,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),y=this._getAnchor();Or(this._container,h.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,h=parseInt(bl(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+h,N=this._containerWidth,C=new G(this._containerLeft,-y-this._containerBottom);C._add(ga(this._container));var O=l.layerPointToContainerPoint(C),q=ce(this.options.autoPanPadding),oe=ce(this.options.autoPanPaddingTopLeft||q),he=ce(this.options.autoPanPaddingBottomRight||q),ke=l.getSize(),We=0,dt=0;O.x+N+he.x>ke.x&&(We=O.x+N-ke.x+he.x),O.x-We-oe.x<0&&(We=O.x-oe.x),O.y+y+he.y>ke.y&&(dt=O.y+y-ke.y+he.y),O.y-dt-oe.y<0&&(dt=O.y-oe.y),(We||dt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([We,dt]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),k9=function(l,h){return new Uh(l,h)};kt.mergeOptions({closePopupOnClick:!0}),kt.include({openPopup:function(l,h,y){return this._initOverlay(Uh,l,h,y).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),ya.include({bindPopup:function(l,h){return this._popup=this._initOverlay(Uh,this._popup,l,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof mi||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){Nl(l);var h=l.layer||l.target;if(this._popup._source===h&&!(h instanceof oo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=h,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Gh=Wa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Wa.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Wa.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Wa.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",h=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=St("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var h,y,N=this._map,C=this._container,O=N.latLngToContainerPoint(N.getCenter()),q=N.layerPointToContainerPoint(l),oe=this.options.direction,he=C.offsetWidth,ke=C.offsetHeight,We=ce(this.options.offset),dt=this._getAnchor();oe==="top"?(h=he/2,y=ke):oe==="bottom"?(h=he/2,y=0):oe==="center"?(h=he/2,y=ke/2):oe==="right"?(h=0,y=ke/2):oe==="left"?(h=he,y=ke/2):q.x<O.x?(oe="right",h=0,y=ke/2):(oe="left",h=he+(We.x+dt.x)*2,y=ke/2),l=l.subtract(ce(h,y,!0)).add(We).add(dt),Nr(C,"leaflet-tooltip-right"),Nr(C,"leaflet-tooltip-left"),Nr(C,"leaflet-tooltip-top"),Nr(C,"leaflet-tooltip-bottom"),Ve(C,"leaflet-tooltip-"+oe),Or(C,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Pn(this._container,l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(h)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),C9=function(l,h){return new Gh(l,h)};kt.include({openTooltip:function(l,h,y){return this._initOverlay(Gh,l,h,y).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),ya.include({bindTooltip:function(l,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gh,this._tooltip,l,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var h=l?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[h](y),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof mi||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&($e(h,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),$e(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var h=l.latlng,y,N;this._tooltip.options.sticky&&l.originalEvent&&(y=this._map.mouseEventToContainerPoint(l.originalEvent),N=this._map.containerPointToLayerPoint(y),h=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(h)}});var j1=Oc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var h=l&&l.tagName==="DIV"?l:document.createElement("div"),y=this.options;if(y.html instanceof Element?(no(h),h.appendChild(y.html)):h.innerHTML=y.html!==!1?y.html:"",y.bgPos){var N=ce(y.bgPos);h.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function P9(l){return new j1(l)}Oc.Default=gu;var xu=ya.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ie.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){w(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),ur(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof G?l:new G(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var h=this.getPane().children,y=-l(-1/0,1/0),N=0,C=h.length,O;N<C;N++)O=h[N].style.zIndex,h[N]!==this._container&&O&&(y=l(y,+O));isFinite(y)&&(this.options.zIndex=y+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ie.ielt9){Pn(this._container,this.options.opacity);var l=+new Date,h=!1,y=!1;for(var N in this._tiles){var C=this._tiles[N];if(!(!C.current||!C.loaded)){var O=Math.min(1,(l-C.loaded)/200);Pn(C.el,O),O<1?h=!0:(C.active?y=!0:this._onOpaqueTile(C),C.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),h&&(B(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=St("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,h=this.options.maxZoom;if(l!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===l?(this._levels[y].el.style.zIndex=h-Math.abs(l-y),this._onUpdateLevel(y)):(ur(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var N=this._levels[l],C=this._map;return N||(N=this._levels[l]={},N.el=St("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=h,N.origin=C.project(C.unproject(C.getPixelOrigin()),l).round(),N.zoom=l,this._setZoomTransform(N,C.getCenter(),C.getZoom()),f(N.el.offsetWidth),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var l,h,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)h=this._tiles[l],h.retain=h.current;for(l in this._tiles)if(h=this._tiles[l],h.current&&!h.active){var N=h.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var h in this._tiles)this._tiles[h].coords.z===l&&this._removeTile(h)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)ur(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,h,y,N){var C=Math.floor(l/2),O=Math.floor(h/2),q=y-1,oe=new G(+C,+O);oe.z=+q;var he=this._tileCoordsToKey(oe),ke=this._tiles[he];return ke&&ke.active?(ke.retain=!0,!0):(ke&&ke.loaded&&(ke.retain=!0),q>N?this._retainParent(C,O,q,N):!1)},_retainChildren:function(l,h,y,N){for(var C=2*l;C<2*l+2;C++)for(var O=2*h;O<2*h+2;O++){var q=new G(C,O);q.z=y+1;var oe=this._tileCoordsToKey(q),he=this._tiles[oe];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);y+1<N&&this._retainChildren(C,O,y+1,N)}},_resetView:function(l){var h=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var h=this.options;return h.minNativeZoom!==void 0&&l<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<l?h.maxNativeZoom:l},_setView:function(l,h,y,N){var C=Math.round(h);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var O=this.options.updateWhenZooming&&C!==this._tileZoom;(!N||O)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(l),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(l,h)},_setZoomTransforms:function(l,h){for(var y in this._levels)this._setZoomTransform(this._levels[y],l,h)},_setZoomTransform:function(l,h,y){var N=this._map.getZoomScale(y,l.zoom),C=l.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(h,y)).round();Ie.any3d?Ua(l.el,C,N):Or(l.el,C)},_resetGrid:function(){var l=this._map,h=l.options.crs,y=this._tileSize=this.getTileSize(),N=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,h.wrapLng[0]],N).x/y.x),Math.ceil(l.project([0,h.wrapLng[1]],N).x/y.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([h.wrapLat[0],0],N).y/y.x),Math.ceil(l.project([h.wrapLat[1],0],N).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var h=this._map,y=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),N=h.getZoomScale(y,this._tileZoom),C=h.project(l,this._tileZoom).floor(),O=h.getSize().divideBy(N*2);return new I(C.subtract(O),C.add(O))},_update:function(l){var h=this._map;if(h){var y=this._clampZoom(h.getZoom());if(l===void 0&&(l=h.getCenter()),this._tileZoom!==void 0){var N=this._getTiledPixelBounds(l),C=this._pxBoundsToTileRange(N),O=C.getCenter(),q=[],oe=this.options.keepBuffer,he=new I(C.getBottomLeft().subtract([oe,-oe]),C.getTopRight().add([oe,-oe]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ke in this._tiles){var We=this._tiles[ke].coords;(We.z!==this._tileZoom||!he.contains(new G(We.x,We.y)))&&(this._tiles[ke].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(l,y);return}for(var dt=C.min.y;dt<=C.max.y;dt++)for(var xt=C.min.x;xt<=C.max.x;xt++){var zn=new G(xt,dt);if(zn.z=this._tileZoom,!!this._isValidTile(zn)){var cn=this._tiles[this._tileCoordsToKey(zn)];cn?cn.current=!0:q.push(zn)}}if(q.sort(function(os,Dc){return os.distanceTo(O)-Dc.distanceTo(O)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Vs=document.createDocumentFragment();for(xt=0;xt<q.length;xt++)this._addTile(q[xt],Vs);this._level.el.appendChild(Vs)}}}},_isValidTile:function(l){var h=this._map.options.crs;if(!h.infinite){var y=this._globalTileRange;if(!h.wrapLng&&(l.x<y.min.x||l.x>y.max.x)||!h.wrapLat&&(l.y<y.min.y||l.y>y.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(l);return xe(this.options.bounds).overlaps(N)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var h=this._map,y=this.getTileSize(),N=l.scaleBy(y),C=N.add(y),O=h.unproject(N,l.z),q=h.unproject(C,l.z);return[O,q]},_tileCoordsToBounds:function(l){var h=this._tileCoordsToNwSe(l),y=new Q(h[0],h[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var h=l.split(":"),y=new G(+h[0],+h[1]);return y.z=+h[2],y},_removeTile:function(l){var h=this._tiles[l];h&&(ur(h.el),delete this._tiles[l],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Ve(l,"leaflet-tile");var h=this.getTileSize();l.style.width=h.x+"px",l.style.height=h.y+"px",l.onselectstart=f,l.onmousemove=f,Ie.ielt9&&this.options.opacity<1&&Pn(l,this.options.opacity)},_addTile:function(l,h){var y=this._getTilePos(l),N=this._tileCoordsToKey(l),C=this.createTile(this._wrapCoords(l),o(this._tileReady,this,l));this._initTile(C),this.createTile.length<2&&D(o(this._tileReady,this,l,null,C)),Or(C,y),this._tiles[N]={el:C,coords:l,current:!0},h.appendChild(C),this.fire("tileloadstart",{tile:C,coords:l})},_tileReady:function(l,h,y){h&&this.fire("tileerror",{error:h,tile:y,coords:l});var N=this._tileCoordsToKey(l);y=this._tiles[N],y&&(y.loaded=+new Date,this._map._fadeAnimated?(Pn(y.el,0),B(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),h||(Ve(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ie.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var h=new G(this._wrapX?m(l.x,this._wrapX):l.x,this._wrapY?m(l.y,this._wrapY):l.y);return h.z=l.z,h},_pxBoundsToTileRange:function(l){var h=this.getTileSize();return new I(l.min.unscaleBy(h).floor(),l.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function A9(l){return new xu(l)}var Mc=xu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,h){this._url=l,h=w(this,h),h.detectRetina&&Ie.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,h){return this._url===l&&h===void 0&&(h=!0),this._url=l,h||this.redraw(),this},createTile:function(l,h){var y=document.createElement("img");return $e(y,"load",o(this._tileOnLoad,this,h,y)),$e(y,"error",o(this._tileOnError,this,h,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(l),y},getTileUrl:function(l){var h={r:Ie.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-l.y;this.options.tms&&(h.y=y),h["-y"]=y}return S(this._url,a(h,this.options))},_tileOnLoad:function(l,h){Ie.ielt9?setTimeout(o(l,this,null,h),0):l(null,h)},_tileOnError:function(l,h,y){var N=this.options.errorTileUrl;N&&h.getAttribute("src")!==N&&(h.src=N),l(y,h)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,h=this.options.maxZoom,y=this.options.zoomReverse,N=this.options.zoomOffset;return y&&(l=h-l),l+N},_getSubdomain:function(l){var h=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var l,h;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(h=this._tiles[l].el,h.onload=f,h.onerror=f,!h.complete)){h.src=A;var y=this._tiles[l].coords;ur(h),delete this._tiles[l],this.fire("tileabort",{tile:h,coords:y})}},_removeTile:function(l){var h=this._tiles[l];if(h)return h.el.setAttribute("src",A),xu.prototype._removeTile.call(this,l)},_tileReady:function(l,h,y){if(!(!this._map||y&&y.getAttribute("src")===A))return xu.prototype._tileReady.call(this,l,h,y)}});function N1(l,h){return new Mc(l,h)}var _1=Mc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,h){this._url=l;var y=a({},this.defaultWmsParams);for(var N in h)N in this.options||(y[N]=h[N]);h=w(this,h);var C=h.detectRetina&&Ie.retina?2:1,O=this.getTileSize();y.width=O.x*C,y.height=O.y*C,this.wmsParams=y},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Mc.prototype.onAdd.call(this,l)},getTileUrl:function(l){var h=this._tileCoordsToNwSe(l),y=this._crs,N=pe(y.project(h[0]),y.project(h[1])),C=N.min,O=N.max,q=(this._wmsVersion>=1.3&&this._crs===g1?[C.y,C.x,O.y,O.x]:[C.x,C.y,O.x,O.y]).join(","),oe=Mc.prototype.getTileUrl.call(this,l);return oe+b(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(l,h){return a(this.wmsParams,l),h||this.redraw(),this}});function E9(l,h){return new _1(l,h)}Mc.WMS=_1,N1.wms=E9;var pi=ya.extend({options:{padding:.1},initialize:function(l){w(this,l),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,h){var y=this._map.getZoomScale(h,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,h),O=N.multiplyBy(-y).add(C).subtract(this._map._getNewPixelOrigin(l,h));Ie.any3d?Ua(this._container,O,y):Or(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,h=this._map.getSize(),y=this._map.containerPointToLayerPoint(h.multiplyBy(-l)).round();this._bounds=new I(y,y.add(h.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),S1=pi.extend({options:{tolerance:0},getEvents:function(){var l=pi.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");$e(l,"mousemove",this._onMouseMove,this),$e(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,ur(this._container),sr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var h in this._layers)l=this._layers[h],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pi.prototype._update.call(this);var l=this._bounds,h=this._container,y=l.getSize(),N=Ie.retina?2:1;Or(h,l.min),h.width=N*y.x,h.height=N*y.y,h.style.width=y.x+"px",h.style.height=y.y+"px",Ie.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){pi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[d(l)]=l;var h=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var h=l._order,y=h.next,N=h.prev;y?y.prev=N:this._drawLast=N,N?N.next=y:this._drawFirst=y,delete l._order,delete this._layers[d(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var h=l.options.dashArray.split(/[, ]+/),y=[],N,C;for(C=0;C<h.length;C++){if(N=Number(h[C]),isNaN(N))return;y.push(N)}l.options._dashArray=y}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var h=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(l._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(l._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var h=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,h=this._redrawBounds;if(this._ctx.save(),h){var y=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)l=N.layer,(!h||l._pxBounds&&l._pxBounds.intersects(h))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,h){if(this._drawing){var y,N,C,O,q=l._parts,oe=q.length,he=this._ctx;if(oe){for(he.beginPath(),y=0;y<oe;y++){for(N=0,C=q[y].length;N<C;N++)O=q[y][N],he[N?"lineTo":"moveTo"](O.x,O.y);h&&he.closePath()}this._fillStroke(he,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var h=l._point,y=this._ctx,N=Math.max(Math.round(l._radius),1),C=(Math.max(Math.round(l._radiusY),1)||N)/N;C!==1&&(y.save(),y.scale(1,C)),y.beginPath(),y.arc(h.x,h.y/C,N,0,Math.PI*2,!1),C!==1&&y.restore(),this._fillStroke(y,l)}},_fillStroke:function(l,h){var y=h.options;y.fill&&(l.globalAlpha=y.fillOpacity,l.fillStyle=y.fillColor||y.color,l.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(l.setLineDash&&l.setLineDash(h.options&&h.options._dashArray||[]),l.globalAlpha=y.opacity,l.lineWidth=y.weight,l.strokeStyle=y.color,l.lineCap=y.lineCap,l.lineJoin=y.lineJoin,l.stroke())},_onClick:function(l){for(var h=this._map.mouseEventToLayerPoint(l),y,N,C=this._drawFirst;C;C=C.next)y=C.layer,y.options.interactive&&y._containsPoint(h)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(y))&&(N=y);this._fireEvent(N?[N]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,h)}},_handleMouseOut:function(l){var h=this._hoveredLayer;h&&(Nr(this._container,"leaflet-interactive"),this._fireEvent([h],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,h){if(!this._mouseHoverThrottled){for(var y,N,C=this._drawFirst;C;C=C.next)y=C.layer,y.options.interactive&&y._containsPoint(h)&&(N=y);N!==this._hoveredLayer&&(this._handleMouseOut(l),N&&(Ve(this._container,"leaflet-interactive"),this._fireEvent([N],l,"mouseover"),this._hoveredLayer=N)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,h,y){this._map._fireDOMEvent(h,y||h.type,l)},_bringToFront:function(l){var h=l._order;if(h){var y=h.next,N=h.prev;if(y)y.prev=N;else return;N?N.next=y:y&&(this._drawFirst=y),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(l)}},_bringToBack:function(l){var h=l._order;if(h){var y=h.next,N=h.prev;if(N)N.next=y;else return;y?y.prev=N:N&&(this._drawLast=N),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(l)}}});function k1(l){return Ie.canvas?new S1(l):null}var yu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),O9={_initContainer:function(){this._container=St("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pi.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var h=l._container=yu("shape");Ve(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",l._path=yu("path"),h.appendChild(l._path),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){var h=l._container;this._container.appendChild(h),l.options.interactive&&l.addInteractiveTarget(h)},_removePath:function(l){var h=l._container;ur(h),l.removeInteractiveTarget(h),delete this._layers[d(l)]},_updateStyle:function(l){var h=l._stroke,y=l._fill,N=l.options,C=l._container;C.stroked=!!N.stroke,C.filled=!!N.fill,N.stroke?(h||(h=l._stroke=yu("stroke")),C.appendChild(h),h.weight=N.weight+"px",h.color=N.color,h.opacity=N.opacity,N.dashArray?h.dashStyle=_(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=N.lineCap.replace("butt","flat"),h.joinstyle=N.lineJoin):h&&(C.removeChild(h),l._stroke=null),N.fill?(y||(y=l._fill=yu("fill")),C.appendChild(y),y.color=N.fillColor||N.color,y.opacity=N.fillOpacity):y&&(C.removeChild(y),l._fill=null)},_updateCircle:function(l){var h=l._point.round(),y=Math.round(l._radius),N=Math.round(l._radiusY||y);this._setPath(l,l._empty()?"M0 0":"AL "+h.x+","+h.y+" "+y+","+N+" 0,"+65535*360)},_setPath:function(l,h){l._path.v=h},_bringToFront:function(l){di(l._container)},_bringToBack:function(l){wl(l._container)}},Wh=Ie.vml?yu:Le,vu=pi.extend({_initContainer:function(){this._container=Wh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ur(this._container),sr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pi.prototype._update.call(this);var l=this._bounds,h=l.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,y.setAttribute("width",h.x),y.setAttribute("height",h.y)),Or(y,l.min),y.setAttribute("viewBox",[l.min.x,l.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(l){var h=l._path=Wh("path");l.options.className&&Ve(h,l.options.className),l.options.interactive&&Ve(h,"leaflet-interactive"),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){ur(l._path),l.removeInteractiveTarget(l._path),delete this._layers[d(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var h=l._path,y=l.options;h&&(y.stroke?(h.setAttribute("stroke",y.color),h.setAttribute("stroke-opacity",y.opacity),h.setAttribute("stroke-width",y.weight),h.setAttribute("stroke-linecap",y.lineCap),h.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?h.setAttribute("stroke-dasharray",y.dashArray):h.removeAttribute("stroke-dasharray"),y.dashOffset?h.setAttribute("stroke-dashoffset",y.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),y.fill?(h.setAttribute("fill",y.fillColor||y.color),h.setAttribute("fill-opacity",y.fillOpacity),h.setAttribute("fill-rule",y.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(l,h){this._setPath(l,ze(l._parts,h))},_updateCircle:function(l){var h=l._point,y=Math.max(Math.round(l._radius),1),N=Math.max(Math.round(l._radiusY),1)||y,C="a"+y+","+N+" 0 1,0 ",O=l._empty()?"M0 0":"M"+(h.x-y)+","+h.y+C+y*2+",0 "+C+-y*2+",0 ";this._setPath(l,O)},_setPath:function(l,h){l._path.setAttribute("d",h)},_bringToFront:function(l){di(l._path)},_bringToBack:function(l){wl(l._path)}});Ie.vml&&vu.include(O9);function C1(l){return Ie.svg||Ie.vml?new vu(l):null}kt.include({getRenderer:function(l){var h=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var h=this._paneRenderers[l];return h===void 0&&(h=this._createRenderer({pane:l}),this._paneRenderers[l]=h),h},_createRenderer:function(l){return this.options.preferCanvas&&k1(l)||C1(l)}});var P1=Tc.extend({initialize:function(l,h){Tc.prototype.initialize.call(this,this._boundsToLatLngs(l),h)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=xe(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function T9(l,h){return new P1(l,h)}vu.create=Wh,vu.pointsToPath=ze,fi.geometryToLayer=Ih,fi.coordsToLatLng=E0,fi.coordsToLatLngs=Fh,fi.latLngToCoords=O0,fi.latLngsToCoords=Bh,fi.getFeature=Lc,fi.asFeature=$h,kt.mergeOptions({boxZoom:!0});var A1=Ga.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){sr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ur(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mt(),be(),this._startPoint=this._map.mouseEventToContainerPoint(l),$e(document,{contextmenu:Nl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=St("div","leaflet-zoom-box",this._container),Ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var h=new I(this._point,this._startPoint),y=h.getSize();Or(this._box,h.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(ur(this._box),Nr(this._container,"leaflet-crosshair")),F(),Ce(),sr(document,{contextmenu:Nl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var h=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});kt.addInitHook("addHandler","boxZoom",A1),kt.mergeOptions({doubleClickZoom:!0});var E1=Ga.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var h=this._map,y=h.getZoom(),N=h.options.zoomDelta,C=l.originalEvent.shiftKey?y-N:y+N;h.options.doubleClickZoom==="center"?h.setZoom(C):h.setZoomAround(l.containerPoint,C)}});kt.addInitHook("addHandler","doubleClickZoom",E1),kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var O1=Ga.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new io(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nr(this._map._container,"leaflet-grab"),Nr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=xe(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var h=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(h),this._prunePositions(h)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,h){return l-(l-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;l.x<h.min.x&&(l.x=this._viscousLimit(l.x,h.min.x)),l.y<h.min.y&&(l.y=this._viscousLimit(l.y,h.min.y)),l.x>h.max.x&&(l.x=this._viscousLimit(l.x,h.max.x)),l.y>h.max.y&&(l.y=this._viscousLimit(l.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,h=Math.round(l/2),y=this._initialWorldOffset,N=this._draggable._newPos.x,C=(N-h+y)%l+h-y,O=(N+h+y)%l-h-y,q=Math.abs(C+y)<Math.abs(O+y)?C:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(l){var h=this._map,y=h.options,N=!y.inertia||l.noInertia||this._times.length<2;if(h.fire("dragend",l),N)h.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,q=y.easeLinearity,oe=C.multiplyBy(q/O),he=oe.distanceTo([0,0]),ke=Math.min(y.inertiaMaxSpeed,he),We=oe.multiplyBy(ke/he),dt=ke/(y.inertiaDeceleration*q),xt=We.multiplyBy(-dt/2).round();!xt.x&&!xt.y?h.fire("moveend"):(xt=h._limitOffset(xt,h.options.maxBounds),D(function(){h.panBy(xt,{duration:dt,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});kt.addInitHook("addHandler","dragging",O1),kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var T1=Ga.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),$e(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),sr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,h=document.documentElement,y=l.scrollTop||h.scrollTop,N=l.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(N,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var h=this._panKeys={},y=this.keyCodes,N,C;for(N=0,C=y.left.length;N<C;N++)h[y.left[N]]=[-1*l,0];for(N=0,C=y.right.length;N<C;N++)h[y.right[N]]=[l,0];for(N=0,C=y.down.length;N<C;N++)h[y.down[N]]=[0,l];for(N=0,C=y.up.length;N<C;N++)h[y.up[N]]=[0,-1*l]},_setZoomDelta:function(l){var h=this._zoomKeys={},y=this.keyCodes,N,C;for(N=0,C=y.zoomIn.length;N<C;N++)h[y.zoomIn[N]]=l;for(N=0,C=y.zoomOut.length;N<C;N++)h[y.zoomOut[N]]=-l},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){sr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var h=l.keyCode,y=this._map,N;if(h in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(N=this._panKeys[h],l.shiftKey&&(N=ce(N).multiplyBy(3)),y.options.maxBounds&&(N=y._limitOffset(ce(N),y.options.maxBounds)),y.options.worldCopyJump){var C=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(N)));y.panTo(C)}else y.panBy(N)}else if(h in this._zoomKeys)y.setZoom(y.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;Nl(l)}}});kt.addInitHook("addHandler","keyboard",T1),kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var L1=Ga.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){sr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var h=n1(l),y=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var N=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),N),Nl(l)},_performZoom:function(){var l=this._map,h=l.getZoom(),y=this._map.options.zoomSnap||0;l._stop();var N=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(N))))/Math.LN2,O=y?Math.ceil(C/y)*y:C,q=l._limitZoom(h+(this._delta>0?O:-O))-h;this._delta=0,this._startTime=null,q&&(l.options.scrollWheelZoom==="center"?l.setZoom(h+q):l.setZoomAround(this._lastMousePos,h+q))}});kt.addInitHook("addHandler","scrollWheelZoom",L1);var L9=600;kt.mergeOptions({tapHold:Ie.touchNative&&Ie.safari&&Ie.mobile,tapTolerance:15});var M1=Ga.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){sr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var h=l.touches[0];this._startPos=this._newPos=new G(h.clientX,h.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&($e(document,"touchend",bn),$e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),L9),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){sr(document,"touchend",bn),sr(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),sr(document,"touchend touchcancel contextmenu",this._cancel,this),sr(document,"touchmove",this._onMove,this)},_onMove:function(l){var h=l.touches[0];this._newPos=new G(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,h){var y=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});y._simulated=!0,h.target.dispatchEvent(y)}});kt.addInitHook("addHandler","tapHold",M1),kt.mergeOptions({touchZoom:Ie.touch,bounceAtZoomLimits:!0});var D1=Ga.extend({addHooks:function(){Ve(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nr(this._map._container,"leaflet-touch-zoom"),sr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var h=this._map;if(!(!l.touches||l.touches.length!==2||h._animatingZoom||this._zooming)){var y=h.mouseEventToContainerPoint(l.touches[0]),N=h.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(y.add(N)._divideBy(2))),this._startDist=y.distanceTo(N),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),bn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var h=this._map,y=h.mouseEventToContainerPoint(l.touches[0]),N=h.mouseEventToContainerPoint(l.touches[1]),C=y.distanceTo(N)/this._startDist;if(this._zoom=h.getScaleZoom(C,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&C<1||this._zoom>h.getMaxZoom()&&C>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var O=y._add(N)._divideBy(2)._subtract(this._centerPoint);if(C===1&&O.x===0&&O.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var q=o(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(q,this,!0),bn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),sr(document,"touchmove",this._onTouchMove,this),sr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});kt.addInitHook("addHandler","touchZoom",D1),kt.BoxZoom=A1,kt.DoubleClickZoom=E1,kt.Drag=O1,kt.Keyboard=T1,kt.ScrollWheelZoom=L1,kt.TapHold=M1,kt.TouchZoom=D1,n.Bounds=I,n.Browser=Ie,n.CRS=rt,n.Canvas=S1,n.Circle=A0,n.CircleMarker=Rh,n.Class=X,n.Control=xa,n.DivIcon=j1,n.DivOverlay=Wa,n.DomEvent=QM,n.DomUtil=Dt,n.Draggable=io,n.Evented=ae,n.FeatureGroup=mi,n.GeoJSON=fi,n.GridLayer=xu,n.Handler=Ga,n.Icon=Oc,n.ImageOverlay=zh,n.LatLng=je,n.LatLngBounds=Q,n.Layer=ya,n.LayerGroup=Ec,n.LineUtil=d9,n.Map=kt,n.Marker=Dh,n.Mixin=s9,n.Path=oo,n.Point=G,n.PolyUtil=a9,n.Polygon=Tc,n.Polyline=hi,n.Popup=Uh,n.PosAnimation=s1,n.Projection=u9,n.Rectangle=P1,n.Renderer=pi,n.SVG=vu,n.SVGOverlay=w1,n.TileLayer=Mc,n.Tooltip=Gh,n.Transformation=Fe,n.Util=z,n.VideoOverlay=b1,n.bind=o,n.bounds=pe,n.canvas=k1,n.circle=v9,n.circleMarker=y9,n.control=fu,n.divIcon=P9,n.extend=a,n.featureGroup=p9,n.geoJSON=v1,n.geoJson=j9,n.gridLayer=A9,n.icon=g9,n.imageOverlay=N9,n.latLng=Re,n.latLngBounds=xe,n.layerGroup=f9,n.map=JM,n.marker=x9,n.point=ce,n.polygon=w9,n.polyline=b9,n.popup=k9,n.rectangle=T9,n.setOptions=w,n.stamp=d,n.svg=C1,n.svgOverlay=S9,n.tileLayer=N1,n.tooltip=C9,n.transformation=ge,n.version=s,n.videoOverlay=_9;var M9=window.L;n.noConflict=function(){return window.L=M9,this},window.L=n})})(gb,gb.exports);var Sc=gb.exports;const Ui=bs(Sc);function tu(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function fx(e,t){return t==null?function(s,a){const i=p.useRef();return i.current||(i.current=e(s,a)),i}:function(s,a){const i=p.useRef();i.current||(i.current=e(s,a));const o=p.useRef(s),{instance:c}=i.current;return p.useEffect(function(){o.current!==s&&(t(c,s,o.current),o.current=s)},[c,s,a]),i}}function KP(e,t){p.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function ZP(e){return function(n){const s=mx(),a=e(hx(n,s),s);return WP(s.map,n.attribution),Cj(a.current,n.eventHandlers),KP(a.current,s),a}}function oz(e,t){const n=p.useRef();p.useEffect(function(){if(t.pathOptions!==n.current){const a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function lz(e){return function(n){const s=mx(),a=e(hx(n,s),s);return Cj(a.current,n.eventHandlers),KP(a.current,s),oz(a.current,n),a}}function cz(e,t){const n=fx(e,t),s=ZP(n);return VP(s)}function YP(e,t){const n=fx(e),s=iz(n,t);return sz(s)}function QP(e,t){const n=fx(e,t),s=lz(n);return VP(s)}function dz(e,t){const n=fx(e,t),s=ZP(n);return az(s)}function uz(e,t,n){const{opacity:s,zIndex:a}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function JP(){return mx().map}function mz(e){const t=JP();return p.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const Pj=QP(function({center:t,children:n,...s},a){const i=new Sc.CircleMarker(t,s);return tu(i,kj(a,{overlayContainer:i}))},tz);function xb(){return xb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xb.apply(this,arguments)}function hz({bounds:e,boundsOptions:t,center:n,children:s,className:a,id:i,placeholder:o,style:c,whenReady:d,zoom:u,...m},f){const[g]=p.useState({className:a,id:i,style:c}),[x,v]=p.useState(null);p.useImperativeHandle(f,()=>(x==null?void 0:x.map)??null,[x]);const w=p.useCallback(j=>{if(j!==null&&x===null){const S=new Sc.Map(j,m);n!=null&&u!=null?S.setView(n,u):e!=null&&S.fitBounds(e,t),d!=null&&S.whenReady(d),v(nz(S))}},[]);p.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const b=x?tt.createElement(qP,{value:x},s):o??null;return tt.createElement("div",xb({},g,{ref:w}),b)}const Xo=p.forwardRef(hz),Im=cz(function({position:t,...n},s){const a=new Sc.Marker(t,n);return tu(a,kj(s,{overlayContainer:a}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Aj=YP(function(t,n){const s=new Sc.Popup(t,n.overlayContainer);return tu(s,n)},function(t,n,{position:s},a){p.useEffect(function(){const{instance:o}=t;function c(u){u.popup===o&&(o.update(),a(!0))}function d(u){u.popup===o&&a(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(s!=null&&o.setLatLng(s),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var m;n.map.off({popupopen:c,popupclose:d}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(o)}},[t,n,a,s])}),el=dz(function({url:t,...n},s){const a=new Sc.TileLayer(t,hx(n,s));return tu(a,s)},function(t,n,s){uz(t,n,s);const{url:a}=n;a!=null&&a!==s.url&&t.setUrl(a)}),XP=YP(function(t,n){const s=new Sc.Tooltip(t,n.overlayContainer);return tu(s,n)},function(t,n,{position:s},a){p.useEffect(function(){const o=n.overlayContainer;if(o==null)return;const{instance:c}=t,d=m=>{m.tooltip===c&&(s!=null&&c.setLatLng(s),c.update(),a(!0))},u=m=>{m.tooltip===c&&a(!1)};return o.on({tooltipopen:d,tooltipclose:u}),o.bindTooltip(c),function(){o.off({tooltipopen:d,tooltipclose:u}),o._map!=null&&o.unbindTooltip()}},[t,n,a,s])}),fz=()=>{const[e,t]=p.useState([]),[n,s]=p.useState(!0),[a,i]=p.useState(null),[o,c]=p.useState(1),[d,u]=p.useState("date"),[m,f]=p.useState(!1),g=7,x=5;p.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0);const D=await eu.getWeeklyHighlights({days:7,limit:35});t(D.data.highlights)}catch(D){console.error("Failed to fetch weekly highlights:",D),i("Failed to load weekly highlights")}finally{s(!1)}},w=[...e].sort((D,B)=>{if(d==="date"){const z=new Date(D.publicationDate||0);return new Date(B.publicationDate||0)-z}else if(d==="ecosystem"){const z=D.ecosystem||"",X=B.ecosystem||"";return z.localeCompare(X)}else if(d==="theme"){const z=D.mainCategory||"",X=B.mainCategory||"";return z.localeCompare(X)}return 0}),b=Math.min(Math.ceil(w.length/g),x),j=(o-1)*g,S=j+g,_=w.slice(j,S),k=D=>{const B={Species:"bg-green-100 text-green-700","Conservation Policy":"bg-blue-100 text-blue-700",Ecosystem:"bg-emerald-100 text-emerald-700",Methods:"bg-purple-100 text-purple-700",Geographic:"bg-orange-100 text-orange-700",Research:"bg-gray-100 text-gray-700"};return B[D]||B.Research},A=D=>D?new Date(D).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"",P=()=>{const D=new Date,B=new Date;B.setDate(B.getDate()-7);const z={month:"long",day:"numeric"},X=B.toLocaleDateString("en-US",z),le=D.toLocaleDateString("en-US",{...z,year:"numeric"});return`${X} - ${le}`};if(n)return r.jsx("div",{className:"py-20 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading latest research..."})]})});if(a)return r.jsx("div",{className:"py-20 px-4",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center",children:r.jsx("p",{className:"text-red-600",children:a})})});if(e.length===0)return r.jsx("div",{className:"py-20 px-4",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center",children:r.jsx("p",{className:"text-gray-600 italic",children:"No new research this week. Check back soon!"})})});const E={"Marine & Coastal":"#3B82F6","Tropical Forests":"#10B981","Temperate Forests":"#059669","Grasslands & Savannas":"#F59E0B",Wetlands:"#06B6D4","Mountains & Alpine":"#8B5CF6","Desert & Arid":"#F97316",Freshwater:"#0EA5E9","Urban & Built":"#6B7280",Agricultural:"#84CC16","Other/Mixed":"#64748B"},T=w.filter(D=>D.latitude&&D.longitude),M=T.length>0?T.reduce((D,B)=>({minLat:Math.min(D.minLat,B.latitude),maxLat:Math.max(D.maxLat,B.latitude),minLng:Math.min(D.minLng,B.longitude),maxLng:Math.max(D.maxLng,B.longitude)}),{minLat:T[0].latitude,maxLat:T[0].latitude,minLng:T[0].longitude,maxLng:T[0].longitude}):null,U=M?[(M.minLat+M.maxLat)/2,(M.minLng+M.maxLng)/2]:[20,0];return r.jsx("div",{className:"py-20 px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Ct,{className:"w-6 h-6 text-orange-500"}),r.jsx("h2",{className:"text-2xl sm:text-3xl text-gray-900 font-semibold",children:"Latest Conservation Research"})]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Conservation research published in the past week, selected for journal impact, geographic interest, and methodology"}),T.length>0&&r.jsx("div",{className:"mb-10 bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsxs(Xo,{center:U,zoom:2,minZoom:2,maxZoom:18,maxBounds:[[-85,-180],[85,180]],maxBoundsViscosity:1,worldCopyJump:!1,style:{height:"500px",width:"100%",backgroundColor:"#e0f2fe"},scrollWheelZoom:!1,children:[r.jsx(el,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",noWrap:!0}),T.map(D=>{const B=E[D.ecosystem]||"#64748B";return r.jsx(Pj,{center:[D.latitude,D.longitude],radius:8,pathOptions:{fillColor:B,color:"#ffffff",weight:2,opacity:1,fillOpacity:.8},children:r.jsx(XP,{direction:"top",offset:[0,-10],children:r.jsxs("div",{className:"text-sm",style:{maxWidth:"300px",width:"300px"},children:[r.jsx("div",{className:"font-semibold text-blue-600 mb-2 text-xs",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word"},children:D.mainCategory}),r.jsx("div",{className:"font-medium mb-2 text-gray-900",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:D.title}),D.authors&&D.authors.length>0&&r.jsxs("div",{className:"text-xs text-gray-600 mb-1",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word"},children:[D.authors.slice(0,3).join(", "),D.authors.length>3&&" et al."]}),D.journal&&r.jsx("div",{className:"text-xs text-gray-500 italic",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word"},children:D.journal})]})})},D.id)})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[w.length," results"]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Week of ",P()]})]}),r.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>f(!m),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:["Sort: ",d==="date"?"Date":d==="ecosystem"?"Ecosystem":"Theme",r.jsx(la,{className:"w-4 h-4"})]}),m&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("button",{onClick:()=>{u("date"),f(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors ${d==="date"?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:"Date (Newest First)"}),r.jsx("button",{onClick:()=>{u("ecosystem"),f(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors ${d==="ecosystem"?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:"Ecosystem (A-Z)"}),r.jsx("button",{onClick:()=>{u("theme"),f(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors ${d==="theme"?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:"Theme (A-Z)"})]})]})})]})}),_.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 divide-y divide-gray-200",children:_.map(D=>{var le,$,ae;const B=k(D.mainCategory),z=A(D.publicationDate),X=D.ecosystem;return r.jsx("div",{className:`px-4 py-4 hover:bg-gray-50 transition-colors relative ${X?"border-l-8":""}`,style:X?{borderLeftColor:E[X]||"#64748B"}:{},children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 ${B} text-xs font-medium rounded-full mb-3`,children:[r.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"})}),D.mainCategory]}),r.jsx(ne,{to:`/research/${D.id}`,className:"block group",children:r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-orange-700 transition-colors cursor-pointer select-text",children:D.title})}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2 flex-wrap select-text",children:[D.authors&&D.authors.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-gray-700",children:[D.authors.slice(0,3).join(", "),D.authors.length>3&&" et al."]}),r.jsx("span",{className:"text-gray-400",children:""})]}),D.journal&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"italic",children:D.journal}),r.jsx("span",{className:"text-gray-400",children:""})]}),z&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:z}),D.doi&&r.jsx("span",{className:"text-gray-400",children:""})]}),D.doi&&r.jsx("a",{href:`https://doi.org/${D.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-mono text-blue-600 hover:text-blue-800 underline",onClick:G=>G.stopPropagation(),children:D.doi}),D.citations!==void 0&&D.citations!==null&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{className:"font-medium text-indigo-600",children:[D.citations," ",D.citations===1?"citation":"citations"]})]})]}),D.snippet&&r.jsx("p",{className:"text-sm text-gray-700 mb-3 line-clamp-2 select-text",children:D.snippet}),r.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[D.ecosystem&&r.jsx("span",{className:"px-2 py-1 text-xs rounded-full text-white font-medium select-text",style:{backgroundColor:E[D.ecosystem]||"#64748B"},children:D.ecosystem}),(le=D.methods)==null?void 0:le.map((G,ie)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-700 font-medium select-text",children:G},`method-${ie}`)),($=D.frameworks)==null?void 0:$.map((G,ie)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-700 font-medium select-text",children:G},`fw-${ie}`)),(ae=D.species)==null?void 0:ae.map((G,ie)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-700 font-medium select-text",children:G},`taxa-${ie}`)),D.location&&r.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-700 font-medium flex items-center gap-1 select-text",children:[r.jsx(Wt,{className:"w-3 h-3"}),D.location]})]})]})},D.id)})}),b>1&&r.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[r.jsxs("button",{onClick:()=>c(D=>Math.max(1,D-1)),disabled:o===1,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-500"}`,children:[r.jsx(FB,{className:"w-5 h-5"}),"Previous"]}),r.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:b},(D,B)=>B+1).map(D=>r.jsx("button",{onClick:()=>c(D),className:`w-10 h-10 rounded-lg font-medium transition-colors ${o===D?"bg-orange-500 text-white":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-500"}`,children:D},D))}),r.jsxs("button",{onClick:()=>c(D=>Math.min(b,D+1)),disabled:o===b,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${o===b?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-500"}`,children:["Next",r.jsx(IP,{className:"w-5 h-5"})]})]})]}),r.jsx("div",{className:"mt-10 text-center",children:r.jsxs(ne,{to:"/analytics/trends",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-3 rounded-full text-base font-medium border-2 border-gray-300 hover:border-orange-500 hover:text-orange-700 transition-all",children:["View Monthly & Yearly Trends",r.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})};function pz(){var d,u,m,f,g,x,v,w,b,j,S,_,k,A,P,E,T,M,U;const[e,t]=p.useState("researchers"),[n,s]=p.useState(""),[a,i]=p.useState(!1),{data:o}=kr({queryKey:["database-stats"],queryFn:()=>eu.getDatabaseStats({time_range:"all"}),staleTime:10*60*1e3}),c=["SDG 13: Climate Action","SDG 14: Life Below Water","SDG 15: Life on Land","Paris Agreement Article 6","Convention on Biological Diversity","Kunming-Montreal Framework","Marine biodiversity","Renewable energy policy","Carbon sequestration","Ecosystem restoration"];return n?c.filter(D=>D.toLowerCase().includes(n.toLowerCase())):c.slice(0,5),r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"relative py-24 px-4 sm:py-32 bg-white",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-8 leading-tight font-bold tracking-tight",children:["Find conservation research",r.jsx("br",{}),"by where it happens"]}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 mb-12 leading-relaxed max-w-2xl mx-auto",children:"Search by location, species, ecosystems, and policy frameworks. Built for researchers, policymakers, and conservationists."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-6",children:[r.jsxs(ne,{to:"/map",className:"inline-flex items-center justify-center bg-gray-900 text-white px-8 py-4 rounded-lg text-lg font-medium hover:bg-gray-800 transition-all shadow-sm",children:["Explore the Map",r.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),r.jsx(ne,{to:"/geographic-explorer",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-4 rounded-lg text-lg font-medium border-2 border-gray-200 hover:border-gray-300 transition-all",children:"Search Papers"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Free tier: 20 AI searches/month  Open source research platform"})]})})}),r.jsx("section",{className:"py-8 px-4 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all shadow-sm hover:shadow-md group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(bt,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Growing"]})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:((m=(u=(d=o==null?void 0:o.data)==null?void 0:d.stats)==null?void 0:u.totalPapers)==null?void 0:m.toLocaleString())||"..."}),r.jsx("p",{className:"text-sm text-gray-600",children:"Conservation papers"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Updated continuously"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all shadow-sm hover:shadow-md group",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(Cr,{className:"w-6 h-6 text-blue-600"})})}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:[((x=(g=(f=o==null?void 0:o.data)==null?void 0:f.stats)==null?void 0:g.totalCitations)==null?void 0:x.toLocaleString())||"...","+"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Citations"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Combined research impact"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-emerald-300 transition-all shadow-sm hover:shadow-md group",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(Wt,{className:"w-6 h-6 text-emerald-600"})})}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:[((w=(v=o==null?void 0:o.data)==null?void 0:v.stats)==null?void 0:w.uniqueLocations)||"...","+"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Locations"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Countries, regions & field sites"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-purple-300 transition-all shadow-sm hover:shadow-md group",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(cr,{className:"w-6 h-6 text-purple-600"})})}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:[((j=(b=o==null?void 0:o.data)==null?void 0:b.stats)==null?void 0:j.uniqueFrameworks)||"...","+"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Frameworks"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"SDGs, CBD, IUCN Red List"})]})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Automatically extracted metadata includes: ",r.jsx("span",{className:"font-medium",children:"species taxonomy"}),", ",r.jsx("span",{className:"font-medium",children:"ecosystem types"}),", ",r.jsx("span",{className:"font-medium",children:"research methods"})," (camera traps, eDNA, remote sensing), ",r.jsx("span",{className:"font-medium",children:"conservation actions"}),", ",r.jsx("span",{className:"font-medium",children:"threat types"}),", ",r.jsx("span",{className:"font-medium",children:"policy framework alignments"})," (SDGs, CBD, IUCN), ",r.jsx("span",{className:"font-medium",children:"geographic scope"}),", ",r.jsx("span",{className:"font-medium",children:"temporal range"}),", and ",r.jsx("span",{className:"font-medium",children:"study types"})]})})]})}),r.jsx("section",{className:"bg-gray-50",children:r.jsx(fz,{})}),r.jsx("section",{className:"py-20 px-4 sm:py-24 bg-white",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-3 font-bold",children:"Explore by species & ecosystems"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"From coral reefs to mountain ranges, discover research across the world's biodiversity"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(ne,{to:"/geographic-explorer?ecosystem=marine",className:"group relative overflow-hidden rounded-xl aspect-square border-2 border-gray-200 hover:border-blue-400 transition-all shadow-md hover:shadow-xl",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=600&q=80')"},children:r.jsx("div",{className:"absolute inset-0 bg-blue-600/30"})}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent flex flex-col justify-end p-6",children:[r.jsx("div",{className:"mb-2",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"})})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Marine & Coastal"}),r.jsx("p",{className:"text-sm text-blue-100",children:"Oceans, reefs, coastlines"})]})]}),r.jsxs(ne,{to:"/geographic-explorer?ecosystem=forest",className:"group relative overflow-hidden rounded-xl aspect-square border-2 border-gray-200 hover:border-green-400 transition-all shadow-md hover:shadow-xl",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=600&q=80')"},children:r.jsx("div",{className:"absolute inset-0 bg-green-700/30"})}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent flex flex-col justify-end p-6",children:[r.jsx("div",{className:"mb-2",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Forests & Woodlands"}),r.jsx("p",{className:"text-sm text-green-100",children:"Tropical, temperate, boreal"})]})]}),r.jsxs(ne,{to:"/geographic-explorer?ecosystem=grassland",className:"group relative overflow-hidden rounded-xl aspect-square border-2 border-gray-200 hover:border-yellow-400 transition-all shadow-md hover:shadow-xl",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516426122078-c23e76319801?w=600&q=80')"},children:r.jsx("div",{className:"absolute inset-0 bg-orange-600/30"})}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent flex flex-col justify-end p-6",children:[r.jsx("div",{className:"mb-2",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Grasslands & Savannas"}),r.jsx("p",{className:"text-sm text-yellow-100",children:"Prairies, steppes, savannas"})]})]}),r.jsxs(ne,{to:"/geographic-explorer?ecosystem=mountain",className:"group relative overflow-hidden rounded-xl aspect-square border-2 border-gray-200 hover:border-purple-400 transition-all shadow-md hover:shadow-xl",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600&q=80')"},children:r.jsx("div",{className:"absolute inset-0 bg-indigo-700/30"})}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent flex flex-col justify-end p-6",children:[r.jsx("div",{className:"mb-2",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Mountains & Alpine"}),r.jsx("p",{className:"text-sm text-purple-100",children:"High elevation ecosystems"})]})]})]}),r.jsx("div",{className:"text-center mt-12",children:r.jsxs(ne,{to:"/map",className:"inline-flex items-center text-gray-900 hover:text-gray-700 font-medium text-lg",children:["Explore all ecosystems on the map",r.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})}),r.jsx("section",{className:"py-20 px-4 sm:py-24 bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full mb-6",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[r.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),r.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Enhanced Discoverability"]}),r.jsxs("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-4 font-bold",children:["AI-extracted metadata improves",r.jsx("br",{}),"global research discovery"]}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"COMPASSID adds rich structured metadata to every paper, making conservation research more discoverable via Google Scholar and search engines worldwide."})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-10",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-200 shadow-sm",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Geographic search"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"GPS coordinates extracted from abstracts enable location-based discovery. Find research by drawing on a map or searching by country/region."})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-purple-200 shadow-sm",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Semantic metadata"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Species taxonomy, research methods, conservation actions, and policy frameworks exposed via Schema.org for better search engine understanding."})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-green-200 shadow-sm",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Multi-dimensional discovery"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Find papers by framework + location + species + methods simultaneously. Filter by SDG 15 + Kenya + elephants + camera traps."})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200 shadow-sm",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"Comprehensive metadata = Better discovery"}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8 mb-6",children:[r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsx("p",{className:"text-base text-gray-700 mb-2 font-medium",children:"Traditional databases:"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Search by title and keywords only"})]}),r.jsx("div",{className:"text-4xl text-gray-300 font-light",children:""}),r.jsxs("div",{className:"flex-1 text-center md:text-right",children:[r.jsx("p",{className:"text-base text-gray-700 mb-2 font-medium",children:"COMPASSID Enhanced:"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Search by GPS location + species + ecosystem + methods + policy frameworks"})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs(ne,{to:"/map",className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium text-base",children:["Explore the geographic map",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})}),r.jsx("section",{className:"py-20 px-4 sm:py-24 bg-gray-50",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-8 font-semibold",children:"COMPASS ID is for"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("researchers"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="researchers"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Researchers"}),r.jsx("button",{onClick:()=>t("policymakers"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="policymakers"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Policymakers"}),r.jsx("button",{onClick:()=>t("institutions"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="institutions"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Institutions"}),r.jsx("button",{onClick:()=>t("funders"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="funders"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Funders"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200",children:[e==="researchers"&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:["Access ",((k=(_=(S=o==null?void 0:o.data)==null?void 0:S.stats)==null?void 0:_.totalPapers)==null?void 0:k.toLocaleString())||"900","+ conservation papers with AI-extracted metadata including species taxonomy, GPS coordinates, research methods, conservation actions, and policy framework alignments. Find literature by where research happened, not just keywords."]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Geographic search capabilities"}),r.jsxs("p",{className:"text-base text-gray-600 leading-relaxed",children:[((E=(P=(A=o==null?void 0:o.data)==null?void 0:A.stats)==null?void 0:P.papersWithGPS)==null?void 0:E.toLocaleString())||"600","+ papers have GPS coordinates extracted from abstracts. Search by drawing on a map, filter by country/region, or browse global conservation hotspots. Find field research from specific study sites."]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Rich AI-extracted metadata"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Every paper analyzed for species studied, ecosystems, research methods (camera traps, eDNA, remote sensing), conservation threats, and framework alignment (CBD, SDGs, IUCN). Filter by multiple dimensions simultaneously."})]})]}),r.jsx("div",{className:"mt-8",children:r.jsxs(ne,{to:"/map",className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["Explore the research map",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),e==="policymakers"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Find research organized by policy framework, geographic location, methodology, and study characteristicsnot just keywords. Rich metadata enables precise evidence discovery."}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Multi-faceted search"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Filter by policy frameworks (SDGs, climate agreements), geographic regions, study types (field/lab/modeling), research methods, taxa studied, and sample characteristics. Map view shows field site locations."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Complete context for every study"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"See full abstracts, methods, sample sizes, species studied, geographic coordinates, framework alignments, and data repositoriesall the context needed to evaluate research applicability."})]})]}),r.jsx("div",{className:"mt-8",children:r.jsxs(ne,{to:"/search",className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["Explore research database",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),e==="institutions"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Universities and research institutions use COMPASS ID to demonstrate their contribution to global policy goals and sustainable development."}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Track institutional impact"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"See which SDGs and policy frameworks your institution contributes to most. Demonstrate societal impact in accreditation and funding applications."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Support your researchers"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Provide infrastructure connecting faculty research to policy frameworks. Integrate COMPASS with institutional repositories and research management systems."})]})]}),r.jsx("div",{className:"mt-8",children:r.jsxs(ne,{to:"/about",className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["Learn about institutional integration",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),e==="funders"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Funding agencies use COMPASS ID to evaluate policy relevance, track research outcomes, and identify evidence gaps requiring investment."}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Evaluate policy alignment"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"See which policy frameworks grant recipients are addressing. Ensure portfolio balances across SDGs and climate commitments."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Measure research impact"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Track when funded research is cited in policy briefs, national reports, and legislation. Demonstrate return on investment to stakeholders."})]})]}),r.jsx("div",{className:"mt-8",children:r.jsxs(ne,{to:"/about",className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["Learn about funder integration",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})]})})}),r.jsx("section",{className:"py-20 px-4 bg-white",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-4xl sm:text-5xl text-gray-900 mb-6 leading-tight font-bold",children:"Discover conservation research globally"}),r.jsxs("p",{className:"text-xl text-gray-600 mb-10 leading-relaxed",children:["Explore ",((U=(M=(T=o==null?void 0:o.data)==null?void 0:T.stats)==null?void 0:M.totalPapers)==null?void 0:U.toLocaleString())||"900","+ conservation papers with AI-extracted metadata. Search by GPS location, species, ecosystems, research methods, and policy frameworks. Find evidence by where research happened, not just keywords."]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(ne,{to:"/map",className:"inline-flex items-center justify-center bg-gray-900 text-white px-10 py-4 rounded-lg text-lg font-medium hover:bg-gray-800 transition-all shadow-sm",children:["Explore the map",r.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),r.jsx(ne,{to:"/geographic-explorer",className:"inline-flex items-center justify-center bg-white text-gray-900 px-10 py-4 rounded-lg text-lg font-medium border-2 border-gray-200 hover:border-gray-300 transition-all",children:"Search database"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-8",children:"Open source platform  Free tier: 20 AI searches, 5 analyses, 3 grant assists, 10 syntheses/month  Buy credits as needed"})]})})]})}function gz(){return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-20 px-4 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500 font-medium",children:"About COMPASS ID"})}),r.jsx("h1",{className:"text-5xl md:text-6xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Open source research platform"}),r.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"COMPASSID is an open-source platform for conservation researchers. Build your profile, tag your work to policy frameworks, and access AI tools with fair use limits. Start free with 20 AI searches, 5 analyses, 3 grant assists, and 10 syntheses per month."})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl text-gray-900 mb-12 font-semibold",children:"The metadata gap"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl text-gray-900 mb-4 font-semibold",children:"Millions wasted"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Organizations spend vast resources manually reviewing research to identify policy-relevant science. Critical insights remain invisible to decision makers."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl text-gray-900 mb-4 font-semibold",children:"Time running out"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Less than 7 years to achieve the 2030 Sustainable Development Goals. We can't afford inefficient connections between science and policy."})]})]})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl text-gray-900 mb-4 font-semibold",children:"Build your profile with six metadata fields"}),r.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-16",children:"Like ORCID for policy-aligned research. Tag your work with frameworks, locations, species, and methods. Create a comprehensive research profile that connects directly to SDGs, Paris Agreement, CBD targets, and more."}),r.jsxs("div",{className:"space-y-10",children:[r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 text-right",children:r.jsx("span",{className:"text-2xl text-gray-300 font-light",children:"01"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base text-gray-900 mb-2 font-semibold",children:"Framework Alignment"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Connect to SDGs, CBD targets, Paris Agreement, and regional policies."})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 text-right",children:r.jsx("span",{className:"text-2xl text-gray-300 font-light",children:"02"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base text-gray-900 mb-2 font-semibold",children:"Geographic Scope"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Map research coverage from global to local scales."})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 text-right",children:r.jsx("span",{className:"text-2xl text-gray-300 font-light",children:"03"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base text-gray-900 mb-2 font-semibold",children:"Taxonomic Coverage"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Link studies to species and ecosystems."})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 text-right",children:r.jsx("span",{className:"text-2xl text-gray-300 font-light",children:"04"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base text-gray-900 mb-2 font-semibold",children:"Temporal Range"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Track data collection periods and trends."})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 text-right",children:r.jsx("span",{className:"text-2xl text-gray-300 font-light",children:"05"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base text-gray-900 mb-2 font-semibold",children:"Research Methods"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Identify field studies, modeling, and analysis approaches."})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 text-right",children:r.jsx("span",{className:"text-2xl text-blue-500 font-light",children:"06"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h3",{className:"text-base text-gray-900 mb-2 font-semibold flex items-center gap-2",children:["Data Availability",r.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full",children:"NEW"})]}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Link to open data repositories and reproducibility resources."})]})]})]})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200 bg-gradient-to-br from-blue-50 to-white",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full mb-6",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[r.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),r.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Beyond COMPASSID"]}),r.jsx("h2",{className:"text-3xl text-gray-900 mb-6 font-semibold",children:"Your metadata works everywhere"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"When you add metadata to COMPASSID, it's not just for our platform. Your enhanced metadata gets indexed by Google Scholar, Semantic Scholar, and other academic search engines through structured data standards."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-blue-200",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Structured metadata standards"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"We use Schema.org, Dublin Core, and Highwire Press formatsthe same standards Google Scholar and major databases rely on"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-purple-200",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Search engine optimization"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Your research appears in Google Scholar with full policy framework, geographic, and taxonomic contextnot just title and abstract"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3",children:"Where your metadata appears:"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""}),r.jsx("span",{children:"Google Scholar search results with enhanced context"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""}),r.jsx("span",{children:"Semantic Scholar AI-powered discovery"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""}),r.jsx("span",{children:"Citation managers (Zotero, Mendeley, EndNote)"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""}),r.jsx("span",{children:"Research repositories and institutional systems"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""}),r.jsx("span",{children:"Policy portals searching by framework alignment"})]})]})]})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl text-gray-900 mb-6 font-semibold",children:"Show policy impact with your profile"}),r.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Researchers build policy-aligned profiles once and demonstrate framework connections forever. Policymakers find relevant evidence instantly. Your work gets discovered when it matters most."})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl text-gray-900 mb-10 font-semibold",children:"Our values"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-10",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base text-gray-900 mb-3 font-semibold",children:"Open Source"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Free tier with fair use limits. Buy credit packs as needed. No subscriptions."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base text-gray-900 mb-3 font-semibold",children:"Nonprofit"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Community-driven platform serving the public good."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base text-gray-900 mb-3 font-semibold",children:"Trusted"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Researchers maintain control of their metadata."})]})]})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl text-gray-900 mb-6 font-semibold",children:"Get started for free"}),r.jsx("p",{className:"text-base text-gray-600 mb-8 leading-relaxed",children:"Free tier: 20 AI searches, 5 analyses, 3 grant assists, 10 syntheses/month  Buy credit packs for more  Existing users grandfathered with unlimited access"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx(ne,{to:"/register",className:"inline-flex items-center justify-center bg-gray-900 text-white px-8 py-3 rounded-full text-base font-medium hover:bg-gray-800 transition-all",children:"Get Started"}),r.jsx(ne,{to:"/search",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-3 rounded-full text-base font-medium border border-gray-300 hover:border-gray-400 transition-all",children:"Explore Research"})]})]})})]})}function xz(){const e=[{name:"Dr. Jane Smith",role:"Chair, Board of Directors",institution:"Conservation International",bio:"Expert in biodiversity policy with 15+ years experience in international conservation.",expertise:["Policy Design","Biodiversity","International Cooperation"]},{name:"Prof. Michael Chen",role:"Board Member",institution:"University of Oxford",bio:"Research ecologist specializing in climate change adaptation and sustainable development.",expertise:["Climate Science","Sustainable Development","Research Translation"]},{name:"Dr. Sarah Johnson",role:"Board Member",institution:"The Nature Conservancy",bio:"Program director with expertise in science-policy integration and stakeholder engagement.",expertise:["Science Policy","Program Management","Stakeholder Engagement"]}],t=[{name:"Alex Rodriguez",role:"Executive Director",bio:"Leading COMPASS ID's mission to bridge research and policy for global sustainability.",expertise:["Platform Strategy","Research Infrastructure","Open Science"]},{name:"Emma Thompson",role:"Technical Lead",bio:"Building the technical infrastructure to make research discoverable and policy-aligned.",expertise:["Data Architecture","Semantic Web","API Design"]}];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-20 px-4 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500 font-medium",children:"Our Team"})}),r.jsx("h1",{className:"text-5xl md:text-6xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Building the future of research-policy alignment"}),r.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"COMPASS ID is guided by leaders in conservation science, policy design, and open infrastructure. Together, we're making research discoverable by its real-world impact."})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl text-gray-900 mb-12 font-semibold",children:"Board of Directors"}),r.jsx("div",{className:"space-y-12",children:e.map((n,s)=>r.jsxs("div",{className:"border-l-2 border-gray-300 pl-8",children:[r.jsx("h3",{className:"text-xl text-gray-900 mb-1 font-semibold",children:n.name}),r.jsx("div",{className:"text-sm text-gray-500 mb-2",children:n.role}),r.jsx("div",{className:"text-sm text-gray-600 mb-3",children:n.institution}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:n.bio}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.expertise.map((a,i)=>r.jsx("span",{className:"px-3 py-1 bg-white text-gray-700 text-xs rounded-full border border-gray-300",children:a},i))})]},s))})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl text-gray-900 mb-12 font-semibold",children:"Core Team"}),r.jsx("div",{className:"space-y-12",children:t.map((n,s)=>r.jsxs("div",{className:"border-l-2 border-gray-300 pl-8",children:[r.jsx("h3",{className:"text-xl text-gray-900 mb-1 font-semibold",children:n.name}),r.jsx("div",{className:"text-sm text-gray-500 mb-3",children:n.role}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:n.bio}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.expertise.map((a,i)=>r.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:a},i))})]},s))})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl text-gray-900 mb-6 font-semibold",children:"Join our mission"}),r.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-10",children:"We're looking for advisors, partners, and contributors passionate about connecting research with policy impact."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("a",{href:"mailto:contact@compassid.org",className:"px-8 py-4 bg-gray-900 text-white text-base font-medium hover:bg-gray-800 transition-colors",children:"Get in Touch"}),r.jsx(ne,{to:"/about",className:"px-8 py-4 bg-white text-gray-900 text-base font-medium border border-gray-300 hover:border-gray-400 transition-colors",children:"Learn More About COMPASS ID"})]})]})})]})}function yz(){const e=[{icon:Jp,title:"Demonstrate Policy Impact",description:"Show how your research contributes to UN SDGs, Paris Agreement, CBD, and other global frameworks that funders and institutions prioritize."},{icon:cr,title:"Increase Research Visibility",description:"Get discovered by policymakers, funders, and collaborators searching for evidence aligned with specific policy goals."},{icon:bt,title:"Strengthen Grant Applications",description:"Demonstrate clear policy alignment in grant proposals with AI tools that map your work to frameworks funders care about."},{icon:Qo,title:"Build Your Professional Profile",description:"Showcase your policy contributions alongside traditional metrics. Stand out to hiring committees and promotion panels."},{icon:AB,title:"Connect with Decision Makers",description:"Be part of a network where researchers, policymakers, and NGOs actively seek evidence for conservation policy."},{icon:en,title:"Track Your Impact Over Time",description:"Monitor how your research portfolio aligns with evolving policy priorities and emerging global frameworks."}],t=[{category:"Research Discovery",features:["Save and organize research papers","Create custom collections by topic","Get personalized research recommendations","Export citations and metadata","Advanced search filters and alerts"]},{category:"Professional Profile",features:["Showcase your research and expertise","Connect with collaborators","Track your publication impact","Share your policy contributions","Build your professional network"]},{category:"Opportunities",features:["Job alerts matching your expertise","Grant opportunity notifications","Event and webinar invitations","Featured opportunities from partners","Training and workshop announcements"]},{category:"Premium Features",features:["AI Research Assistant (Researcher Pro)","Advanced analytics dashboard","AI Grant Writing tool","Priority support","Early access to new features"]}];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-medium mb-6",children:[r.jsx(Jp,{className:"w-4 h-4"}),"Establish Research Credibility"]}),r.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:["Your Research.",r.jsx("br",{}),"Connected to Policy."]}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto mb-8",children:"Demonstrate how your conservation research contributes to global frameworks like the UN SDGs, Paris Agreement, and CBD. Build credibility with funders, institutions, and policymakers."}),r.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[r.jsx(ne,{to:"/register",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all",children:"Create Free Account"}),r.jsx(ne,{to:"/how-it-works",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-4 rounded-full text-lg font-medium border-2 border-gray-300 hover:border-gray-400 transition-all",children:"How It Works"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Open source platform  Free tier with fair use limits  Buy credits as needed  No subscriptions"})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"What is a COMPASS ID?"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"COMPASSID is an open-source platform connecting conservation research to global policy frameworks. Free tier includes 20 AI searches, 5 analyses, 3 grant assists, and 10 syntheses per month. Buy credit packs as neededno subscriptions required."})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,s)=>r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-8 border border-blue-200 hover:shadow-xl transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-[#009edb] text-white rounded-xl flex items-center justify-center mb-4",children:r.jsx(n.icon,{className:"w-6 h-6"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:n.description})]},s))})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"What's Included with Your Account"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Free accounts get access to core features. Upgrade to premium for AI tools and advanced analytics."})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map((n,s)=>r.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-200",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ae,{className:"w-5 h-5 text-[#009edb]"})}),n.category]}),r.jsx("ul",{className:"space-y-3",children:n.features.map((a,i)=>r.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:a})]},i))})]},s))})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Global Frameworks That Drive Funding & Policy"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"COMPASS ID connects your research to the policy frameworks that funders, governments, and institutions prioritize when making decisions."})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:[{framework:"UN Sustainable Development Goals (SDGs)",why:"The global blueprint for sustainable development. Most major funders require SDG alignment in grant applications.",examples:"SDG 13 (Climate Action), SDG 14 (Life Below Water), SDG 15 (Life on Land)"},{framework:"Paris Agreement on Climate Change",why:"Governments and institutions fund research supporting climate commitments. Demonstrate your contribution to emissions reduction and adaptation.",examples:"Mitigation research, climate adaptation strategies, carbon sequestration studies"},{framework:"Convention on Biological Diversity (CBD)",why:"The international framework for biodiversity conservation. Essential for securing biodiversity-focused funding.",examples:"Aichi Targets, Kunming-Montreal Framework, Protected Areas research"},{framework:"CITES & Regional Conservation Treaties",why:"Species protection frameworks that drive wildlife conservation funding and policy implementation.",examples:"Endangered species research, wildlife trade, habitat protection"}].map((n,s)=>r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-8 border border-blue-200",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:n.framework}),r.jsx("p",{className:"text-base text-gray-700 mb-4 font-medium",children:n.why}),r.jsxs("p",{className:"text-sm text-gray-600 italic",children:["Examples: ",n.examples]})]},s))}),r.jsxs("div",{className:"bg-gradient-to-r from-[#009edb] to-[#0077b3] rounded-2xl p-8 text-white text-center",children:[r.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Why Policy Alignment Matters"}),r.jsx("p",{className:"text-lg text-white/95 max-w-3xl mx-auto leading-relaxed",children:"When you demonstrate clear connections between your research and global policy frameworks, you increase your chances of securing funding, getting published in high-impact journals, advancing your career, and influencing conservation policy decisions."})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Free Forever. Premium for Power Users."}),r.jsx("p",{className:"text-lg text-gray-600",children:"Free tier with fair use limits (20/5/3/10 monthly). Buy credit packs when you need more. No subscriptions."})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 border-gray-200",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Free Tier"}),r.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-6",children:["$0",r.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]}),r.jsx("ul",{className:"space-y-3 mb-8",children:["20 AI searches/month","5 analyses/month","3 grant assists/month","10 syntheses/month","Search all research papers","Save and organize papers","Geographic explorer"].map((n,s)=>r.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:n})]},s))}),r.jsx(ne,{to:"/register",className:"block w-full py-3 px-4 bg-gray-900 text-white rounded-xl text-center font-semibold hover:bg-gray-800 transition-all",children:"Start Free"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-[#009edb] to-[#0077b3] rounded-2xl p-8 border-2 border-[#009edb] text-white shadow-xl",children:[r.jsx("div",{className:"text-2xl font-bold mb-4",children:"Credit Packs"}),r.jsxs("div",{className:"text-4xl font-bold mb-6",children:["$10-$75",r.jsx("span",{className:"text-lg font-normal text-white/80",children:"/pack"})]}),r.jsx("ul",{className:"space-y-3 mb-8",children:["$10: 50 searches, 20 analyses, 10 assists, 30 syntheses","$25: 150 searches, 60 analyses, 30 assists, 100 syntheses","$75: 500 searches, 200 analyses, 100 assists, 350 syntheses","Credits never expire","No subscriptions","Institutional partnerships available","Existing users grandfathered"].map((n,s)=>r.jsxs("li",{className:"flex items-start gap-2 text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:n})]},s))}),r.jsx(ne,{to:"/credits",className:"block w-full py-3 px-4 bg-white text-[#009edb] rounded-xl text-center font-semibold hover:bg-gray-50 transition-all",children:"Buy Credits"})]})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-4xl font-semibold text-gray-900 mb-4",children:"Establish Your Research Credibility Today"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Join conservation researchers worldwide who are demonstrating policy impact, securing funding, and influencing global conservation decisions."}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsxs(ne,{to:"/register",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all gap-2",children:["Create Your Free Account",r.jsx(rd,{className:"w-5 h-5"})]}),r.jsx(ne,{to:"/frameworks",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-4 rounded-full text-lg font-medium border-2 border-gray-300 hover:border-gray-400 transition-all",children:"Explore Policy Frameworks"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"No credit card required  Free tier with fair use limits  Buy credits as needed  No subscriptions"})]})})]})}function vz(){return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"How COMPASSID works"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed",children:"Open-source platform with free tier. Create your profile, access AI tools, buy credits as needed. No subscriptions required."})]})}),r.jsx("section",{className:"py-20 px-4 sm:py-24 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"space-y-16",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-[#009edb] rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-semibold text-lg",children:"1"})}),r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold",children:"Create your research profile"})]}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Get a free persistent identifier and build your policy-aligned profile. Tag your work with six metadata fields connecting your research to frameworks, geography, and open data."}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Framework alignment"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Select SDGs, CBD targets, Paris Agreement articles, or regional policies your research informs"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Geographic scope"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Specify countries, regions, or global coverage areas"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Taxonomic coverage"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Tag species, ecosystems, or biodiversity indicators"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Temporal range"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Enter data collection dates and study duration"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Research methods"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Classify as field study, modeling, meta-analysis, or mixed"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Data availability"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Link to open datasets and reproducibility materials"})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-6",children:" Create your profile in 10 minutes  Add papers in 5 minutes each"}),r.jsx("div",{className:"mt-8 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[r.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),r.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your metadata enhances Google Scholar indexing"}),r.jsx("p",{className:"text-base text-gray-600 mb-4 leading-relaxed",children:"The metadata you add doesn't just work on COMPASSID. We use structured data standards (Schema.org, Dublin Core, Highwire Press) that get indexed by Google Scholar, Semantic Scholar, and citation managers worldwide."}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("span",{className:"text-blue-600 font-bold",children:""}),r.jsx("span",{children:"Google Scholar with full context"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("span",{className:"text-blue-600 font-bold",children:""}),r.jsx("span",{children:"Semantic Scholar AI discovery"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("span",{className:"text-blue-600 font-bold",children:""}),r.jsx("span",{children:"Citation managers (Zotero, etc.)"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("span",{className:"text-blue-600 font-bold",children:""}),r.jsx("span",{children:"Policy portals & databases"})]})]})]})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-[#009edb] rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-semibold text-lg",children:"2"})}),r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold",children:"Community enhancement"})]}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"AI and expert reviewers suggest additional framework connections to maximize discoverability."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-[#009edb] rounded-full mt-2 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"AI-suggested connections"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Automated analysis identifies policy frameworks you may have missed based on abstract and keywords"})]})]}),r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-[#009edb] rounded-full mt-2 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Peer validation"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Domain experts review and validate metadata quality for their research areas"})]})]}),r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-[#009edb] rounded-full mt-2 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Continuous improvement"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Knowledge graph grows stronger as more researchers contribute and validate connections"})]})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-6",children:" Happens automatically after you add research to your profile"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-[#009edb] rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-semibold text-lg",children:"3"})}),r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold",children:"Policy discovery & impact tracking"})]}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Policymakers find your research when developing evidence-based policies. You track real-world impact."}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"How policymakers search"}),r.jsxs("ul",{className:"space-y-2 text-base text-gray-600",children:[r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-[#009edb]",children:""}),r.jsx("span",{children:"Filter by specific SDG targets or CBD indicators"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-[#009edb]",children:""}),r.jsx("span",{children:"Search by country or region for local implementation"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-[#009edb]",children:""}),r.jsx("span",{children:"Find research by methodology or data availability"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-[#009edb]",children:""}),r.jsx("span",{children:"Identify gaps where evidence is needed"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Track your impact"}),r.jsxs("ul",{className:"space-y-2 text-base text-gray-600",children:[r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-[#009edb]",children:""}),r.jsx("span",{children:"See when your research is cited in policy briefs"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-[#009edb]",children:""}),r.jsx("span",{children:"Monitor connections to national reports"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-[#009edb]",children:""}),r.jsx("span",{children:"Demonstrate impact for grant applications"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-[#009edb]",children:""}),r.jsx("span",{children:"Connect with policymakers directly"})]})]})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-6",children:" Impact analytics available in your dashboard"})]})]})})}),r.jsx("section",{className:"py-20 px-4 sm:py-24 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-12 font-semibold text-center",children:"Who uses COMPASS ID?"}),r.jsxs("div",{className:"space-y-12",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl text-gray-900 mb-6 font-semibold",children:"For researchers"}),r.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect to policy"}),r.jsx("p",{className:"text-base text-gray-600",children:"Link research to SDGs, climate agreements, and national frameworks"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Find collaborators"}),r.jsx("p",{className:"text-base text-gray-600",children:"Discover researchers working on similar policy problems"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Track impact"}),r.jsx("p",{className:"text-base text-gray-600",children:"See how your work influences policy discussions"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl text-gray-900 mb-6 font-semibold",children:"For policymakers"}),r.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Find relevant science"}),r.jsx("p",{className:"text-base text-gray-600",children:"Search by framework and region to locate applicable evidence"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Identify gaps"}),r.jsx("p",{className:"text-base text-gray-600",children:"See where research is needed for policy areas"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect with experts"}),r.jsx("p",{className:"text-base text-gray-600",children:"Reach researchers directly for consultation"})]})]})]})]})]})}),r.jsx("section",{className:"py-20 px-4 sm:py-24 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-12 font-semibold text-center",children:"Platform features"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Six metadata fields"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Standardized framework connecting research to policy, geography, and data"})]})]}),r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Geographic visualization"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Interactive maps showing research distribution and coverage gaps"})]})]}),r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced search"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Filter by framework, methodology, geographic scope, and research type"})]})]}),r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Community curation"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Peer review and expert validation ensure quality metadata"})]})]}),r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("svg",{className:"w-5 h-5 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Impact analytics"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Track policy citations and cross-institutional collaboration"})]})]}),r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"API integration"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Connect with repositories, grant databases, and policy systems"})]})]})]})]})}),r.jsx("section",{className:"py-20 px-4 sm:py-24 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-6 font-semibold",children:"Start for free today"}),r.jsx("p",{className:"text-lg text-gray-600 mb-10 leading-relaxed",children:"Free tier: 20 AI searches, 5 analyses, 3 grant assists, 10 syntheses/month  Buy credit packs ($10/$25/$75) for more  No subscriptions"}),r.jsxs("div",{className:"inline-flex flex-col sm:flex-row gap-4",children:[r.jsx(ne,{to:"/register",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-10 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all",children:"Register now"}),r.jsx(ne,{to:"/about",className:"inline-flex items-center justify-center bg-white text-gray-900 px-10 py-4 rounded-full text-lg font-medium border-2 border-gray-300 hover:border-[#009edb] transition-all",children:"Learn more"})]})]})})]})}const kc=Sr("/api");async function bz(e={}){const{query:t="",frameworks:n=[],ecosystems:s=[],species:a=[],methods:i=[],scopes:o=[],taxonomicGroups:c=[],dataAvailability:d=[],geographic:u=null,yearMin:m=null,yearMax:f=null,verificationStatus:g=null,page:x=1,limit:v=20}=e,w=new URLSearchParams({q:t,page:x,limit:v});n.length>0&&w.append("frameworks",n.join(",")),s.length>0&&w.append("ecosystems",s.join(",")),a.length>0&&w.append("species",a.join(",")),i.length>0&&w.append("methods",i.join(",")),o.length>0&&w.append("scopes",o.join(",")),c.length>0&&w.append("taxonomic_groups",c.join(",")),d.length>0&&w.append("data_availability",d.join(",")),m&&w.append("year_min",m),f&&w.append("year_max",f),u&&(w.append("geo_north",u.north),w.append("geo_south",u.south),w.append("geo_east",u.east),w.append("geo_west",u.west)),g&&w.append("verification",g);try{const b=await fetch(`${kc}/papers/search?${w.toString()}`,{headers:{Authorization:`Bearer ${dh()}`}});if(!b.ok){if(b.status===404||b.status===500)return{papers:[],total:0,message:'No papers found in the COMPASSID database. Try using the "Discover (CrossRef + AI)" search to find papers from external sources.'};throw new Error(`Search error: ${b.status}`)}return await b.json()}catch(b){if(b.message.includes("Failed to fetch")||b.message.includes("NetworkError"))return{papers:[],total:0,message:"Unable to connect to the database. Please check your connection."};throw b}}async function FS(e={}){const{query:t="",author:n="",frameworks:s=[],ecosystem:a="",methods:i=[],yearMin:o=null,yearMax:c=null}=e,d=new URLSearchParams;t&&d.append("keywords",t),n&&d.append("author",n),s.length>0&&d.append("frameworks",s.join(",")),a&&d.append("ecosystem",a),i.length>0&&d.append("methods",i.join(",")),o&&d.append("year_from",o),c&&d.append("year_to",c);try{const u=await fetch(`${kc}/research/map?${d.toString()}`);if(!u.ok){if(u.status===404||u.status===500)return{papers:[],total:0};throw new Error(`Map search error: ${u.status}`)}return await u.json()}catch(u){return console.error("Map search error:",u),{papers:[],total:0}}}async function wz(e={}){var c,d;const{query:t="",yearMin:n=null,yearMax:s=null,page:a=1,limit:i=20}=e,o=new URLSearchParams({q:t,page:a,limit:i});n&&o.append("fromDate",`${n}-01-01`),s&&o.append("toDate",`${s}-12-31`);try{const u=await fetch(`${kc}/papers/crossref/search?${o.toString()}`);if(!u.ok)throw new Error(`CrossRef search error: ${u.status}`);const m=await u.json();return{items:((c=m.data)==null?void 0:c.items)||[],totalResults:((d=m.data)==null?void 0:d.total)||0}}catch(u){throw u}}async function jz(e,t=5){if(!e||!e.title)return[];try{const n=e.title.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(i=>i.length>4).slice(0,5).join(" ");return(await wz({query:n,limit:t+5})).items.filter(i=>!(e.doi&&i.doi===e.doi||i.title===e.title)).slice(0,t)}catch(n){return console.error("Error fetching similar papers:",n),[]}}async function eA(e){try{const t=await fetch(`${kc}/papers/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dh()}`},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Save paper error: ${t.status}`);return await t.json()}catch(t){throw t}}async function Nz(){try{const e=await fetch(`${kc}/papers/saved`,{headers:{Authorization:`Bearer ${dh()}`}});if(!e.ok)throw new Error(`Get saved papers error: ${e.status}`);return await e.json()}catch(e){throw e}}async function tA(e){try{const t=await fetch(`${kc}/papers/folders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dh()}`},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.message||`Create folder error: ${t.status}`)}return await t.json()}catch(t){throw t}}async function Ej(){try{const e=await fetch(`${kc}/papers/folders`,{headers:{Authorization:`Bearer ${dh()}`}});if(!e.ok)throw new Error(`Get folders error: ${e.status}`);return await e.json()}catch(e){throw e}}function dh(){return localStorage.getItem("authToken")||""}const _z=[{id:"us",name:"United States",code:"US",region:"North America"},{id:"uk",name:"United Kingdom",code:"GB",region:"Europe"},{id:"kenya",name:"Kenya",code:"KE",region:"Africa"},{id:"brazil",name:"Brazil",code:"BR",region:"South America"},{id:"australia",name:"Australia",code:"AU",region:"Oceania"},{id:"india",name:"India",code:"IN",region:"Asia"},{id:"canada",name:"Canada",code:"CA",region:"North America"},{id:"germany",name:"Germany",code:"DE",region:"Europe"},{id:"south-africa",name:"South Africa",code:"ZA",region:"Africa"},{id:"costa-rica",name:"Costa Rica",code:"CR",region:"Central America"}],BS=[{id:"california",name:"California",type:"state",country:"us"},{id:"queensland",name:"Queensland",type:"state",country:"australia"},{id:"scotland",name:"Scotland",type:"country",country:"uk"},{id:"ontario",name:"Ontario",type:"province",country:"canada"},{id:"baveria",name:"Bavaria",type:"state",country:"germany"}],ar=[{id:1,name:"Paris Agreement",shortName:"Paris Agreement",slug:"paris-agreement",description:"International treaty on climate change adopted in 2015, aiming to limit global warming to well below 2C above pre-industrial levels.",level:"international",category:"climate",adoptionYear:2015,effectiveDate:"2016-11-04",status:"active",leadOrganizations:["United Nations Framework Convention on Climate Change"],participantCount:196,officialUrl:"https://unfccc.int/process-and-meetings/the-paris-agreement",keyObjectives:["Limit global warming to 1.5C","Achieve net-zero emissions","Build climate resilience"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-20"},{id:2,name:"Convention on Biological Diversity",shortName:"CBD",slug:"cbd",description:"International treaty for the conservation of biodiversity, sustainable use of its components, and fair sharing of benefits from genetic resources.",level:"international",category:"biodiversity",adoptionYear:1992,effectiveDate:"1993-12-29",status:"active",leadOrganizations:["United Nations Environment Programme"],participantCount:196,officialUrl:"https://www.cbd.int/",keyObjectives:["Conserve biodiversity","Sustainable use of biological resources","Fair benefit sharing"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-18"},{id:3,name:"UN Sustainable Development Goals",shortName:"SDGs",slug:"sdgs",description:"17 interlinked global goals designed to be a blueprint for achieving a better and more sustainable future for all.",level:"international",category:"development",adoptionYear:2015,effectiveDate:"2016-01-01",status:"active",leadOrganizations:["United Nations"],participantCount:193,officialUrl:"https://sdgs.un.org/",keyObjectives:["End poverty","Protect planet","Ensure prosperity for all"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-15"},{id:4,name:"Kunming-Montreal Global Biodiversity Framework",shortName:"GBF",slug:"gbf",description:"Global framework adopted at COP15 with goals and targets for biodiversity conservation until 2030.",level:"international",category:"biodiversity",adoptionYear:2022,effectiveDate:"2022-12-19",status:"active",leadOrganizations:["Convention on Biological Diversity"],participantCount:196,officialUrl:"https://www.cbd.int/gbf/",keyObjectives:["Halt biodiversity loss","Restore ecosystems","Protect indigenous rights"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-10"},{id:5,name:"UN Framework Convention on Climate Change",shortName:"UNFCCC",slug:"unfccc",description:"International environmental treaty addressing climate change, providing the foundation for global climate action.",level:"international",category:"climate",adoptionYear:1992,effectiveDate:"1994-03-21",status:"active",leadOrganizations:["United Nations"],participantCount:197,officialUrl:"https://unfccc.int/",keyObjectives:["Stabilize greenhouse gas concentrations","Prevent dangerous climate interference"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-15"},{id:6,name:"Ramsar Convention on Wetlands",shortName:"Ramsar",slug:"ramsar",description:"International treaty for the conservation and sustainable use of wetlands.",level:"international",category:"biodiversity",adoptionYear:1971,effectiveDate:"1975-12-21",status:"active",leadOrganizations:["Ramsar Convention Secretariat"],participantCount:172,officialUrl:"https://www.ramsar.org/",keyObjectives:["Wetland conservation","Wise use of wetlands","International cooperation"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-01-25"},{id:7,name:"CITES - Convention on International Trade in Endangered Species",shortName:"CITES",slug:"cites",description:"International agreement ensuring that international trade in wild animals and plants does not threaten their survival.",level:"international",category:"biodiversity",adoptionYear:1973,effectiveDate:"1975-07-01",status:"active",leadOrganizations:["CITES Secretariat"],participantCount:184,officialUrl:"https://cites.org/",keyObjectives:["Regulate wildlife trade","Prevent species extinction","Ensure sustainable use"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-28"},{id:8,name:"Montreal Protocol on Substances that Deplete the Ozone Layer",shortName:"Montreal Protocol",slug:"montreal-protocol",description:"International treaty designed to protect the ozone layer by phasing out the production of ozone-depleting substances.",level:"international",category:"climate",adoptionYear:1987,effectiveDate:"1989-01-01",status:"active",leadOrganizations:["United Nations Environment Programme"],participantCount:198,officialUrl:"https://www.unep.org/ozonaction/who-we-are/about-montreal-protocol",keyObjectives:["Phase out ozone-depleting substances","Protect stratospheric ozone","Mitigate climate change"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-12"},{id:9,name:"IUCN Red List of Threatened Species",shortName:"IUCN Red List",slug:"iucn-red-list",description:"Comprehensive inventory of global conservation status of biological species, providing critical information about threats, ecological requirements, and conservation actions.",level:"international",category:"biodiversity",adoptionYear:1964,effectiveDate:"1964-01-01",status:"active",leadOrganizations:["International Union for Conservation of Nature"],participantCount:195,officialUrl:"https://www.iucnredlist.org/",keyObjectives:["Assess extinction risk","Inform conservation priorities","Monitor biodiversity trends"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-20"},{id:10,name:"UNESCO World Heritage Convention",shortName:"World Heritage",slug:"world-heritage",description:"International treaty for identifying and protecting natural and cultural heritage sites of outstanding universal value.",level:"international",category:"biodiversity",adoptionYear:1972,effectiveDate:"1975-12-17",status:"active",leadOrganizations:["UNESCO"],participantCount:195,officialUrl:"https://whc.unesco.org/",keyObjectives:["Identify heritage sites","Protect outstanding universal value","International cooperation"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-18"},{id:11,name:"UNESCO Man and the Biosphere Programme",shortName:"UNESCO MAB",slug:"unesco-mab",description:"Intergovernmental scientific program establishing biosphere reserves to promote balanced relationships between people and nature.",level:"international",category:"biodiversity",adoptionYear:1971,effectiveDate:"1971-11-01",status:"active",leadOrganizations:["UNESCO"],participantCount:124,officialUrl:"https://www.unesco.org/en/mab",keyObjectives:["Establish biosphere reserves","Sustainable development","Biodiversity conservation"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-15"},{id:12,name:"Convention on Migratory Species",shortName:"CMS",slug:"cms",description:"International treaty for the conservation of migratory species throughout their range.",level:"international",category:"biodiversity",adoptionYear:1979,effectiveDate:"1983-11-01",status:"active",leadOrganizations:["UNEP/CMS Secretariat"],participantCount:133,officialUrl:"https://www.cms.int/",keyObjectives:["Protect migratory species","Conserve migration routes","International cooperation"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-10"},{id:13,name:"Nagoya Protocol on Access and Benefit-Sharing",shortName:"Nagoya Protocol",slug:"nagoya-protocol",description:"International agreement on fair and equitable sharing of benefits from genetic resources.",level:"international",category:"biodiversity",adoptionYear:2010,effectiveDate:"2014-10-12",status:"active",leadOrganizations:["Convention on Biological Diversity Secretariat"],participantCount:138,officialUrl:"https://www.cbd.int/abs/",keyObjectives:["Fair benefit-sharing","Access to genetic resources","Traditional knowledge protection"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-08"},{id:14,name:"International Treaty on Plant Genetic Resources for Food and Agriculture",shortName:"Plant Treaty",slug:"plant-treaty",description:"International agreement for conservation and sustainable use of plant genetic resources for food and agriculture.",level:"international",category:"biodiversity",adoptionYear:2001,effectiveDate:"2004-06-29",status:"active",leadOrganizations:["Food and Agriculture Organization"],participantCount:150,officialUrl:"https://www.fao.org/plant-treaty/",keyObjectives:["Conserve plant diversity","Sustainable use","Benefit sharing"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-25"},{id:15,name:"UN Ocean Decade",shortName:"Ocean Decade",slug:"un-ocean-decade",description:"UN initiative to support efforts to reverse the cycle of decline in ocean health and create improved conditions for sustainable development.",level:"international",category:"marine",adoptionYear:2017,effectiveDate:"2021-01-01",status:"active",leadOrganizations:["UNESCO-IOC"],participantCount:193,officialUrl:"https://oceandecade.org/",keyObjectives:["Clean ocean","Healthy and resilient ocean","Predicted ocean","Safe ocean"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-18"},{id:16,name:"High Seas Treaty (BBNJ Agreement)",shortName:"High Seas Treaty",slug:"high-seas-treaty",description:"International agreement on conservation and sustainable use of marine biological diversity in areas beyond national jurisdiction.",level:"international",category:"marine",adoptionYear:2023,effectiveDate:"2023-06-19",status:"active",leadOrganizations:["United Nations"],participantCount:193,officialUrl:"https://www.un.org/bbnj/",keyObjectives:["Protect biodiversity beyond national jurisdiction","Marine protected areas","Benefit-sharing"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-15"},{id:17,name:"UN Convention on the Law of the Sea",shortName:"UNCLOS",slug:"unclos",description:"International agreement defining the rights and responsibilities of nations in their use of the world's oceans.",level:"international",category:"marine",adoptionYear:1982,effectiveDate:"1994-11-16",status:"active",leadOrganizations:["United Nations"],participantCount:168,officialUrl:"https://www.un.org/depts/los/",keyObjectives:["Maritime zones","Marine environmental protection","Marine scientific research"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-28"},{id:18,name:"UN Declaration on the Rights of Indigenous Peoples",shortName:"UNDRIP",slug:"undrip",description:"International instrument on the rights of indigenous peoples, including rights to traditional lands and biodiversity.",level:"international",category:"indigenous",adoptionYear:2007,effectiveDate:"2007-09-13",status:"active",leadOrganizations:["United Nations"],participantCount:144,officialUrl:"https://www.un.org/development/desa/indigenouspeoples/",keyObjectives:["Indigenous self-determination","Traditional knowledge protection","Cultural rights"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-05"},{id:19,name:"Sendai Framework for Disaster Risk Reduction",shortName:"Sendai Framework",slug:"sendai-framework",description:"International agreement to reduce disaster risk and losses in lives, livelihoods and health.",level:"international",category:"resilience",adoptionYear:2015,effectiveDate:"2015-03-18",status:"active",leadOrganizations:["UN Office for Disaster Risk Reduction"],participantCount:187,officialUrl:"https://www.undrr.org/implementing-sendai-framework",keyObjectives:["Reduce disaster mortality","Reduce economic losses","Strengthen resilience"],geographicScope:{isGlobal:!0,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-10"},{id:20,name:"EU Birds Directive",shortName:"Birds Directive",slug:"eu-birds-directive",description:"European Union directive on the conservation of wild birds and their habitats.",level:"regional",category:"biodiversity",adoptionYear:1979,effectiveDate:"1981-04-06",status:"active",leadOrganizations:["European Commission"],participantCount:27,officialUrl:"https://environment.ec.europa.eu/topics/nature-and-biodiversity/birds-directive_en",keyObjectives:["Protect all wild bird species","Establish Special Protection Areas","Regulate hunting"],geographicScope:{isGlobal:!1,countries:["uk","germany"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-20"},{id:21,name:"EU Habitats Directive",shortName:"Habitats Directive",slug:"eu-habitats-directive",description:"European Union directive on the conservation of natural habitats and wild fauna and flora.",level:"regional",category:"biodiversity",adoptionYear:1992,effectiveDate:"1994-06-10",status:"active",leadOrganizations:["European Commission"],participantCount:27,officialUrl:"https://environment.ec.europa.eu/topics/nature-and-biodiversity/habitats-directive_en",keyObjectives:["Establish Natura 2000 network","Conserve habitats and species","Maintain biodiversity"],geographicScope:{isGlobal:!1,countries:["uk","germany"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-05"},{id:22,name:"African Convention on the Conservation of Nature and Natural Resources",shortName:"African Nature Convention",slug:"african-nature-convention",description:"Regional treaty for the conservation and management of Africa's natural resources.",level:"regional",category:"biodiversity",adoptionYear:2003,effectiveDate:"2016-07-23",status:"active",leadOrganizations:["African Union"],participantCount:34,officialUrl:"https://au.int/",keyObjectives:["Enhance environmental protection","Foster conservation","Promote sustainable development"],geographicScope:{isGlobal:!1,countries:["kenya","south-africa"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-01-18"},{id:23,name:"ASEAN Agreement on Transboundary Haze Pollution",shortName:"ASEAN Haze Agreement",slug:"asean-haze",description:"Regional agreement to address transboundary haze pollution in Southeast Asia.",level:"regional",category:"climate",adoptionYear:2002,effectiveDate:"2003-11-25",status:"active",leadOrganizations:["ASEAN Secretariat"],participantCount:10,officialUrl:"https://asean.org/",keyObjectives:["Prevent and monitor haze","Control sources of land/forest fires","Regional cooperation"],geographicScope:{isGlobal:!1,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-14"},{id:24,name:"European Green Deal",shortName:"EU Green Deal",slug:"eu-green-deal",description:"European Union plan to make Europe climate neutral by 2050 and transform the economy for a sustainable future.",level:"regional",category:"climate",adoptionYear:2019,effectiveDate:"2020-01-14",status:"active",leadOrganizations:["European Commission"],participantCount:27,officialUrl:"https://ec.europa.eu/info/strategy/priorities-2019-2024/european-green-deal_en",keyObjectives:["Climate neutrality by 2050","Clean energy transition","Circular economy"],geographicScope:{isGlobal:!1,countries:["uk","germany"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-18"},{id:25,name:"EU Biodiversity Strategy 2030",shortName:"EU Biodiversity 2030",slug:"eu-biodiversity-2030",description:"European Union comprehensive plan to put Europe's biodiversity on the path to recovery by 2030.",level:"regional",category:"biodiversity",adoptionYear:2020,effectiveDate:"2020-05-20",status:"active",leadOrganizations:["European Commission"],participantCount:27,officialUrl:"https://environment.ec.europa.eu/strategy/biodiversity-strategy-2030_en",keyObjectives:["Protect 30% of land and sea","Restore degraded ecosystems","Reduce pesticides by 50%"],geographicScope:{isGlobal:!1,countries:["uk","germany"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-15"},{id:26,name:"Escaz Agreement",shortName:"Escaz",slug:"escazu-agreement",description:"Latin American and Caribbean agreement on access to information, public participation and justice in environmental matters.",level:"regional",category:"indigenous",adoptionYear:2018,effectiveDate:"2021-04-22",status:"active",leadOrganizations:["UN Economic Commission for Latin America"],participantCount:15,officialUrl:"https://www.cepal.org/en/escazuagreement",keyObjectives:["Access to environmental information","Public participation","Protect environmental defenders"],geographicScope:{isGlobal:!1,countries:["brazil","costa-rica"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-10"},{id:27,name:"Amazon Cooperation Treaty",shortName:"ACTO",slug:"amazon-cooperation-treaty",description:"Regional agreement for cooperation in the sustainable use of Amazon Basin resources.",level:"regional",category:"biodiversity",adoptionYear:1978,effectiveDate:"1980-08-02",status:"active",leadOrganizations:["Amazon Cooperation Treaty Organization"],participantCount:8,officialUrl:"https://otca.org/",keyObjectives:["Sustainable development","Forest conservation","Regional cooperation"],geographicScope:{isGlobal:!1,countries:["brazil"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-28"},{id:28,name:"Coral Triangle Initiative",shortName:"CTI",slug:"coral-triangle-initiative",description:"Multilateral partnership to sustain marine and coastal resources in the Coral Triangle region.",level:"regional",category:"marine",adoptionYear:2009,effectiveDate:"2009-05-15",status:"active",leadOrganizations:["CTI-CFF Regional Secretariat"],participantCount:6,officialUrl:"https://coraltriangleinitiative.org/",keyObjectives:["Marine biodiversity conservation","Sustainable fisheries","Climate adaptation"],geographicScope:{isGlobal:!1,countries:[],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-15"},{id:29,name:"African Union Agenda 2063",shortName:"Agenda 2063",slug:"agenda-2063",description:"Africa's strategic framework for socio-economic transformation including environmental sustainability.",level:"regional",category:"development",adoptionYear:2013,effectiveDate:"2015-01-31",status:"active",leadOrganizations:["African Union"],participantCount:55,officialUrl:"https://au.int/agenda2063",keyObjectives:["Sustainable development","Environmental conservation","Climate resilience"],geographicScope:{isGlobal:!1,countries:["kenya","south-africa"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-01"},{id:40,name:"US Endangered Species Act",shortName:"ESA",slug:"us-esa",description:"Key US legislation for protecting endangered and threatened species and their habitats.",level:"national",category:"biodiversity",adoptionYear:1973,effectiveDate:"1973-12-28",status:"active",leadOrganizations:["US Fish and Wildlife Service","NOAA Fisheries"],participantCount:1,officialUrl:"https://www.fws.gov/law/endangered-species-act",keyObjectives:["Protect endangered species","Conserve critical habitat","Recovery planning"],geographicScope:{isGlobal:!1,countries:["us"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-10"},{id:41,name:"US Clean Water Act",shortName:"CWA",slug:"us-cwa",description:"Primary federal law governing water pollution in the United States.",level:"national",category:"marine",adoptionYear:1972,effectiveDate:"1972-10-18",status:"active",leadOrganizations:["US Environmental Protection Agency"],participantCount:1,officialUrl:"https://www.epa.gov/laws-regulations/summary-clean-water-act",keyObjectives:["Restore and maintain water quality","Regulate pollutant discharges","Protect wetlands"],geographicScope:{isGlobal:!1,countries:["us"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-25"},{id:42,name:"National Environmental Policy Act",shortName:"NEPA",slug:"us-nepa",description:"US law requiring federal agencies to assess environmental impacts of their actions.",level:"national",category:"development",adoptionYear:1970,effectiveDate:"1970-01-01",status:"active",leadOrganizations:["Council on Environmental Quality"],participantCount:1,officialUrl:"https://www.epa.gov/nepa",keyObjectives:["Environmental impact assessment","Public participation","Informed decision-making"],geographicScope:{isGlobal:!1,countries:["us"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-08"},{id:43,name:"UK Wildlife and Countryside Act",shortName:"WCA 1981",slug:"uk-wca",description:"Principal mechanism for the conservation of wildlife in Great Britain.",level:"national",category:"biodiversity",adoptionYear:1981,effectiveDate:"1981-10-30",status:"active",leadOrganizations:["Department for Environment, Food & Rural Affairs"],participantCount:1,officialUrl:"https://www.legislation.gov.uk/ukpga/1981/69",keyObjectives:["Protect wildlife","Conserve habitats","Regulate access to countryside"],geographicScope:{isGlobal:!1,countries:["uk"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-15"},{id:44,name:"Kenya Wildlife Conservation and Management Act",shortName:"Kenya Wildlife Act",slug:"kenya-wildlife-act",description:"Kenyan law for the conservation and management of wildlife and related purposes.",level:"national",category:"biodiversity",adoptionYear:2013,effectiveDate:"2014-01-10",status:"active",leadOrganizations:["Kenya Wildlife Service"],participantCount:1,officialUrl:"https://www.kws.go.ke/",keyObjectives:["Wildlife conservation","Community participation","Combat poaching"],geographicScope:{isGlobal:!1,countries:["kenya"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-01-22"},{id:45,name:"Brazil Forest Code",shortName:"Brazilian Forest Code",slug:"brazil-forest-code",description:"Brazilian law governing forest protection and sustainable use of vegetation.",level:"national",category:"forest",adoptionYear:2012,effectiveDate:"2012-05-25",status:"active",leadOrganizations:["Ministry of Environment"],participantCount:1,officialUrl:"https://www.gov.br/mma/",keyObjectives:["Protect native vegetation","Regulate rural properties","Combat deforestation"],geographicScope:{isGlobal:!1,countries:["brazil"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-28"},{id:46,name:"Australia Environment Protection and Biodiversity Conservation Act",shortName:"EPBC Act",slug:"australia-epbc",description:"Australian law providing framework for environment and biodiversity conservation.",level:"national",category:"biodiversity",adoptionYear:1999,effectiveDate:"2000-07-16",status:"active",leadOrganizations:["Department of Climate Change, Energy, Environment and Water"],participantCount:1,officialUrl:"https://www.dcceew.gov.au/environment/epbc",keyObjectives:["Protect matters of national significance","Biodiversity conservation","Environmental assessment"],geographicScope:{isGlobal:!1,countries:["australia"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-03-01"},{id:47,name:"India Wildlife Protection Act",shortName:"WLPA 1972",slug:"india-wlpa",description:"Indian law for the protection of wild animals, birds and plants.",level:"national",category:"biodiversity",adoptionYear:1972,effectiveDate:"1972-09-09",status:"active",leadOrganizations:["Ministry of Environment, Forest and Climate Change"],participantCount:1,officialUrl:"https://moef.gov.in/",keyObjectives:["Wildlife protection","Establish protected areas","Regulate trade"],geographicScope:{isGlobal:!1,countries:["india"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-18"},{id:48,name:"Canada Species at Risk Act",shortName:"SARA",slug:"canada-sara",description:"Canadian federal legislation for preventing wildlife species from extinction.",level:"national",category:"biodiversity",adoptionYear:2002,effectiveDate:"2003-06-05",status:"active",leadOrganizations:["Environment and Climate Change Canada"],participantCount:1,officialUrl:"https://www.canada.ca/en/environment-climate-change/services/species-risk-public-registry.html",keyObjectives:["Prevent extinction","Recovery of species","Protect critical habitat"],geographicScope:{isGlobal:!1,countries:["canada"],regions:[]},verificationStatus:"verified",lastUpdated:"2024-02-12"},{id:60,name:"California Environmental Quality Act",shortName:"CEQA",slug:"california-ceqa",description:"California statute requiring state and local agencies to assess environmental impacts.",level:"subnational",category:"development",adoptionYear:1970,effectiveDate:"1970-01-01",status:"active",leadOrganizations:["California Office of Planning and Research"],participantCount:1,officialUrl:"https://opr.ca.gov/ceqa/",keyObjectives:["Environmental review","Impact mitigation","Public disclosure"],geographicScope:{isGlobal:!1,countries:["us"],regions:["california"]},verificationStatus:"verified",lastUpdated:"2024-03-15"},{id:61,name:"California Global Warming Solutions Act",shortName:"AB 32",slug:"california-ab32",description:"California law establishing comprehensive program to reduce greenhouse gas emissions.",level:"subnational",category:"climate",adoptionYear:2006,effectiveDate:"2006-09-27",status:"active",leadOrganizations:["California Air Resources Board"],participantCount:1,officialUrl:"https://ww2.arb.ca.gov/our-work/programs/ab-32-climate-change-scoping-plan",keyObjectives:["Reduce GHG emissions to 1990 levels by 2020","Cap-and-trade program","Clean energy"],geographicScope:{isGlobal:!1,countries:["us"],regions:["california"]},verificationStatus:"verified",lastUpdated:"2024-03-12"},{id:62,name:"California Endangered Species Act",shortName:"CESA",slug:"california-cesa",description:"California law for the protection of endangered and threatened species.",level:"subnational",category:"biodiversity",adoptionYear:1970,effectiveDate:"1970-01-01",status:"active",leadOrganizations:["California Department of Fish and Wildlife"],participantCount:1,officialUrl:"https://wildlife.ca.gov/Conservation/CESA",keyObjectives:["Conserve endangered species","Protect critical habitat","Recovery programs"],geographicScope:{isGlobal:!1,countries:["us"],regions:["california"]},verificationStatus:"verified",lastUpdated:"2024-02-22"},{id:63,name:"Queensland Nature Conservation Act",shortName:"NC Act QLD",slug:"queensland-nca",description:"Queensland legislation for the conservation of nature.",level:"subnational",category:"biodiversity",adoptionYear:1992,effectiveDate:"1994-12-09",status:"active",leadOrganizations:["Queensland Department of Environment and Science"],participantCount:1,officialUrl:"https://www.qld.gov.au/environment/plants-animals/conservation",keyObjectives:["Nature conservation","Protected areas","Wildlife management"],geographicScope:{isGlobal:!1,countries:["australia"],regions:["queensland"]},verificationStatus:"verified",lastUpdated:"2024-01-30"},{id:64,name:"Scotland Climate Change Act",shortName:"Scotland Climate Act",slug:"scotland-climate-act",description:"Scottish legislation setting targets for reducing greenhouse gas emissions.",level:"subnational",category:"climate",adoptionYear:2009,effectiveDate:"2009-08-04",status:"active",leadOrganizations:["Scottish Government"],participantCount:1,officialUrl:"https://www.gov.scot/policies/climate-change/",keyObjectives:["Net-zero by 2045","Emissions reduction","Climate adaptation"],geographicScope:{isGlobal:!1,countries:["uk"],regions:["scotland"]},verificationStatus:"verified",lastUpdated:"2024-02-08"},{id:65,name:"Ontario Endangered Species Act",shortName:"ESA Ontario",slug:"ontario-esa",description:"Ontario law for the identification and protection of species at risk.",level:"subnational",category:"biodiversity",adoptionYear:2007,effectiveDate:"2008-06-30",status:"active",leadOrganizations:["Ontario Ministry of Environment, Conservation and Parks"],participantCount:1,officialUrl:"https://www.ontario.ca/page/endangered-species-act-2007",keyObjectives:["Identify species at risk","Protect and recover species","Habitat protection"],geographicScope:{isGlobal:!1,countries:["canada"],regions:["ontario"]},verificationStatus:"verified",lastUpdated:"2024-01-15"}],Sz=e=>ar.find(t=>t.slug===e),kz=()=>({total:ar.length,byLevel:{international:ar.filter(e=>e.level==="international").length,regional:ar.filter(e=>e.level==="regional").length,national:ar.filter(e=>e.level==="national").length,subnational:ar.filter(e=>e.level==="subnational").length},byCategory:{climate:ar.filter(e=>e.category==="climate").length,biodiversity:ar.filter(e=>e.category==="biodiversity").length,development:ar.filter(e=>e.category==="development").length,marine:ar.filter(e=>e.category==="marine").length,forest:ar.filter(e=>e.category==="forest").length,indigenous:ar.filter(e=>e.category==="indigenous").length,resilience:ar.filter(e=>e.category==="resilience").length}}),$S={"UN Sustainable Development Goals (All 17 SDGs)":[{code:"SDG1",name:"SDG 1: No Poverty",level:"International"},{code:"SDG2",name:"SDG 2: Zero Hunger",level:"International"},{code:"SDG3",name:"SDG 3: Good Health and Well-being",level:"International"},{code:"SDG4",name:"SDG 4: Quality Education",level:"International"},{code:"SDG5",name:"SDG 5: Gender Equality",level:"International"},{code:"SDG6",name:"SDG 6: Clean Water and Sanitation",level:"International"},{code:"SDG7",name:"SDG 7: Affordable and Clean Energy",level:"International"},{code:"SDG8",name:"SDG 8: Decent Work and Economic Growth",level:"International"},{code:"SDG9",name:"SDG 9: Industry, Innovation and Infrastructure",level:"International"},{code:"SDG10",name:"SDG 10: Reduced Inequalities",level:"International"},{code:"SDG11",name:"SDG 11: Sustainable Cities and Communities",level:"International"},{code:"SDG12",name:"SDG 12: Responsible Consumption and Production",level:"International"},{code:"SDG13",name:"SDG 13: Climate Action",level:"International"},{code:"SDG14",name:"SDG 14: Life Below Water",level:"International"},{code:"SDG15",name:"SDG 15: Life on Land",level:"International"},{code:"SDG16",name:"SDG 16: Peace, Justice and Strong Institutions",level:"International"},{code:"SDG17",name:"SDG 17: Partnerships for the Goals",level:"International"}],"Climate Action":[{code:"IPCC",name:"IPCC Assessment Reports",level:"International"},{code:"PARIS",name:"Paris Climate Agreement",level:"International"},{code:"UNFCCC",name:"UN Framework Convention on Climate Change",level:"International"},{code:"KYOTO",name:"Kyoto Protocol",level:"International"}],"Biodiversity & Conservation":[{code:"CBD",name:"Convention on Biological Diversity",level:"International"},{code:"CBD_POST2020",name:"CBD Post-2020 Global Biodiversity Framework",level:"International"},{code:"CITES",name:"Convention on International Trade in Endangered Species",level:"International"},{code:"RAMSAR",name:"Ramsar Convention on Wetlands",level:"International"},{code:"CMS",name:"Convention on Migratory Species",level:"International"},{code:"IUCN",name:"IUCN Red List Categories",level:"International"},{code:"OCEAN_DECADE",name:"UN Ocean Decade",level:"International"}],"Disaster & Risk":[{code:"SENDAI",name:"Sendai Framework for Disaster Risk Reduction",level:"International"},{code:"HYOGO",name:"Hyogo Framework for Action",level:"International"}],"Regional Policies - Europe":[{code:"EU_GREEN",name:"EU Green Deal",level:"Regional",geography:"Europe"},{code:"EU_BIRDS",name:"EU Birds Directive",level:"Regional",geography:"Europe"},{code:"EU_HABITATS",name:"EU Habitats Directive",level:"Regional",geography:"Europe"},{code:"EU_NATURA2000",name:"Natura 2000 Network",level:"Regional",geography:"Europe"},{code:"EU_WATER",name:"EU Water Framework Directive",level:"Regional",geography:"Europe"},{code:"EU_MARINE",name:"EU Marine Strategy Framework Directive",level:"Regional",geography:"Europe"}],"Regional Policies - Asia Pacific":[{code:"ASEAN_HERITAGE",name:"ASEAN Heritage Parks",level:"Regional",geography:"Southeast Asia"},{code:"PACIFIC_ISLANDS",name:"Pacific Islands Framework for Nature Conservation",level:"Regional",geography:"Pacific"},{code:"CORAL_TRIANGLE",name:"Coral Triangle Initiative",level:"Regional",geography:"Asia Pacific"}],"Regional Policies - Africa":[{code:"AFRICAN_CONVENTION",name:"African Convention on Nature Conservation",level:"Regional",geography:"Africa"},{code:"AFRICAN_UNION",name:"African Union Agenda 2063",level:"Regional",geography:"Africa"}],"Regional Policies - Americas":[{code:"AMAZON_COOPERATION",name:"Amazon Cooperation Treaty",level:"Regional",geography:"South America"},{code:"CARIBBEAN_ENVIRONMENT",name:"Caribbean Environment Programme",level:"Regional",geography:"Caribbean"}],"National - United States":[{code:"US_ESA",name:"US Endangered Species Act",level:"National",geography:"United States"},{code:"US_NEPA",name:"US National Environmental Policy Act",level:"National",geography:"United States"},{code:"US_CWA",name:"US Clean Water Act",level:"National",geography:"United States"},{code:"US_CAA",name:"US Clean Air Act",level:"National",geography:"United States"},{code:"US_MMPA",name:"US Marine Mammal Protection Act",level:"National",geography:"United States"},{code:"US_MSA",name:"US Magnuson-Stevens Fishery Conservation Act",level:"National",geography:"United States"}],"National - Canada":[{code:"CAN_SARA",name:"Canada Species at Risk Act",level:"National",geography:"Canada"},{code:"CAN_CEAA",name:"Canada Environmental Assessment Act",level:"National",geography:"Canada"},{code:"CAN_FISHERIES",name:"Canada Fisheries Act",level:"National",geography:"Canada"},{code:"CAN_OCEANS",name:"Canada Oceans Act",level:"National",geography:"Canada"}],"National - Australia":[{code:"AUS_EPBC",name:"Australia Environment Protection and Biodiversity Conservation Act",level:"National",geography:"Australia"},{code:"AUS_GBR",name:"Australia Great Barrier Reef Marine Park Act",level:"National",geography:"Australia"}],"National - United Kingdom":[{code:"UK_WCA",name:"UK Wildlife and Countryside Act",level:"National",geography:"United Kingdom"},{code:"UK_ENV",name:"UK Environment Act",level:"National",geography:"United Kingdom"}],"National - Brazil":[{code:"BRAZIL_FOREST",name:"Brazil Forest Code",level:"National",geography:"Brazil"},{code:"BRAZIL_ATLANTIC",name:"Brazil Atlantic Forest Law",level:"National",geography:"Brazil"}],"National - India":[{code:"INDIA_WPA",name:"India Wildlife Protection Act",level:"National",geography:"India"},{code:"INDIA_FOREST",name:"India Forest Conservation Act",level:"National",geography:"India"}],"National - China":[{code:"CHINA_ENV",name:"China Environmental Protection Law",level:"National",geography:"China"},{code:"CHINA_BIODIV",name:"China Biodiversity Conservation Strategy",level:"National",geography:"China"}],"National - Japan":[{code:"JAPAN_BSL",name:"Japan Basic Act on Biodiversity",level:"National",geography:"Japan"},{code:"JAPAN_NCL",name:"Japan Nature Conservation Law",level:"National",geography:"Japan"}],"National - Mexico":[{code:"MEX_LGEEPA",name:"Mexico General Law of Ecological Balance",level:"National",geography:"Mexico"},{code:"MEX_WILDLIFE",name:"Mexico Wildlife Law",level:"National",geography:"Mexico"}],"National - South Africa":[{code:"SA_NEMA",name:"South Africa National Environmental Management Act",level:"National",geography:"South Africa"},{code:"SA_BIODIV",name:"South Africa Biodiversity Act",level:"National",geography:"South Africa"}],"National - New Zealand":[{code:"NZ_RMA",name:"New Zealand Resource Management Act",level:"National",geography:"New Zealand"},{code:"NZ_MARINE",name:"New Zealand Marine Reserves Act",level:"National",geography:"New Zealand"}],"State/Provincial - United States":[{code:"CA_CESA",name:"California Endangered Species Act",level:"State/Provincial",geography:"California, USA"},{code:"CA_CEQA",name:"California Environmental Quality Act",level:"State/Provincial",geography:"California, USA"},{code:"CA_MLPA",name:"California Marine Life Protection Act",level:"State/Provincial",geography:"California, USA"},{code:"CA_COASTAL",name:"California Coastal Act",level:"State/Provincial",geography:"California, USA"},{code:"NY_SEQRA",name:"New York State Environmental Quality Review",level:"State/Provincial",geography:"New York, USA"},{code:"FL_CORAL",name:"Florida Coral Reef Protection Act",level:"State/Provincial",geography:"Florida, USA"},{code:"FL_WETLANDS",name:"Florida Wetlands Protection Act",level:"State/Provincial",geography:"Florida, USA"},{code:"WA_SEPA",name:"Washington State Environmental Policy Act",level:"State/Provincial",geography:"Washington, USA"},{code:"HI_OCEAN",name:"Hawaii Ocean Resources Management Plan",level:"State/Provincial",geography:"Hawaii, USA"},{code:"TX_WATER",name:"Texas Water Code",level:"State/Provincial",geography:"Texas, USA"}],"State/Provincial - Canada":[{code:"BC_FSA",name:"British Columbia Forest and Range Practices Act",level:"State/Provincial",geography:"British Columbia, Canada"},{code:"BC_WILDLIFE",name:"British Columbia Wildlife Act",level:"State/Provincial",geography:"British Columbia, Canada"},{code:"ON_ESA",name:"Ontario Endangered Species Act",level:"State/Provincial",geography:"Ontario, Canada"},{code:"QC_ENV",name:"Quebec Environment Quality Act",level:"State/Provincial",geography:"Quebec, Canada"},{code:"NS_ESA",name:"Nova Scotia Endangered Species Act",level:"State/Provincial",geography:"Nova Scotia, Canada"}],"State/Provincial - Australia":[{code:"QLD_NC",name:"Queensland Nature Conservation Act",level:"State/Provincial",geography:"Queensland, Australia"},{code:"QLD_MARINE",name:"Queensland Marine Parks Act",level:"State/Provincial",geography:"Queensland, Australia"},{code:"NSW_BC",name:"New South Wales Biodiversity Conservation Act",level:"State/Provincial",geography:"NSW, Australia"},{code:"VIC_FFG",name:"Victoria Flora and Fauna Guarantee Act",level:"State/Provincial",geography:"Victoria, Australia"},{code:"WA_BC",name:"Western Australia Biodiversity Conservation Act",level:"State/Provincial",geography:"Western Australia"}]},rA=e=>{if(!e||typeof e!="string")return!1;const t=e.trim(),n=t.split(/\s+/).length;if(n===1||n===2&&!/^(recent|latest|newest|oldest|earliest|highest|most|top|best)\s+/i.test(t))return!1;const a=[/^(find|show|get|search for|looking for|give me|i need|i want)/i,/^(what|where|when|how|which|who|why)/i,/\b(studies|papers|research|articles|publications)\s+(about|on|in|from|using|with|for)/i,/\b(conservation|biodiversity|ecology|wildlife)\s+(in|of|from|at)/i,/\b(using|with|about|from|in|at|for|by)\s+\w+/i,/\b(highest|most|top|best|greatest)\s+(cited|influential|impactful|impact)/i,/\b(least|lowest|fewest)\s+(cited|known)/i,/\b(most|latest|newest)\s+(recent|published)/i,/\b(oldest|earliest|first)\s+published/i,/^(recent|latest|newest|oldest|earliest)/i,/\b(just|only|exactly)\s+(one|1|a|single)/i,/\b(top|first|best)\s+\d+/i,/\b(a few|several|some|many)\s+(studies|papers|research|articles)/i,/\b\d+\s+(studies|papers|research|articles|results)/i,/\?$/].some(o=>o.test(t)),i=n>=6;return a||i};function Cz({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z",clipRule:"evenodd"}))}const Pz=p.forwardRef(Cz);function Az({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Ez=p.forwardRef(Az);function Oz({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const Tz=p.forwardRef(Oz);function Lz({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const Mz=p.forwardRef(Lz),ff=["Marine & Coastal","Tropical Forests","Temperate Forests","Grasslands & Savannas","Wetlands","Mountains & Alpine","Desert & Arid","Freshwater","Urban & Built","Agricultural","Other/Mixed"],Dz=["Remote Sensing","Satellite Imagery","Aerial Surveys","Drone/UAV Monitoring","LiDAR","Satellite Tracking","GPS Telemetry","Radio Telemetry","Acoustic Telemetry","Geolocators","Field Surveys","Transect Surveys","Point Count Surveys","Mark-Recapture","Quadrat Sampling","Plot Sampling","Ecological Surveys","Species Inventories","Biodiversity Assessment","Camera Traps","Underwater Photography","Time-Lapse Photography","Video Analysis","Acoustic Monitoring","Bioacoustics","Passive Acoustic Monitoring (PAM)","Hydrophone Arrays","DNA Barcoding","eDNA (Environmental DNA)","Genomic Sequencing","Metabarcoding","Microsatellite Analysis","Population Genetics","Genetic Analysis","Phylogenetic Analysis","Isotope Analysis","Species Distribution Modeling","Population Viability Analysis","Habitat Suitability Modeling","Climate Modeling","Agent-Based Modeling","Artificial Intelligence","AI","Machine Learning","Deep Learning","Neural Networks","Convolutional Neural Networks (CNN)","Recurrent Neural Networks (RNN)","R-CNN","Fast R-CNN","Faster R-CNN","YOLO (Object Detection)","Random Forest","Support Vector Machines (SVM)","Decision Trees","Gradient Boosting","XGBoost","k-Nearest Neighbors (k-NN)","Naive Bayes","Ensemble Methods","Transfer Learning","Computer Vision","Image Classification","Object Detection","Semantic Segmentation","Natural Language Processing (NLP)","GIS Analysis","Statistical Analysis","Modeling","Population Modeling","Ecosystem Modeling","Habitat Modeling","Water Quality Sampling","Soil Sampling","Sediment Core Analysis","Tissue Sampling","Plankton Tows","Laboratory Analysis","Environmental Monitoring","Citizen Science","Crowdsourced Data","Interview Surveys","Participatory Monitoring","Questionnaire","Interviews","Focus Groups","Participatory Mapping","Experimental Manipulation","Controlled Experiments","Mesocosm Studies","Translocation Experiments","Experimental Design","Meta-Analysis","Literature Review","Systematic Review"],pf=["Site-specific","Local","Regional","National","Continental","Global"],gf=["Mammals","Birds","Reptiles","Amphibians","Marine Fish","Freshwater Fish","Insects","Arachnids","Crustaceans","Mollusks","Corals & Cnidarians","Echinoderms","Other Invertebrates","Vascular Plants","Bryophytes","Algae","Fungi","Lichens","Bacteria","Protists","Multiple Taxa","Ecosystem-level"],xf=["Open Access","Public Dataset Available","Code/Scripts Available","Restricted Access","No Data Available"],Rz={International:ar.filter(e=>e.level==="international").slice(0,20),Regional:ar.filter(e=>e.level==="regional").slice(0,15),National:ar.filter(e=>e.level==="national").slice(0,15),Subnational:ar.filter(e=>e.level==="subnational").slice(0,10)},gy={"Marine & Coastal":"#3B82F6","Tropical Forests":"#10B981","Temperate Forests":"#059669","Grasslands & Savannas":"#F59E0B",Wetlands:"#06B6D4","Mountains & Alpine":"#8B5CF6","Desert & Arid":"#F97316",Freshwater:"#0EA5E9","Urban & Built":"#6B7280",Agricultural:"#84CC16","Other/Mixed":"#64748B"};function Iz(){const{user:e}=Ot(),[t,n]=p.useState(""),[s,a]=p.useState(!1),[i,o]=p.useState(null),[c,d]=p.useState(null),[u,m]=p.useState(!1),[f,g]=p.useState(null),[x,v]=p.useState([]),[w,b]=p.useState(0),[j,S]=p.useState(""),[_,k]=p.useState([]),[A,P]=p.useState([]),[E,T]=p.useState([]),[M,U]=p.useState([]),[D,B]=p.useState([]),[z,X]=p.useState([]),[le,$]=p.useState([]),[ae,G]=p.useState([]),[ie,ce]=p.useState([]),[I,pe]=p.useState(!1),[Q,xe]=p.useState({min:"",max:""}),[je,Re]=p.useState(""),[rt,Z]=p.useState(!1),[J,De]=p.useState(""),[Fe,ge]=p.useState(!1),[te,Te]=p.useState(new Set),[Le,ze]=p.useState(!1),[Qe,Tt]=p.useState(!1),[At,W]=p.useState([]),[R,ee]=p.useState(!1),[se,we]=p.useState(!1),[ue,ye]=p.useState(""),[He,ut]=p.useState(""),[Bt,qt]=p.useState("#3B82F6"),[rr,K]=p.useState(!1),{data:Se,isLoading:Oe,refetch:lt}=kr({queryKey:["papers-search",t,_,A,E,M,D,z,Q],queryFn:async()=>await bz({query:t,ecosystems:_,methods:A,frameworks:E,scopes:M,taxonomicGroups:D,dataAvailability:z,yearMin:Q.min,yearMax:Q.max,page:1,limit:50}),enabled:!1}),Qt=i==="ai"?x:(Se==null?void 0:Se.papers)||[],$t=Qt.filter(re=>{const Ye=re.ecosystem_types||(re.ecosystem?[re.ecosystem]:[]);return!(Ye.length===0||Ye.includes("Urban & Built")||re.ecosystem_type==="Urban & Built")}),an=$t.length,Kr=new Set($t.map(re=>re.id)),zt=new Set(Array.from(te).filter(re=>Kr.has(re)));console.log(" SearchPage Debug:",{searchMode:i,resultsLength:x.length,totalResultsCount:w,papersLength:Qt.length,totalResults:an,searchResultsExists:!!Se,isLoading:Oe});const Hs=async()=>{var Ye,nt;if(!t.trim()){v([]),b(0),o(null),d(null);return}const re=rA(t);try{if(re){o("ai");try{const Pe=await Li.naturalLanguageSearch(t,1,50);console.log(" AI Search Response:",{success:Pe.data.success,papersCount:(Ye=Pe.data.papers)==null?void 0:Ye.length,total:Pe.data.total,explanation:Pe.data.explanation}),Pe.data.success&&(console.log(" Setting AI results:",{papers:Pe.data.papers,total:Pe.data.total}),v(Pe.data.papers),b(Pe.data.total),d(Pe.data.explanation))}catch(Pe){((nt=Pe.response)==null?void 0:nt.status)===403&&(m(!0),g(Pe.response.data.message||"AI-powered search is a premium feature. Upgrade to Pro to unlock natural language search.")),console.warn("AI search failed, falling back to keyword search:",Pe),o("keyword"),lt()}}else o("keyword"),d(null),lt()}catch(Pe){console.error("Search error:",Pe)}},Dr=re=>{if(!re||re.length===0)return"Unknown authors";if(Array.isArray(re)){const Ye=re.map(nt=>nt.name||nt).filter(Boolean);return Ye.length===0?"Unknown authors":Ye.length===1?Ye[0]:Ye.length===2?Ye.join(" and "):`${Ye[0]} et al.`}return re},yn=(re,Ye,nt)=>{Ye.includes(re)?nt(Ye.filter(Pe=>Pe!==re)):nt([...Ye,re])},Bn=()=>{S(""),k([]),P([]),T([]),U([]),B([]),X([]),xe({min:"",max:""})},Jt=re=>{Te(Ye=>{const nt=new Set(Ye);return nt.has(re)?nt.delete(re):nt.add(re),nt})},$n=()=>{Te(new Set($t.map(re=>re.id)))},$a=()=>{Te(new Set)},Br=()=>{const re=$t.filter(H=>te.has(H.id));if(re.length===0){alert("Please select papers to export");return}const Ye=["Title","Authors","Year","Journal","DOI","Abstract","Ecosystems","Research Methods","Frameworks","Geographic Scope","Taxonomic Coverage","Data Availability","Temporal Range","Location Name","Latitude","Longitude","AI Generated","Source"],nt=re.map(H=>{var _e,Ue,mt;return[`"${(H.title||"").replace(/"/g,'""')}"`,`"${Dr(H.authors).replace(/"/g,'""')}"`,H.year||"",`"${(H.journal||"").replace(/"/g,'""')}"`,H.doi||"",`"${(H.abstract||"").substring(0,500).replace(/"/g,'""')}"`,`"${(H.ecosystem_types||[]).join("; ")}"`,`"${(H.research_methods||[]).join("; ")}"`,`"${(H.frameworks||[]).join("; ")}"`,H.geographic_scope||"",`"${(H.taxonomic_coverage||[]).join("; ")}"`,H.data_availability||"",H.temporal_range||"",((_e=H.location)==null?void 0:_e.name)||"",((Ue=H.location)==null?void 0:Ue.latitude)||"",((mt=H.location)==null?void 0:mt.longitude)||"",H.ai_generated?"Yes":"No",H.source||"COMPASSID"].join(",")}),Pe=[Ye.join(","),...nt].join(`
`),ft=new Blob([Pe],{type:"text/csv"}),qe=window.URL.createObjectURL(ft),Me=document.createElement("a");Me.href=qe,Me.download=`compassid-papers-${new Date().toISOString().split("T")[0]}.csv`,Me.click()},vn=()=>{const re=$t.filter(qe=>te.has(qe.id));if(re.length===0){alert("Please select papers to export");return}const Ye=re.map((qe,Me)=>{const H=qe.doi?qe.doi.replace(/[\/\\.]/g,"_"):`paper_${Me+1}`,_e=Dr(qe.authors),Ue=(qe.title||"Untitled").replace(/[{}]/g,""),mt=qe.year||new Date().getFullYear(),dr=qe.journal||"",nr=qe.doi||"";return`@article{${H},
  author = {${_e}},
  title = {${Ue}},
  journal = {${dr}},
  year = {${mt}},
  doi = {${nr}}
}`}).join(`

`),nt=new Blob([Ye],{type:"text/plain"}),Pe=window.URL.createObjectURL(nt),ft=document.createElement("a");ft.href=Pe,ft.download=`compassid-papers-${new Date().toISOString().split("T")[0]}.bib`,ft.click()},is=()=>{const re=$t.filter(qe=>te.has(qe.id));if(re.length===0){alert("Please select papers to export");return}const Ye=re.map(qe=>{var _e;const Me=Dr(qe.authors).split(",").map(Ue=>Ue.trim());return["TY  - JOUR",`TI  - ${qe.title||"Untitled"}`,...Me.map(Ue=>`AU  - ${Ue}`),`PY  - ${qe.year||new Date().getFullYear()}`,qe.journal?`JO  - ${qe.journal}`:"",qe.doi?`DO  - ${qe.doi}`:"",qe.abstract&&qe.abstract!=="No abstract available"?`AB  - ${qe.abstract}`:"",(_e=qe.location)!=null&&_e.name?`N1  - Location: ${qe.location.name}`:"","ER  -"].filter(Boolean).join(`
`)}).join(`

`),nt=new Blob([Ye],{type:"application/x-research-info-systems"}),Pe=window.URL.createObjectURL(nt),ft=document.createElement("a");ft.href=Pe,ft.download=`compassid-papers-${new Date().toISOString().split("T")[0]}.ris`,ft.click()},Y=()=>{const re=$t.filter(qe=>{var Me,H;return te.has(qe.id)&&((Me=qe.location)==null?void 0:Me.latitude)&&((H=qe.location)==null?void 0:H.longitude)});if(re.length===0){alert("Please select papers with geographic coordinates to export as GeoJSON");return}const Ye={type:"FeatureCollection",name:"COMPASSID_Search_Results",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:re.map(qe=>({type:"Feature",geometry:{type:"Point",coordinates:[qe.location.longitude,qe.location.latitude]},properties:{title:qe.title||"",authors:Dr(qe.authors),year:qe.year||null,journal:qe.journal||"",doi:qe.doi||"",abstract:(qe.abstract||"").substring(0,500),ecosystems:(qe.ecosystem_types||[]).join("; "),methods:(qe.research_methods||[]).join("; "),frameworks:(qe.frameworks||[]).join("; "),location_name:qe.location.name||""}}))},nt=new Blob([JSON.stringify(Ye,null,2)],{type:"application/geo+json"}),Pe=window.URL.createObjectURL(nt),ft=document.createElement("a");ft.href=Pe,ft.download=`compassid-papers-${new Date().toISOString().split("T")[0]}.geojson`,ft.click()},me=async()=>{ee(!0);try{const re=await Ej();re.success&&W(re.folders)}catch(re){console.error("Error loading folders:",re)}finally{ee(!1)}},Be=async()=>{if(!ue.trim()){alert("Folder name is required");return}try{const re=await tA({name:ue,description:He,color:Bt});re.success&&(W(Ye=>[re.folder,...Ye]),ye(""),ut(""),qt("#3B82F6"),we(!1))}catch(re){console.error("Error creating folder:",re),alert("Failed to create folder")}},at=()=>{if(!e){alert("Please log in to save papers to folders");return}Tt(!0),At.length===0&&me()},Ie=async re=>{if(zt.size!==0){K(!0);try{const nt=Array.from(te).map(Pe=>$t.find(ft=>ft.id===Pe)).filter(Boolean).map(async Pe=>{const ft={paper_title:Pe.title,paper_doi:Pe.doi||null,paper_authors:typeof Pe.authors=="string"?Pe.authors:JSON.stringify(Pe.authors),paper_year:Pe.year||Pe.publication_year||null,paper_journal:Pe.journal||Pe.container_title||null,paper_abstract:Pe.abstract||null,paper_url:Pe.url||(Pe.doi?`https://doi.org/${Pe.doi}`:null),notes:"",tags:[],folder_id:re};return eA(ft)});await Promise.all(nt),alert(`Successfully saved ${zt.size} paper(s) to folder!`),Tt(!1)}catch(Ye){console.error("Error saving papers:",Ye),alert("Failed to save papers. "+(Ye.message||""))}finally{K(!1)}}},Lt=Dz.filter(re=>re.toLowerCase().includes(je.toLowerCase())),Xt={};Object.entries(Rz).forEach(([re,Ye])=>{const nt=Ye.filter(Pe=>Pe.name&&Pe.name.toLowerCase().includes(J.toLowerCase())||Pe.shortName&&Pe.shortName.toLowerCase().includes(J.toLowerCase()));nt.length>0&&(Xt[re]=nt)});const on=(j?1:0)+_.length+A.length+E.length+M.length+D.length+z.length+(Q.min||Q.max?1:0);return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Search Conservation Research"}),r.jsx("p",{className:"text-gray-600",children:"Search 21,000+ papers  Free tier: 20 AI searches/month  Buy credit packs as needed"})]})})})}),r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>a(!s),className:"lg:hidden p-2 text-gray-500 hover:text-gray-700 rounded-md border border-gray-300",children:r.jsx(Ja,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:t,onChange:re=>n(re.target.value),onKeyPress:re=>re.key==="Enter"&&Hs(),placeholder:"Natural language AI search (20/month free) or keywords  e.g., 'camera trap studies of tigers in India'",className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),r.jsx("button",{onClick:Hs,disabled:Oe,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium transition-colors",children:Oe?"Searching...":"Search"})]}),i&&r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium flex-shrink-0 ${i==="ai"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:i==="ai"?"AI-powered search":"Keyword search"}),c&&i==="ai"&&r.jsx("span",{className:"text-sm text-gray-600 flex-1",children:c})]})]})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:`${s?"block":"hidden"} lg:block w-full lg:w-80 flex-shrink-0`,children:r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ja,{className:"w-5 h-5 text-gray-500"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),on>0&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:on})]}),on>0&&r.jsx("button",{onClick:Bn,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear all"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Filter Results by Keyword"}),r.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Filter displayed results by species names, locations, keywords, or any text within the results"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:j,onChange:re=>S(re.target.value),placeholder:"e.g., elephant, coral, Amazon, Kenya...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),j&&r.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.jsx(Rt,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Ecosystem Types"}),r.jsx("button",{onClick:()=>k(_.length===ff.length?[]:ff),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:_.length===ff.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ff.map(re=>r.jsx("button",{onClick:()=>yn(re,_,k),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${_.includes(re)?"text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:_.includes(re)?{backgroundColor:gy[re]}:{},children:re},re))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Research Methods (",A.length," selected)"]}),A.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:A.map(re=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[re,r.jsx("button",{onClick:()=>yn(re,A,P),className:"hover:bg-purple-200 rounded-full p-0.5",children:r.jsx(Rt,{className:"w-3 h-3"})})]},re))}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:je,onChange:re=>{Re(re.target.value),Z(!0)},onFocus:()=>Z(!0),placeholder:"Search methods (e.g., Remote Sensing, Camera Traps...)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),rt&&Lt.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:Lt.map(re=>r.jsx("button",{onClick:()=>{yn(re,A,P),Re(""),Z(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:re},re))})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Policy Frameworks (",E.length," selected)"]}),E.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:E.map(re=>{const Ye=ar.find(nt=>nt.id===re);return r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:[(Ye==null?void 0:Ye.shortName)||re,r.jsx("button",{onClick:()=>yn(re,E,T),className:"hover:bg-green-200 rounded-full p-0.5",children:r.jsx(Rt,{className:"w-3 h-3"})})]},re)})}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:J,onChange:re=>{De(re.target.value),ge(!0)},onFocus:()=>ge(!0),placeholder:"Search frameworks (e.g., Paris Agreement, CBD, SDG...)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),Fe&&Object.keys(Xt).length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:Object.entries(Xt).map(([re,Ye])=>r.jsxs("div",{children:[r.jsx("div",{className:"px-3 py-2 bg-gray-50 text-xs font-semibold text-gray-600 sticky top-0",children:re}),Ye.map(nt=>r.jsxs("button",{onClick:()=>{yn(nt.id,E,T),De(""),ge(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm border-b border-gray-100",children:[r.jsx("div",{className:"font-medium",children:nt.shortName||nt.name}),nt.description&&r.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:nt.description})]},nt.id))]},re))})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Geographic Scope"}),r.jsx("button",{onClick:()=>U(M.length===pf.length?[]:pf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:M.length===pf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:pf.map(re=>r.jsx("button",{onClick:()=>yn(re,M,U),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${M.includes(re)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:re},re))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Taxonomic Groups"}),r.jsx("button",{onClick:()=>B(D.length===gf.length?[]:gf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:D.length===gf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:gf.map(re=>r.jsx("button",{onClick:()=>yn(re,D,B),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${D.includes(re)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:re},re))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Data Availability"}),r.jsx("button",{onClick:()=>X(z.length===xf.length?[]:xf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:z.length===xf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:xf.map(re=>r.jsx("button",{onClick:()=>yn(re,z,X),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${z.includes(re)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:re},re))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Publication Year Range"}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("input",{type:"number",placeholder:"Start year",value:Q.min,onChange:re=>xe(Ye=>({...Ye,min:re.target.value})),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsx("span",{className:"text-gray-500",children:"to"}),r.jsx("input",{type:"number",placeholder:"End year",value:Q.max,onChange:re=>xe(Ye=>({...Ye,max:re.target.value})),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]})]})]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[(Se||Oe||i==="ai")&&r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[Oe?"Searching...":`${an.toLocaleString()} results`,zt.size>0&&r.jsxs("span",{className:"text-blue-600 font-medium ml-2",children:["(",zt.size," selected)"]})]}),t&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:['Results for "',r.jsx("strong",{children:t}),'"']})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[$t.length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:$n,className:"text-xs text-blue-600 hover:text-blue-700 font-medium px-3 py-1 border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors",children:["Select All (",$t.length,")"]}),zt.size>0&&r.jsx("button",{onClick:$a,className:"text-xs text-gray-600 hover:text-gray-700 font-medium px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Deselect All"})]}),zt.size>0&&r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>ze(!Le),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[r.jsx(Zp,{className:"w-4 h-4"}),"Export (",zt.size,")",r.jsx(la,{className:"w-4 h-4"})]}),Le&&r.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:r.jsxs("div",{className:"py-1",children:[r.jsxs("button",{onClick:()=>{Br(),ze(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"font-medium",children:"CSV Format"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Spreadsheet data with all metadata"})]}),r.jsxs("button",{onClick:()=>{vn(),ze(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"font-medium",children:"BibTeX Format"}),r.jsx("div",{className:"text-xs text-gray-500",children:"For LaTeX citations"})]}),r.jsxs("button",{onClick:()=>{is(),ze(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"font-medium",children:"RIS Format (Zotero/Mendeley)"}),r.jsx("div",{className:"text-xs text-gray-500",children:"For reference managers"})]}),r.jsxs("button",{onClick:()=>{Y(),ze(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"font-medium",children:"GeoJSON Format"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Geographic data for papers with coordinates"})]})]})})]}),zt.size>0&&r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:at,title:e?"":"Please log in to save papers to folders",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:[r.jsx(Vo,{className:"w-4 h-4"}),"Save to Folder (",zt.size,")",r.jsx(la,{className:"w-4 h-4"})]}),Qe&&r.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"p-3 border-b border-gray-200",children:r.jsxs("button",{onClick:()=>we(!0),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-md hover:bg-blue-100 transition-colors text-sm font-medium",children:[r.jsx(zP,{className:"w-4 h-4"}),"Create New Folder"]})}),r.jsx("div",{className:"py-1 max-h-64 overflow-y-auto",children:R?r.jsxs("div",{className:"px-4 py-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Loading folders..."})]}):At.length===0?r.jsxs("div",{className:"px-4 py-8 text-center",children:[r.jsx(Qp,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No folders yet"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create one to get started"})]}):At.map(re=>r.jsx("button",{onClick:()=>Ie(re.id),disabled:rr,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:re.color||"#3B82F6"}}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 truncate",children:re.name}),re.description&&r.jsx("div",{className:"text-xs text-gray-500 truncate",children:re.description})]})]})},re.id))})]})]}),on>0&&r.jsxs("button",{onClick:Bn,className:"inline-flex items-center px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-xs font-medium text-gray-600 transition-colors",children:["Clear all",r.jsx(Rt,{className:"w-3 h-3 ml-1"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 divide-y divide-gray-200",children:[Oe&&r.jsxs("div",{className:"px-4 py-12 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Searching papers..."})]}),!Oe&&$t.length===0&&(Se||i==="ai")&&r.jsxs("div",{className:"px-4 py-12 text-center",children:[r.jsx(Dn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No papers found. Try adjusting your search or filters."})]}),!Oe&&!Se&&i===null&&r.jsxs("div",{className:"px-4 py-12 text-center",children:[r.jsx(Dn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to discover research?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Search 21,000+ conservation papers with AI-extracted metadata"})]}),$t.map(re=>{var Pe,ft,qe,Me;const Ye=re.ecosystem_types||(re.ecosystem?[re.ecosystem]:[]),nt=Ye[0];return r.jsx("div",{className:`px-4 py-4 hover:bg-gray-50 transition-colors ${nt?"border-l-8":""}`,style:nt?{borderLeftColor:gy[nt]}:{},children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-shrink-0 pt-1",children:r.jsx("input",{type:"checkbox",checked:te.has(re.id),onChange:()=>Jt(re.id),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:re.title}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-2 flex-wrap",children:[r.jsx("span",{children:Dr(re.authors)}),(re.publication_date||re.year)&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:re.publication_date?new Date(re.publication_date).toLocaleDateString("en-US",{month:"short",year:"numeric"}):re.year})]}),re.journal&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"italic",children:re.journal})]}),re.citations!==void 0&&re.citations!==null&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{className:"font-medium text-indigo-600",children:[re.citations," ",re.citations===1?"citation":"citations"]})]})]}),re.doi&&r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[r.jsx("span",{className:"font-medium",children:"DOI:"})," ",r.jsx("a",{href:`https://doi.org/${re.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:re.doi})]}),re.abstract&&re.abstract!=="No abstract available"?r.jsx("p",{className:"text-sm text-gray-700 mb-3 line-clamp-2",children:re.abstract}):r.jsx("p",{className:"text-sm text-gray-400 italic mb-3",children:"No abstract available"}),r.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[Ye==null?void 0:Ye.map((H,_e)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full text-white font-medium",style:{backgroundColor:gy[H]||"#64748B"},children:H},`eco-${_e}`)),(Pe=re.research_methods)==null?void 0:Pe.map((H,_e)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-700 font-medium",children:H},`method-${_e}`)),(ft=re.frameworks)==null?void 0:ft.map((H,_e)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-700 font-medium",children:H},`fw-${_e}`)),(qe=re.taxonomic_coverage)==null?void 0:qe.map((H,_e)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-700 font-medium",children:H},`taxa-${_e}`)),((Me=re.location)==null?void 0:Me.name)&&r.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-700 font-medium flex items-center gap-1",children:[r.jsx(Wt,{className:"w-3 h-3"}),re.location.name]})]})]})]})},re.id)})]})]})]})}),se&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Folder"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder Name *"}),r.jsx("input",{type:"text",value:ue,onChange:re=>ye(re.target.value),placeholder:"e.g., Marine Conservation Papers",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),r.jsx("textarea",{value:He,onChange:re=>ut(re.target.value),placeholder:"Brief description of this folder...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"].map(re=>r.jsx("button",{onClick:()=>qt(re),className:`w-8 h-8 rounded-full transition-all ${Bt===re?"ring-2 ring-offset-2 ring-gray-400":""}`,style:{backgroundColor:re}},re))})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{onClick:()=>{we(!1),ye(""),ut(""),qt("#3B82F6")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Be,disabled:!ue.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Create Folder"})]})]})}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"Buy Credits for More AI Searches"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"You've used your 20 free AI searches this month. Buy a credit pack: $10 (50 searches), $25 (150 searches), or $75 (500 searches)."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>window.location.href="/credits",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Buy Credits"}),r.jsx("button",{onClick:()=>m(!1),className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})})]})}function Fz({researchId:e,researchOwnerId:t}){const{user:n}=Ot(),s=ml(),[a,i]=p.useState(!1),[o,c]=p.useState("framework_alignment"),[d,u]=p.useState([]),[m,f]=p.useState(""),g=(n==null?void 0:n.id)===t,{data:x}=kr({queryKey:["suggestions",e],queryFn:()=>Li.getSuggestions(e,{status:"pending"}).then(k=>k.data)}),v=Ti({mutationFn:k=>Li.suggestMetadata(e,k),onSuccess:()=>{s.invalidateQueries(["suggestions",e]),i(!1),u([]),f("")}}),w=Ti({mutationFn:({id:k,action:A,review_note:P})=>Li.reviewSuggestion(k,{action:A,review_note:P}),onSuccess:()=>{s.invalidateQueries(["suggestions",e]),s.invalidateQueries(["research",e])}}),b=()=>{if(d.length===0){alert("Please add at least one suggestion");return}v.mutate({suggestion_type:o,suggestion_data:{add:d},note:m})},j=(k,A,P="")=>{if(A==="reject"&&!P){const E=prompt("Please provide a reason for rejection (optional):");w.mutate({id:k,action:A,review_note:E||""})}else w.mutate({id:k,action:A,review_note:P})},S=(x==null?void 0:x.suggestions.filter(k=>k.email==="ai-assistant@compassid.system"))||[],_=(x==null?void 0:x.suggestions.filter(k=>k.email!=="ai-assistant@compassid.system"))||[];return r.jsxs("div",{className:"space-y-6",children:[(S.length>0||_.length>0)&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("svg",{className:"w-6 h-6 text-accent-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),r.jsx("h3",{className:"heading-sm",children:"Metadata Enhancement Suggestions"})]}),S.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-accent-500 to-primary-500 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"AI-Powered Suggestions"}),r.jsx("div",{className:"text-xs text-neutral-500",children:"Based on title and abstract analysis"})]})]}),r.jsx("div",{className:"space-y-3",children:S.map(k=>{var A;return r.jsx("div",{className:"bg-gradient-to-r from-accent-50 to-primary-50 rounded-xl p-4 border border-accent-100",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium text-sm mb-2",children:[k.suggestion_type==="framework_alignment"&&"Additional Policy Frameworks",k.suggestion_type==="methods"&&"Additional Methods",k.suggestion_type==="taxon_scope"&&"Additional Taxa"]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(A=k.suggestion_data.add)==null?void 0:A.map((P,E)=>r.jsx("span",{className:"bg-white px-3 py-1 rounded-lg text-sm border border-accent-200 font-medium",children:P},E))}),k.suggestion_data.source&&r.jsxs("div",{className:"text-xs text-neutral-600",children:["Source: ",k.suggestion_data.source.replace(/_/g," ")]})]}),g&&r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>j(k.id,"accept"),disabled:w.isPending,className:"btn-sm bg-green-500 hover:bg-green-600 text-white rounded-lg px-3 py-1 text-sm",children:"Accept"}),r.jsx("button",{onClick:()=>j(k.id,"reject"),disabled:w.isPending,className:"btn-sm bg-red-500 hover:bg-red-600 text-white rounded-lg px-3 py-1 text-sm",children:"Reject"})]})]})},k.id)})})]}),_.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Community Suggestions"}),r.jsx("div",{className:"text-xs text-neutral-500",children:"Contributed by researchers"})]})]}),r.jsx("div",{className:"space-y-3",children:_.map(k=>{var A,P,E;return r.jsx("div",{className:"bg-neutral-50 rounded-xl p-4 border border-neutral-200",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center text-white text-xs font-bold",children:[(A=k.first_name)==null?void 0:A[0],(P=k.last_name)==null?void 0:P[0]]}),r.jsxs("span",{className:"text-sm font-medium",children:[k.first_name," ",k.last_name]}),k.institution&&r.jsxs("span",{className:"text-xs text-neutral-500",children:[" ",k.institution]})]}),r.jsxs("div",{className:"font-medium text-sm mb-2",children:[k.suggestion_type==="framework_alignment"&&"Additional Policy Frameworks",k.suggestion_type==="methods"&&"Additional Methods",k.suggestion_type==="taxon_scope"&&"Additional Taxa"]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(E=k.suggestion_data.add)==null?void 0:E.map((T,M)=>r.jsx("span",{className:"bg-white px-3 py-1 rounded-lg text-sm border border-neutral-300 font-medium",children:T},M))}),r.jsxs("div",{className:"text-xs text-neutral-500",children:["Suggested ",new Date(k.created_at).toLocaleDateString()]})]}),g&&r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>j(k.id,"accept"),disabled:w.isPending,className:"btn-sm bg-green-500 hover:bg-green-600 text-white rounded-lg px-3 py-1 text-sm",children:"Accept"}),r.jsx("button",{onClick:()=>j(k.id,"reject"),disabled:w.isPending,className:"btn-sm bg-red-500 hover:bg-red-600 text-white rounded-lg px-3 py-1 text-sm",children:"Reject"})]})]})},k.id)})})]})]}),n&&!g&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"heading-sm",children:"Suggest Metadata Improvements"}),!a&&r.jsx("button",{onClick:()=>i(!0),className:"btn-secondary text-sm",children:"+ Add Suggestion"})]}),a&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Suggestion Type"}),r.jsxs("select",{value:o,onChange:k=>{c(k.target.value),u([])},className:"input-field",children:[r.jsx("option",{value:"framework_alignment",children:"Policy Frameworks"}),r.jsx("option",{value:"methods",children:"Methods"}),r.jsx("option",{value:"taxon_scope",children:"Taxa"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Suggested ",o==="framework_alignment"?"Frameworks":o==="methods"?"Methods":"Taxa"]}),r.jsx("input",{type:"text",placeholder:"Type and press Enter to add",className:"input-field",onKeyDown:k=>{k.key==="Enter"&&k.target.value.trim()&&(u([...d,k.target.value.trim()]),k.target.value="")}}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map((k,A)=>r.jsxs("span",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-lg text-sm flex items-center gap-2",children:[k,r.jsx("button",{onClick:()=>u(d.filter((P,E)=>E!==A)),className:"text-primary-700 hover:text-primary-900",children:""})]},A))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Note (optional)"}),r.jsx("textarea",{value:m,onChange:k=>f(k.target.value),className:"input-field",rows:"2",placeholder:"Explain why you're suggesting these additions..."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:b,disabled:v.isPending,className:"btn-primary",children:v.isPending?"Submitting...":"Submit Suggestion"}),r.jsx("button",{onClick:()=>{i(!1),u([]),f("")},className:"btn-secondary",children:"Cancel"})]})]}),!a&&r.jsx("p",{className:"text-sm text-neutral-600",children:"Help improve this research's metadata by suggesting additional policy frameworks, methods, or taxonomic information."})]})]})}function Bz(){var i,o,c,d,u,m,f,g;const{id:e}=ul(),{data:t,isLoading:n}=kr({queryKey:["research",e],queryFn:()=>Li.getById(e).then(x=>x.data)});if(n)return r.jsx("div",{className:"container mx-auto px-4 py-8",children:"Loading..."});if(!t)return r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"card text-center",children:[r.jsx("p",{children:"Research not found."}),r.jsx(ne,{to:"/search",className:"btn-primary mt-4 inline-block",children:"Back to Search"})]})});const s=(i=t.geo_scope)!=null&&i.coordinates?[t.geo_scope.coordinates[1],t.geo_scope.coordinates[0]]:[0,0],a={"@context":"https://schema.org","@type":"ScholarlyArticle",headline:t.title,abstract:t.abstract,author:((o=t.authors)==null?void 0:o.map(x=>({"@type":"Person",name:x.name||`${t.first_name} ${t.last_name}`,identifier:x.orcid?`https://orcid.org/${x.orcid}`:void 0})))||[{"@type":"Person",name:`${t.first_name} ${t.last_name}`}],datePublished:t.publication_year?`${t.publication_year}-01-01`:void 0,publisher:t.journal?{"@type":"Organization",name:t.journal}:void 0,identifier:t.doi?`https://doi.org/${t.doi}`:void 0,spatialCoverage:t.geo_scope_text||void 0,keywords:((c=t.framework_alignment)==null?void 0:c.join(", "))||void 0,about:((d=t.taxon_scope)==null?void 0:d.map(x=>x.scientific_name||x.common_name).filter(Boolean).join(", "))||void 0};return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(lP,{children:[r.jsxs("title",{children:[t.title," | COMPASSID"]}),r.jsx("meta",{name:"description",content:((u=t.abstract)==null?void 0:u.substring(0,160))||t.title}),r.jsx("meta",{name:"citation_title",content:t.title}),r.jsx("meta",{name:"citation_author",content:`${t.first_name} ${t.last_name}`}),t.authors&&t.authors.map((x,v)=>r.jsx("meta",{name:"citation_author",content:x.name},`author-${v}`)),t.publication_year&&r.jsx("meta",{name:"citation_publication_date",content:`${t.publication_year}/01/01`}),t.journal&&r.jsx("meta",{name:"citation_journal_title",content:t.journal}),t.doi&&r.jsx("meta",{name:"citation_doi",content:t.doi}),t.abstract&&r.jsx("meta",{name:"citation_abstract",content:t.abstract}),r.jsx("meta",{name:"citation_online_date",content:new Date(t.created_at).toISOString().split("T")[0]}),r.jsx("meta",{name:"citation_fulltext_html_url",content:`https://compassid.org/research/${e}`}),r.jsx("meta",{name:"DC.title",content:t.title}),r.jsx("meta",{name:"DC.creator",content:`${t.first_name} ${t.last_name}`}),t.abstract&&r.jsx("meta",{name:"DC.description",content:t.abstract}),t.publication_year&&r.jsx("meta",{name:"DC.date",content:`${t.publication_year}`}),t.doi&&r.jsx("meta",{name:"DC.identifier",content:`https://doi.org/${t.doi}`}),r.jsx("meta",{name:"DC.type",content:"Text.Article"}),t.geo_scope_text&&r.jsx("meta",{name:"DC.coverage",content:t.geo_scope_text}),r.jsx("meta",{property:"og:title",content:t.title}),r.jsx("meta",{property:"og:description",content:((m=t.abstract)==null?void 0:m.substring(0,200))||t.title}),r.jsx("meta",{property:"og:type",content:"article"}),r.jsx("meta",{property:"og:url",content:`https://compassid.org/research/${e}`}),t.publication_year&&r.jsx("meta",{property:"article:published_time",content:`${t.publication_year}-01-01`}),t.authors&&t.authors.map((x,v)=>r.jsx("meta",{property:"article:author",content:x.name},`og-author-${v}`)),t.framework_alignment&&t.framework_alignment.map((x,v)=>r.jsx("meta",{property:"article:tag",content:x},`og-tag-${v}`)),r.jsx("meta",{name:"twitter:card",content:"summary"}),r.jsx("meta",{name:"twitter:title",content:t.title}),r.jsx("meta",{name:"twitter:description",content:((f=t.abstract)==null?void 0:f.substring(0,200))||t.title}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify(a)})]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-4",children:r.jsx(ne,{to:"/search",className:"text-primary-600 hover:text-primary-700",children:" Back to Search"})}),r.jsxs("div",{className:"card mb-6",children:[r.jsx("div",{className:"mb-4",children:t.verificationStatus==="author-verified"||t.verification_status==="author-verified"?r.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[r.jsx(Ez,{className:"w-4 h-4"}),"Author Verified"]}):t.aiSuggestedTags||t.verificationStatus==="ai-suggested"||t.verification_status==="ai-suggested"?r.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[r.jsx(Mz,{className:"w-4 h-4"}),"AI-Suggested Tags"]}):t.compassId?null:r.jsx("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700",children:"External Source"})}),r.jsx("h1",{className:"text-3xl font-bold mb-4",children:t.title}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Author:"})," ",t.first_name," ",t.last_name]}),t.institution&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Institution:"})," ",t.institution]}),t.publication_year&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Year:"})," ",t.publication_year]}),t.journal&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Journal:"})," ",t.journal]})]}),t.doi&&r.jsx("div",{className:"mb-4",children:r.jsxs("a",{href:`https://doi.org/${t.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm",children:["DOI: ",t.doi," "]})}),t.abstract&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Abstract"}),r.jsx("p",{className:"text-gray-700",children:t.abstract})]})]}),r.jsxs("div",{className:"card mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"COMPASS Metadata"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Policy Framework Alignment"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(g=t.framework_alignment)==null?void 0:g.map(x=>r.jsx("span",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-lg",children:x},x))})]}),t.geo_scope&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Geographic Scope"}),t.geo_scope_text&&r.jsx("p",{className:"text-sm mb-2",children:t.geo_scope_text}),r.jsx("div",{className:"h-64 rounded-lg overflow-hidden border border-gray-300",children:r.jsxs(Xo,{center:s,zoom:4,style:{height:"100%",width:"100%"},children:[r.jsx(el,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),r.jsx(Im,{position:s})]})})]}),t.taxon_scope&&t.taxon_scope.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Taxonomic Scope"}),r.jsx("div",{className:"space-y-1",children:t.taxon_scope.map((x,v)=>r.jsxs("div",{className:"text-sm",children:[x.scientific_name&&r.jsx("span",{className:"italic",children:x.scientific_name}),x.common_name&&r.jsxs("span",{children:[" (",x.common_name,")"]}),x.taxon_rank&&r.jsxs("span",{className:"text-gray-600",children:[" - ",x.taxon_rank]})]},v))})]}),t.ecosystem_type&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Ecosystem Type"}),r.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-lg text-sm",children:t.ecosystem_type})]}),(t.temporal_start||t.temporal_end)&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Temporal Coverage"}),r.jsxs("p",{className:"text-sm",children:[t.temporal_start&&new Date(t.temporal_start).toLocaleDateString(),t.temporal_start&&t.temporal_end&&" - ",t.temporal_end&&new Date(t.temporal_end).toLocaleDateString()]})]}),t.methods&&t.methods.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Methods"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.methods.map(x=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-lg text-sm",children:x},x))})]})]})]}),t.authors&&t.authors.length>0&&r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Authors"}),r.jsx("div",{className:"space-y-2",children:t.authors.map((x,v)=>r.jsxs("div",{className:"text-sm",children:[x.name,x.orcid&&r.jsx("a",{href:`https://orcid.org/${x.orcid}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-primary-600 hover:text-primary-700",children:"ORCID "})]},v))})]}),r.jsx(Fz,{researchId:e,researchOwnerId:t.user_id})]})]})}var uh=e=>e.type==="checkbox",Rl=e=>e instanceof Date,Kn=e=>e==null;const nA=e=>typeof e=="object";var qr=e=>!Kn(e)&&!Array.isArray(e)&&nA(e)&&!Rl(e),$z=e=>qr(e)&&e.target?uh(e.target)?e.target.checked:e.target.value:e,zz=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Uz=(e,t)=>e.has(zz(t)),Gz=e=>{const t=e.constructor&&e.constructor.prototype;return qr(t)&&t.hasOwnProperty("isPrototypeOf")},Oj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dn(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Oj&&(e instanceof Blob||s))&&(n||qr(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!Gz(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=dn(e[a]));else return e;return t}var px=e=>/^\w*$/.test(e),Gr=e=>e===void 0,Tj=e=>Array.isArray(e)?e.filter(Boolean):[],Lj=e=>Tj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(e,t,n)=>{if(!t||!qr(e))return n;const s=(px(t)?[t]:Lj(t)).reduce((a,i)=>Kn(a)?a:a[i],e);return Gr(s)||s===e?Gr(e[t])?n:e[t]:s},Ka=e=>typeof e=="boolean",pr=(e,t,n)=>{let s=-1;const a=px(t)?[t]:Lj(t),i=a.length,o=i-1;for(;++s<i;){const c=a[s];let d=n;if(s!==o){const u=e[c];d=qr(u)||Array.isArray(u)?u:isNaN(+a[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const zS={BLUR:"blur",FOCUS_OUT:"focusout"},Aa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Wz=tt.createContext(null);Wz.displayName="HookFormContext";var Hz=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Aa.all&&(t._proxyFormState[o]=!s||Aa.all),e[o]}});return a};const qz=typeof window<"u"?tt.useLayoutEffect:tt.useEffect;var Ts=e=>typeof e=="string",Vz=(e,t,n,s,a)=>Ts(e)?(s&&t.watch.add(e),Xe(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Xe(n,i))):(s&&(t.watchAll=!0),n),yb=e=>Kn(e)||!nA(e);function wo(e,t,n=new WeakSet){if(yb(e)||yb(t))return e===t;if(Rl(e)&&Rl(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const c=t[i];if(Rl(o)&&Rl(c)||qr(o)&&qr(c)||Array.isArray(o)&&Array.isArray(c)?!wo(o,c,n):o!==c)return!1}}return!0}var Kz=(e,t,n,s,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:a||!0}}:{},hm=e=>Array.isArray(e)?e:[e],US=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function sA(e,t){const n={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s],i=t[s];if(a&&qr(a)&&i){const o=sA(a,i);qr(o)&&(n[s]=o)}else e[s]&&(n[s]=i)}return n}var ds=e=>qr(e)&&!Object.keys(e).length,Mj=e=>e.type==="file",Ea=e=>typeof e=="function",Xp=e=>{if(!Oj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aA=e=>e.type==="select-multiple",Dj=e=>e.type==="radio",Zz=e=>Dj(e)||uh(e),xy=e=>Xp(e)&&e.isConnected;function Yz(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Gr(e)?s++:e[t[s++]];return e}function Qz(e){for(const t in e)if(e.hasOwnProperty(t)&&!Gr(e[t]))return!1;return!0}function Ur(e,t){const n=Array.isArray(t)?t:px(t)?[t]:Lj(t),s=n.length===1?e:Yz(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(qr(s)&&ds(s)||Array.isArray(s)&&Qz(s))&&Ur(e,n.slice(0,-1)),e}var Jz=e=>{for(const t in e)if(Ea(e[t]))return!0;return!1};function iA(e){return Array.isArray(e)||qr(e)&&!Jz(e)}function vb(e,t={}){for(const n in e)iA(e[n])?(t[n]=Array.isArray(e[n])?[]:{},vb(e[n],t[n])):Kn(e[n])||(t[n]=!0);return t}function Gc(e,t,n){n||(n=vb(t));for(const s in e)iA(e[s])?Gr(t)||yb(n[s])?n[s]=vb(e[s],Array.isArray(e[s])?[]:{}):Gc(e[s],Kn(t)?{}:t[s],n[s]):n[s]=!wo(e[s],t[s]);return n}const GS={value:!1,isValid:!1},WS={value:!0,isValid:!0};var oA=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gr(e[0].attributes.value)?Gr(e[0].value)||e[0].value===""?WS:{value:e[0].value,isValid:!0}:WS:GS}return GS},lA=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Gr(e)?e:t?e===""?NaN:e&&+e:n&&Ts(e)?new Date(e):s?s(e):e;const HS={isValid:!1,value:null};var cA=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,HS):HS;function qS(e){const t=e.ref;return Mj(t)?t.files:Dj(t)?cA(e.refs).value:aA(t)?[...t.selectedOptions].map(({value:n})=>n):uh(t)?oA(e.refs).value:lA(Gr(t.value)?e.ref.value:t.value,e)}var Xz=(e,t,n,s)=>{const a={};for(const i of e){const o=Xe(t,i);o&&pr(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},eg=e=>e instanceof RegExp,Ou=e=>Gr(e)?e:eg(e)?e.source:qr(e)?eg(e.value)?e.value.source:e.value:e,VS=e=>({isOnSubmit:!e||e===Aa.onSubmit,isOnBlur:e===Aa.onBlur,isOnChange:e===Aa.onChange,isOnAll:e===Aa.all,isOnTouch:e===Aa.onTouched});const KS="AsyncFunction";var eU=e=>!!e&&!!e.validate&&!!(Ea(e.validate)&&e.validate.constructor.name===KS||qr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===KS)),tU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ZS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const fm=(e,t,n,s)=>{for(const a of n||Object.keys(e)){const i=Xe(e,a);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(fm(c,t))break}else if(qr(c)&&fm(c,t))break}}};function YS(e,t,n){const s=Xe(e,n);if(s||px(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=Xe(t,i),c=Xe(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};a.pop()}return{name:n}}var rU=(e,t,n,s)=>{n(e);const{name:a,...i}=e;return ds(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||Aa.all))},nU=(e,t,n)=>!e||!t||e===t||hm(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),sU=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,aU=(e,t)=>!Tj(Xe(e,t)).length&&Ur(e,t),iU=(e,t,n)=>{const s=hm(Xe(e,n));return pr(s,"root",t[n]),pr(e,n,s),e};function QS(e,t,n="validate"){if(Ts(e)||Array.isArray(e)&&e.every(Ts)||Ka(e)&&!e)return{type:n,message:Ts(e)?e:"",ref:t}}var Fc=e=>qr(e)&&!eg(e)?e:{value:e,message:""},JS=async(e,t,n,s,a,i)=>{const{ref:o,refs:c,required:d,maxLength:u,minLength:m,min:f,max:g,pattern:x,validate:v,name:w,valueAsNumber:b,mount:j}=e._f,S=Xe(n,w);if(!j||t.has(w))return{};const _=c?c[0]:o,k=B=>{a&&_.reportValidity&&(_.setCustomValidity(Ka(B)?"":B||""),_.reportValidity())},A={},P=Dj(o),E=uh(o),T=P||E,M=(b||Mj(o))&&Gr(o.value)&&Gr(S)||Xp(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,U=Kz.bind(null,w,s,A),D=(B,z,X,le=gi.maxLength,$=gi.minLength)=>{const ae=B?z:X;A[w]={type:B?le:$,message:ae,ref:o,...U(B?le:$,ae)}};if(i?!Array.isArray(S)||!S.length:d&&(!T&&(M||Kn(S))||Ka(S)&&!S||E&&!oA(c).isValid||P&&!cA(c).isValid)){const{value:B,message:z}=Ts(d)?{value:!!d,message:d}:Fc(d);if(B&&(A[w]={type:gi.required,message:z,ref:_,...U(gi.required,z)},!s))return k(z),A}if(!M&&(!Kn(f)||!Kn(g))){let B,z;const X=Fc(g),le=Fc(f);if(!Kn(S)&&!isNaN(S)){const $=o.valueAsNumber||S&&+S;Kn(X.value)||(B=$>X.value),Kn(le.value)||(z=$<le.value)}else{const $=o.valueAsDate||new Date(S),ae=ce=>new Date(new Date().toDateString()+" "+ce),G=o.type=="time",ie=o.type=="week";Ts(X.value)&&S&&(B=G?ae(S)>ae(X.value):ie?S>X.value:$>new Date(X.value)),Ts(le.value)&&S&&(z=G?ae(S)<ae(le.value):ie?S<le.value:$<new Date(le.value))}if((B||z)&&(D(!!B,X.message,le.message,gi.max,gi.min),!s))return k(A[w].message),A}if((u||m)&&!M&&(Ts(S)||i&&Array.isArray(S))){const B=Fc(u),z=Fc(m),X=!Kn(B.value)&&S.length>+B.value,le=!Kn(z.value)&&S.length<+z.value;if((X||le)&&(D(X,B.message,z.message),!s))return k(A[w].message),A}if(x&&!M&&Ts(S)){const{value:B,message:z}=Fc(x);if(eg(B)&&!S.match(B)&&(A[w]={type:gi.pattern,message:z,ref:o,...U(gi.pattern,z)},!s))return k(z),A}if(v){if(Ea(v)){const B=await v(S,n),z=QS(B,_);if(z&&(A[w]={...z,...U(gi.validate,z.message)},!s))return k(z.message),A}else if(qr(v)){let B={};for(const z in v){if(!ds(B)&&!s)break;const X=QS(await v[z](S,n),_,z);X&&(B={...X,...U(z,X.message)},k(X.message),s&&(A[w]=B))}if(!ds(B)&&(A[w]={ref:_,...B},!s))return A}}return k(!0),A};const oU={mode:Aa.onSubmit,reValidateMode:Aa.onChange,shouldFocusError:!0};function lU(e={}){let t={...oU,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ea(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=qr(t.defaultValues)||qr(t.values)?dn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:dn(a),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...m};const g={array:US(),state:US()},x=t.criteriaMode===Aa.all,v=W=>R=>{clearTimeout(u),u=setTimeout(W,R)},w=async W=>{if(!t.disabled&&(m.isValid||f.isValid||W)){const R=t.resolver?ds((await E()).errors):await M(s,!0);R!==n.isValid&&g.state.next({isValid:R})}},b=(W,R)=>{!t.disabled&&(m.isValidating||m.validatingFields||f.isValidating||f.validatingFields)&&((W||Array.from(c.mount)).forEach(ee=>{ee&&(R?pr(n.validatingFields,ee,R):Ur(n.validatingFields,ee))}),g.state.next({validatingFields:n.validatingFields,isValidating:!ds(n.validatingFields)}))},j=(W,R=[],ee,se,we=!0,ue=!0)=>{if(se&&ee&&!t.disabled){if(o.action=!0,ue&&Array.isArray(Xe(s,W))){const ye=ee(Xe(s,W),se.argA,se.argB);we&&pr(s,W,ye)}if(ue&&Array.isArray(Xe(n.errors,W))){const ye=ee(Xe(n.errors,W),se.argA,se.argB);we&&pr(n.errors,W,ye),aU(n.errors,W)}if((m.touchedFields||f.touchedFields)&&ue&&Array.isArray(Xe(n.touchedFields,W))){const ye=ee(Xe(n.touchedFields,W),se.argA,se.argB);we&&pr(n.touchedFields,W,ye)}(m.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Gc(a,i)),g.state.next({name:W,isDirty:D(W,R),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else pr(i,W,R)},S=(W,R)=>{pr(n.errors,W,R),g.state.next({errors:n.errors})},_=W=>{n.errors=W,g.state.next({errors:n.errors,isValid:!1})},k=(W,R,ee,se)=>{const we=Xe(s,W);if(we){const ue=Xe(i,W,Gr(ee)?Xe(a,W):ee);Gr(ue)||se&&se.defaultChecked||R?pr(i,W,R?ue:qS(we._f)):X(W,ue),o.mount&&w()}},A=(W,R,ee,se,we)=>{let ue=!1,ye=!1;const He={name:W};if(!t.disabled){if(!ee||se){(m.isDirty||f.isDirty)&&(ye=n.isDirty,n.isDirty=He.isDirty=D(),ue=ye!==He.isDirty);const ut=wo(Xe(a,W),R);ye=!!Xe(n.dirtyFields,W),ut?Ur(n.dirtyFields,W):pr(n.dirtyFields,W,!0),He.dirtyFields=n.dirtyFields,ue=ue||(m.dirtyFields||f.dirtyFields)&&ye!==!ut}if(ee){const ut=Xe(n.touchedFields,W);ut||(pr(n.touchedFields,W,ee),He.touchedFields=n.touchedFields,ue=ue||(m.touchedFields||f.touchedFields)&&ut!==ee)}ue&&we&&g.state.next(He)}return ue?He:{}},P=(W,R,ee,se)=>{const we=Xe(n.errors,W),ue=(m.isValid||f.isValid)&&Ka(R)&&n.isValid!==R;if(t.delayError&&ee?(d=v(()=>S(W,ee)),d(t.delayError)):(clearTimeout(u),d=null,ee?pr(n.errors,W,ee):Ur(n.errors,W)),(ee?!wo(we,ee):we)||!ds(se)||ue){const ye={...se,...ue&&Ka(R)?{isValid:R}:{},errors:n.errors,name:W};n={...n,...ye},g.state.next(ye)}},E=async W=>{b(W,!0);const R=await t.resolver(i,t.context,Xz(W||c.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return b(W),R},T=async W=>{const{errors:R}=await E(W);if(W)for(const ee of W){const se=Xe(R,ee);se?pr(n.errors,ee,se):Ur(n.errors,ee)}else n.errors=R;return R},M=async(W,R,ee={valid:!0})=>{for(const se in W){const we=W[se];if(we){const{_f:ue,...ye}=we;if(ue){const He=c.array.has(ue.name),ut=we._f&&eU(we._f);ut&&m.validatingFields&&b([ue.name],!0);const Bt=await JS(we,c.disabled,i,x,t.shouldUseNativeValidation&&!R,He);if(ut&&m.validatingFields&&b([ue.name]),Bt[ue.name]&&(ee.valid=!1,R))break;!R&&(Xe(Bt,ue.name)?He?iU(n.errors,Bt,ue.name):pr(n.errors,ue.name,Bt[ue.name]):Ur(n.errors,ue.name))}!ds(ye)&&await M(ye,R,ee)}}return ee.valid},U=()=>{for(const W of c.unMount){const R=Xe(s,W);R&&(R._f.refs?R._f.refs.every(ee=>!xy(ee)):!xy(R._f.ref))&&rt(W)}c.unMount=new Set},D=(W,R)=>!t.disabled&&(W&&R&&pr(i,W,R),!wo(ce(),a)),B=(W,R,ee)=>Vz(W,c,{...o.mount?i:Gr(R)?a:Ts(W)?{[W]:R}:R},ee,R),z=W=>Tj(Xe(o.mount?i:a,W,t.shouldUnregister?Xe(a,W,[]):[])),X=(W,R,ee={})=>{const se=Xe(s,W);let we=R;if(se){const ue=se._f;ue&&(!ue.disabled&&pr(i,W,lA(R,ue)),we=Xp(ue.ref)&&Kn(R)?"":R,aA(ue.ref)?[...ue.ref.options].forEach(ye=>ye.selected=we.includes(ye.value)):ue.refs?uh(ue.ref)?ue.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(we)?ye.checked=!!we.find(He=>He===ye.value):ye.checked=we===ye.value||!!we)}):ue.refs.forEach(ye=>ye.checked=ye.value===we):Mj(ue.ref)?ue.ref.value="":(ue.ref.value=we,ue.ref.type||g.state.next({name:W,values:dn(i)})))}(ee.shouldDirty||ee.shouldTouch)&&A(W,we,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&ie(W)},le=(W,R,ee)=>{for(const se in R){if(!R.hasOwnProperty(se))return;const we=R[se],ue=W+"."+se,ye=Xe(s,ue);(c.array.has(W)||qr(we)||ye&&!ye._f)&&!Rl(we)?le(ue,we,ee):X(ue,we,ee)}},$=(W,R,ee={})=>{const se=Xe(s,W),we=c.array.has(W),ue=dn(R);pr(i,W,ue),we?(g.array.next({name:W,values:dn(i)}),(m.isDirty||m.dirtyFields||f.isDirty||f.dirtyFields)&&ee.shouldDirty&&g.state.next({name:W,dirtyFields:Gc(a,i),isDirty:D(W,ue)})):se&&!se._f&&!Kn(ue)?le(W,ue,ee):X(W,ue,ee),ZS(W,c)&&g.state.next({...n,name:W}),g.state.next({name:o.mount?W:void 0,values:dn(i)})},ae=async W=>{o.mount=!0;const R=W.target;let ee=R.name,se=!0;const we=Xe(s,ee),ue=ut=>{se=Number.isNaN(ut)||Rl(ut)&&isNaN(ut.getTime())||wo(ut,Xe(i,ee,ut))},ye=VS(t.mode),He=VS(t.reValidateMode);if(we){let ut,Bt;const qt=R.type?qS(we._f):$z(W),rr=W.type===zS.BLUR||W.type===zS.FOCUS_OUT,K=!tU(we._f)&&!t.resolver&&!Xe(n.errors,ee)&&!we._f.deps||sU(rr,Xe(n.touchedFields,ee),n.isSubmitted,He,ye),Se=ZS(ee,c,rr);pr(i,ee,qt),rr?(!R||!R.readOnly)&&(we._f.onBlur&&we._f.onBlur(W),d&&d(0)):we._f.onChange&&we._f.onChange(W);const Oe=A(ee,qt,rr),lt=!ds(Oe)||Se;if(!rr&&g.state.next({name:ee,type:W.type,values:dn(i)}),K)return(m.isValid||f.isValid)&&(t.mode==="onBlur"?rr&&w():rr||w()),lt&&g.state.next({name:ee,...Se?{}:Oe});if(!rr&&Se&&g.state.next({...n}),t.resolver){const{errors:Qt}=await E([ee]);if(ue(qt),se){const $t=YS(n.errors,s,ee),an=YS(Qt,s,$t.name||ee);ut=an.error,ee=an.name,Bt=ds(Qt)}}else b([ee],!0),ut=(await JS(we,c.disabled,i,x,t.shouldUseNativeValidation))[ee],b([ee]),ue(qt),se&&(ut?Bt=!1:(m.isValid||f.isValid)&&(Bt=await M(s,!0)));se&&(we._f.deps&&(!Array.isArray(we._f.deps)||we._f.deps.length>0)&&ie(we._f.deps),P(ee,Bt,ut,Oe))}},G=(W,R)=>{if(Xe(n.errors,R)&&W.focus)return W.focus(),1},ie=async(W,R={})=>{let ee,se;const we=hm(W);if(t.resolver){const ue=await T(Gr(W)?W:we);ee=ds(ue),se=W?!we.some(ye=>Xe(ue,ye)):ee}else W?(se=(await Promise.all(we.map(async ue=>{const ye=Xe(s,ue);return await M(ye&&ye._f?{[ue]:ye}:ye)}))).every(Boolean),!(!se&&!n.isValid)&&w()):se=ee=await M(s);return g.state.next({...!Ts(W)||(m.isValid||f.isValid)&&ee!==n.isValid?{}:{name:W},...t.resolver||!W?{isValid:ee}:{},errors:n.errors}),R.shouldFocus&&!se&&fm(s,G,W?we:c.mount),se},ce=(W,R)=>{let ee={...o.mount?i:a};return R&&(ee=sA(R.dirtyFields?n.dirtyFields:n.touchedFields,ee)),Gr(W)?ee:Ts(W)?Xe(ee,W):W.map(se=>Xe(ee,se))},I=(W,R)=>({invalid:!!Xe((R||n).errors,W),isDirty:!!Xe((R||n).dirtyFields,W),error:Xe((R||n).errors,W),isValidating:!!Xe(n.validatingFields,W),isTouched:!!Xe((R||n).touchedFields,W)}),pe=W=>{W&&hm(W).forEach(R=>Ur(n.errors,R)),g.state.next({errors:W?n.errors:{}})},Q=(W,R,ee)=>{const se=(Xe(s,W,{_f:{}})._f||{}).ref,we=Xe(n.errors,W)||{},{ref:ue,message:ye,type:He,...ut}=we;pr(n.errors,W,{...ut,...R,ref:se}),g.state.next({name:W,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&se&&se.focus&&se.focus()},xe=(W,R)=>Ea(W)?g.state.subscribe({next:ee=>"values"in ee&&W(B(void 0,R),ee)}):B(W,R,!0),je=W=>g.state.subscribe({next:R=>{nU(W.name,R.name,W.exact)&&rU(R,W.formState||m,Qe,W.reRenderRoot)&&W.callback({values:{...i},...n,...R,defaultValues:a})}}).unsubscribe,Re=W=>(o.mount=!0,f={...f,...W.formState},je({...W,formState:f})),rt=(W,R={})=>{for(const ee of W?hm(W):c.mount)c.mount.delete(ee),c.array.delete(ee),R.keepValue||(Ur(s,ee),Ur(i,ee)),!R.keepError&&Ur(n.errors,ee),!R.keepDirty&&Ur(n.dirtyFields,ee),!R.keepTouched&&Ur(n.touchedFields,ee),!R.keepIsValidating&&Ur(n.validatingFields,ee),!t.shouldUnregister&&!R.keepDefaultValue&&Ur(a,ee);g.state.next({values:dn(i)}),g.state.next({...n,...R.keepDirty?{isDirty:D()}:{}}),!R.keepIsValid&&w()},Z=({disabled:W,name:R})=>{(Ka(W)&&o.mount||W||c.disabled.has(R))&&(W?c.disabled.add(R):c.disabled.delete(R))},J=(W,R={})=>{let ee=Xe(s,W);const se=Ka(R.disabled)||Ka(t.disabled);return pr(s,W,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:W}},name:W,mount:!0,...R}}),c.mount.add(W),ee?Z({disabled:Ka(R.disabled)?R.disabled:t.disabled,name:W}):k(W,!0,R.value),{...se?{disabled:R.disabled||t.disabled}:{},...t.progressive?{required:!!R.required,min:Ou(R.min),max:Ou(R.max),minLength:Ou(R.minLength),maxLength:Ou(R.maxLength),pattern:Ou(R.pattern)}:{},name:W,onChange:ae,onBlur:ae,ref:we=>{if(we){J(W,R),ee=Xe(s,W);const ue=Gr(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,ye=Zz(ue),He=ee._f.refs||[];if(ye?He.find(ut=>ut===ue):ue===ee._f.ref)return;pr(s,W,{_f:{...ee._f,...ye?{refs:[...He.filter(xy),ue,...Array.isArray(Xe(a,W))?[{}]:[]],ref:{type:ue.type,name:W}}:{ref:ue}}}),k(W,!1,void 0,ue)}else ee=Xe(s,W,{}),ee._f&&(ee._f.mount=!1),(t.shouldUnregister||R.shouldUnregister)&&!(Uz(c.array,W)&&o.action)&&c.unMount.add(W)}}},De=()=>t.shouldFocusError&&fm(s,G,c.mount),Fe=W=>{Ka(W)&&(g.state.next({disabled:W}),fm(s,(R,ee)=>{const se=Xe(s,ee);se&&(R.disabled=se._f.disabled||W,Array.isArray(se._f.refs)&&se._f.refs.forEach(we=>{we.disabled=se._f.disabled||W}))},0,!1))},ge=(W,R)=>async ee=>{let se;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let we=dn(i);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:ye}=await E();n.errors=ue,we=dn(ye)}else await M(s);if(c.disabled.size)for(const ue of c.disabled)Ur(we,ue);if(Ur(n.errors,"root"),ds(n.errors)){g.state.next({errors:{}});try{await W(we,ee)}catch(ue){se=ue}}else R&&await R({...n.errors},ee),De(),setTimeout(De);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},te=(W,R={})=>{Xe(s,W)&&(Gr(R.defaultValue)?$(W,dn(Xe(a,W))):($(W,R.defaultValue),pr(a,W,dn(R.defaultValue))),R.keepTouched||Ur(n.touchedFields,W),R.keepDirty||(Ur(n.dirtyFields,W),n.isDirty=R.defaultValue?D(W,dn(Xe(a,W))):D()),R.keepError||(Ur(n.errors,W),m.isValid&&w()),g.state.next({...n}))},Te=(W,R={})=>{const ee=W?dn(W):a,se=dn(ee),we=ds(W),ue=we?a:se;if(R.keepDefaultValues||(a=ee),!R.keepValues){if(R.keepDirtyValues){const ye=new Set([...c.mount,...Object.keys(Gc(a,i))]);for(const He of Array.from(ye))Xe(n.dirtyFields,He)?pr(ue,He,Xe(i,He)):$(He,Xe(ue,He))}else{if(Oj&&Gr(W))for(const ye of c.mount){const He=Xe(s,ye);if(He&&He._f){const ut=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(Xp(ut)){const Bt=ut.closest("form");if(Bt){Bt.reset();break}}}}if(R.keepFieldsRef)for(const ye of c.mount)$(ye,Xe(ue,ye));else s={}}i=t.shouldUnregister?R.keepDefaultValues?dn(a):{}:dn(ue),g.array.next({values:{...ue}}),g.state.next({values:{...ue}})}c={mount:R.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!t.shouldUnregister,g.state.next({submitCount:R.keepSubmitCount?n.submitCount:0,isDirty:we?!1:R.keepDirty?n.isDirty:!!(R.keepDefaultValues&&!wo(W,a)),isSubmitted:R.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:we?{}:R.keepDirtyValues?R.keepDefaultValues&&i?Gc(a,i):n.dirtyFields:R.keepDefaultValues&&W?Gc(a,W):R.keepDirty?n.dirtyFields:{},touchedFields:R.keepTouched?n.touchedFields:{},errors:R.keepErrors?n.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Le=(W,R)=>Te(Ea(W)?W(i):W,R),ze=(W,R={})=>{const ee=Xe(s,W),se=ee&&ee._f;if(se){const we=se.refs?se.refs[0]:se.ref;we.focus&&(we.focus(),R.shouldSelect&&Ea(we.select)&&we.select())}},Qe=W=>{n={...n,...W}},At={control:{register:J,unregister:rt,getFieldState:I,handleSubmit:ge,setError:Q,_subscribe:je,_runSchema:E,_focusError:De,_getWatch:B,_getDirty:D,_setValid:w,_setFieldArray:j,_setDisabledField:Z,_setErrors:_,_getFieldArray:z,_reset:Te,_resetDefaultValues:()=>Ea(t.defaultValues)&&t.defaultValues().then(W=>{Le(W,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:Fe,_subjects:g,_proxyFormState:m,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(W){o=W},get _defaultValues(){return a},get _names(){return c},set _names(W){c=W},get _formState(){return n},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:Re,trigger:ie,register:J,handleSubmit:ge,watch:xe,setValue:$,getValues:ce,reset:Le,resetField:te,clearErrors:pe,unregister:rt,setError:Q,setFocus:ze,getFieldState:I};return{...At,formControl:At}}function dA(e={}){const t=tt.useRef(void 0),n=tt.useRef(void 0),[s,a]=tt.useState({isDirty:!1,isValidating:!1,isLoading:Ea(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ea(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ea(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=lU(e);t.current={...c,formState:s}}const i=t.current.control;return i._options=e,qz(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),tt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),tt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),tt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),tt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),tt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),tt.useEffect(()=>{e.values&&!wo(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),tt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Hz(s,i),t.current}function cU(){const{register:e,handleSubmit:t,formState:{errors:n}}=dA(),{login:s}=Ot(),a=Yt(),[i,o]=p.useState(""),[c,d]=p.useState(!1),u=async m=>{var f,g;try{d(!0),o(""),await s(m),a("/dashboard")}catch(x){o(((g=(f=x.response)==null?void 0:f.data)==null?void 0:g.error)||"Login failed")}finally{d(!1)}};return r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-md mx-auto card",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Login"}),i&&r.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4",children:i}),r.jsxs("form",{onSubmit:t(u),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),r.jsx("input",{type:"email",...e("email",{required:"Email is required"}),className:"input-field"}),n.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),r.jsx("input",{type:"password",...e("password",{required:"Password is required"}),className:"input-field"}),n.password&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.password.message})]}),r.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full",children:c?"Logging in...":"Login"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",r.jsx(ne,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Register here"})]})}),!1]})})}function dU(){const{register:e,handleSubmit:t,formState:{errors:n},watch:s}=dA(),{register:a,logout:i,isAuthenticated:o}=Ot();Yt();const[c,d]=p.useState(""),[u,m]=p.useState(!1);if(s("password"),o)return r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-md mx-auto card text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Already Logged In"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You're already logged in. Please log out first to create a new account."}),r.jsx("button",{onClick:async()=>{await i(),window.location.reload()},className:"btn-primary w-full",children:"Logout and Register New Account"})]})});const f=async g=>{var x,v;try{m(!0),d(""),await a(g),window.location.href="/dashboard"}catch(w){d(((v=(x=w.response)==null?void 0:x.data)==null?void 0:v.error)||"Registration failed")}finally{m(!1)}};return r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-md mx-auto card",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Register"}),c&&r.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4",children:c}),r.jsxs("form",{onSubmit:t(f),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),r.jsx("input",{type:"email",...e("email",{required:"Email is required"}),className:"input-field"}),n.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password *"}),r.jsx("input",{type:"password",...e("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"input-field"}),n.password&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.password.message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),r.jsx("input",{type:"text",...e("first_name"),className:"input-field"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),r.jsx("input",{type:"text",...e("last_name"),className:"input-field"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Institution"}),r.jsx("input",{type:"text",...e("institution"),className:"input-field",placeholder:"University, Research Center, NGO..."})]}),r.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full",children:u?"Creating account...":"Create Account"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",r.jsx(ne,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Login here"})]})})]})})}function uU({isOpen:e,onClose:t}){var S,_,k,A,P;const n=ml(),[s,a]=p.useState("frameworks"),[i,o]=p.useState({}),[c,d]=p.useState({frameworks:[],taxa:[],geographies:[],ecosystems:[],methods:[],keywords:[]}),{data:u}=kr({queryKey:["userInterests"],queryFn:()=>Xl.getUserInterests().then(E=>E.data.interests),enabled:e}),{data:m,isLoading:f}=kr({queryKey:["availableInterests",s,i[s]],queryFn:()=>Xl.getAvailable({q:i[s]||"",type:s}).then(E=>E.data),enabled:e&&(((S=i[s])==null?void 0:S.length)>=2||!1)}),g=Ti({mutationFn:E=>Xl.updateInterests({interests:E}),onSuccess:()=>{n.invalidateQueries(["userInterests"]),n.invalidateQueries(["activityFeed"]),t()}});p.useEffect(()=>{u&&d(u)},[u]);const x=(E,T)=>{d(M=>({...M,[E]:M[E].includes(T)?M[E].filter(U=>U!==T):[...M[E],T]}))},v=()=>{g.mutate(c)},w=E=>{const T=(m==null?void 0:m[E])||[],M=i[E]||"";return M?T.filter(U=>U.toLowerCase().includes(M.toLowerCase())):T},b=[{id:"frameworks",label:"Frameworks",icon:cr},{id:"taxa",label:"Taxa",icon:Cr},{id:"geographies",label:"Geographies",icon:Wt},{id:"ecosystems",label:"Ecosystems",icon:Ct},{id:"methods",label:"Methods",icon:Rd},{id:"keywords",label:"Keywords",icon:Rd}],j=E=>{var T;return((T=c[E])==null?void 0:T.length)||0};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Your Interests"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Follow topics to get personalized activity feed updates"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]}),r.jsx("div",{className:"flex gap-1 px-6 pt-4 border-b border-gray-200 overflow-x-auto",children:b.map(E=>{const T=E.icon,M=j(E.id);return r.jsxs("button",{onClick:()=>a(E.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors relative whitespace-nowrap ${s===E.id?"text-primary-600 border-b-2 border-primary-600 -mb-px":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(T,{className:"w-4 h-4"}),E.label,M>0&&r.jsx("span",{className:"bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:M})]},E.id)})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:`Search ${(_=b.find(E=>E.id===s))==null?void 0:_.label.toLowerCase()}...`,value:i[s]||"",onChange:E=>o(T=>({...T,[s]:E.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),((k=c[s])==null?void 0:k.length)>0&&r.jsx("div",{className:"mb-4 p-3 bg-primary-50 rounded-lg",children:r.jsxs("p",{className:"text-sm font-medium text-primary-900",children:[c[s].length," ",(A=b.find(E=>E.id===s))==null?void 0:A.label," selected"]})}),f?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-4",children:"Loading options..."})]}):m?r.jsx(r.Fragment,{children:s==="keywords"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Custom Keywords"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"Enter a keyword...",onKeyPress:E=>{E.key==="Enter"&&E.target.value.trim()&&(x("keywords",E.target.value.trim()),E.target.value="")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),r.jsx("button",{onClick:E=>{const T=E.target.previousElementSibling;T.value.trim()&&(x("keywords",T.value.trim()),T.value="")},className:"px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Add"})]})]}),c.keywords.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Keywords (",c.keywords.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:c.keywords.map(E=>r.jsxs("button",{onClick:()=>x("keywords",E),className:"px-3 py-1.5 bg-primary-100 text-primary-700 rounded-full text-sm font-medium hover:bg-primary-200 transition-colors flex items-center gap-2",children:[E,r.jsx(Rt,{className:"w-4 h-4"})]},E))})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[w(s).length," options available"]}),r.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:w(s).length===0?r.jsx("div",{className:"col-span-2 text-center py-12 text-gray-500",children:((P=m[s])==null?void 0:P.length)>0?"No matches found for your search":"No options available yet. Add research to populate this list."}):w(s).map(E=>{var M;const T=(M=c[s])==null?void 0:M.includes(E);return r.jsx("button",{onClick:()=>x(s,E),className:`px-4 py-3 border-2 rounded-lg text-left transition-all ${T?"border-primary-500 bg-primary-50 text-primary-900":"border-gray-200 hover:border-gray-300 text-gray-900"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${T?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:T&&r.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 12 12",children:r.jsx("path",{d:"M10 3L4.5 8.5 2 6",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),r.jsx("span",{className:"font-medium text-sm break-words",children:E})]})},E)})})]})}):r.jsx("div",{className:"text-center py-12 text-gray-500",children:"Unable to load options"})]}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[Object.values(c).flat().length," interests selected"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:v,disabled:g.isPending,className:"px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors disabled:opacity-50",children:g.isPending?"Saving...":"Save Changes"})]})]})]})]})}):null}delete Ui.Icon.Default.prototype._getIconUrl;Ui.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});function mU(){var B,z,X,le,$,ae,G,ie,ce,I,pe;const{user:e}=Ot(),t=Yt(),[n,s]=p.useState(!1),[a,i]=p.useState("overview"),[o,c]=p.useState(!0),[d,u]=p.useState(null),[m,f]=p.useState(!1),{data:g}=kr({queryKey:["profile"],queryFn:()=>ei.getProfile().then(Q=>Q.data)}),{data:x}=kr({queryKey:["myResearch"],queryFn:()=>Li.getMyResearch().then(Q=>Q.data),enabled:!!e}),{data:v}=kr({queryKey:["userInterests"],queryFn:()=>Xl.getUserInterests().then(Q=>Q.data.interests),enabled:!!e}),{data:w}=kr({queryKey:["activityFeed"],queryFn:()=>Xl.getFeed({page:1,limit:20}).then(Q=>Q.data),enabled:!!e&&a==="feed"}),{data:b}=kr({queryKey:["trendingTopics"],queryFn:()=>Xl.getTrending({limit:10}).then(Q=>Q.data.trending),enabled:!!e}),j=(x==null?void 0:x.results)||[],S=[],_=(w==null?void 0:w.feed)||[],k={users:[],frameworks:(v==null?void 0:v.frameworks)||[],topics:[...(v==null?void 0:v.taxa)||[],...(v==null?void 0:v.keywords)||[]]},A=(Q,xe)=>!Q||!xe?Q||[]:Q.filter(je=>!xe.includes(je.value)),P=A(b==null?void 0:b.frameworks,v==null?void 0:v.frameworks),E=A(b==null?void 0:b.taxa,v==null?void 0:v.taxa),T=A(b==null?void 0:b.keywords,v==null?void 0:v.keywords),M=()=>{var Q;(Q=g==null?void 0:g.user)!=null&&Q.compass_id&&(navigator.clipboard.writeText(`https://compassid.org/${g.user.compass_id}`),s(!0),setTimeout(()=>s(!1),2e3))},U=()=>{var je,Re,rt;let Q=0,xe=6;return(je=g==null?void 0:g.user)!=null&&je.first_name&&Q++,(Re=g==null?void 0:g.user)!=null&&Re.institution&&Q++,(rt=g==null?void 0:g.user)!=null&&rt.compass_id&&Q++,Math.round(Q/xe*100)},D=U()<100;return r.jsxs(r.Fragment,{children:[r.jsx(uU,{isOpen:m,onClose:()=>f(!1)}),r.jsxs("div",{className:"min-h-screen bg-white",children:[D&&r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-white shadow-sm flex items-center justify-center",children:r.jsx(FP,{className:"w-6 h-6 text-primary-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Complete Your Profile"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Your profile is ",U(),"% complete. Add more information to increase your visibility."]})]})]}),r.jsx("button",{onClick:()=>t("/dashboard/profile/edit"),className:"px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Complete Profile"})]})})}),r.jsx("section",{className:"border-b border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[r.jsxs("div",{className:"flex items-start justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:[((z=(B=g==null?void 0:g.user)==null?void 0:B.first_name)==null?void 0:z[0])||"U",((le=(X=g==null?void 0:g.user)==null?void 0:X.last_name)==null?void 0:le[0])||""]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[($=g==null?void 0:g.user)==null?void 0:$.first_name," ",(ae=g==null?void 0:g.user)==null?void 0:ae.last_name]}),((G=g==null?void 0:g.user)==null?void 0:G.institution)&&r.jsx("p",{className:"text-lg text-gray-600 mb-3",children:g.user.institution}),r.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-lg px-4 py-3 shadow-sm border border-gray-200",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"COMPASS ID"}),r.jsx("div",{className:"font-mono text-lg font-semibold text-gray-900",children:((ie=g==null?void 0:g.user)==null?void 0:ie.compass_id)||"Loading..."})]}),r.jsx("button",{onClick:M,className:"ml-4 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:n?r.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[r.jsx(Ae,{className:"w-4 h-4"}),"Copied!"]}):"Copy Link"})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ne,{to:`/profile/${(ce=g==null?void 0:g.user)==null?void 0:ce.compass_id}`,className:"px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"View Public Profile"}),r.jsxs(ne,{to:"/dashboard/profile/edit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors flex items-center gap-2",children:[r.jsx(UP,{className:"w-5 h-5"}),"Edit Profile"]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Cr,{className:"w-6 h-6 text-primary-600"}),r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Publications"})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:j.length})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(cr,{className:"w-6 h-6 text-primary-600"}),r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Frameworks"})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:S.length})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Wt,{className:"w-6 h-6 text-primary-600"}),r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Geographic Reach"})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"Global"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(en,{className:"w-6 h-6 text-primary-600"}),r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Profile Views"})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"-"})]})]})]})}),r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-12",children:[r.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>i("overview"),className:`px-4 py-3 font-medium transition-colors relative ${a==="overview"?"text-primary-600 border-b-2 border-primary-600 -mb-px":"text-gray-600 hover:text-gray-900"}`,children:"Overview"}),r.jsxs("button",{onClick:()=>i("feed"),className:`px-4 py-3 font-medium transition-colors relative flex items-center gap-2 ${a==="feed"?"text-primary-600 border-b-2 border-primary-600 -mb-px":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(py,{className:"w-5 h-5"}),"Activity Feed",_.length>0&&r.jsx("span",{className:"bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:_.length})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a==="feed"&&r.jsxs("div",{className:"space-y-4",children:[b&&(P.length>0||E.length>0||T.length>0)&&r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border border-purple-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx(Ct,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Discover Trending Topics"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Popular topics you're not following yet"})]})]}),v&&Object.values(v).flat().length>0&&r.jsxs("span",{className:"text-xs bg-white px-3 py-1 rounded-full text-gray-600 font-medium",children:[Object.values(v).flat().length," followed"]})]}),r.jsxs("div",{className:"space-y-3",children:[P.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Frameworks"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.slice(0,5).map((Q,xe)=>r.jsx("button",{onClick:()=>{f(!0)},className:"px-3 py-2 bg-white hover:bg-purple-50 border border-purple-200 rounded-lg transition-all group hover:shadow-md",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Q.value}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Q.mentions," mentions"]}),r.jsx("span",{className:"text-xs text-purple-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"+ Follow"})]})},xe))})]}),E.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Taxa"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:E.slice(0,5).map((Q,xe)=>r.jsx("button",{onClick:()=>{f(!0)},className:"px-3 py-2 bg-white hover:bg-purple-50 border border-purple-200 rounded-lg transition-all group hover:shadow-md",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Q.value}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Q.mentions," mentions"]}),r.jsx("span",{className:"text-xs text-purple-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"+ Follow"})]})},xe))})]}),T.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Keywords"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:T.slice(0,5).map((Q,xe)=>r.jsx("button",{onClick:()=>{f(!0)},className:"px-3 py-2 bg-white hover:bg-purple-50 border border-purple-200 rounded-lg transition-all group hover:shadow-md",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Q.value}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Q.mentions," mentions"]}),r.jsx("span",{className:"text-xs text-purple-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"+ Follow"})]})},xe))})]})]}),r.jsxs("button",{onClick:()=>f(!0),className:"mt-4 w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Ct,{className:"w-5 h-5"}),"Explore All Interests"]})]}),_.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wt,{className:"w-5 h-5 text-primary-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Map"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[_.filter(Q=>Q.coordinates).length," locations"]})]}),r.jsx("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:o?r.jsxs(r.Fragment,{children:[r.jsx(dx,{className:"w-4 h-4"}),"Minimize"]}):r.jsxs(r.Fragment,{children:[r.jsx(la,{className:"w-4 h-4"}),"Expand Map"]})})]}),o&&r.jsx("div",{className:"h-[400px] w-full",children:r.jsxs(Xo,{center:[20,0],zoom:2,className:"h-full w-full",scrollWheelZoom:!1,children:[r.jsx(el,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),_.map(Q=>Q.coordinates&&r.jsx(Im,{position:[Q.coordinates.lat,Q.coordinates.lng],eventHandlers:{click:()=>u(Q.id)},children:r.jsx(Aj,{children:r.jsxs("div",{className:"p-2 max-w-xs",children:[r.jsx("p",{className:"font-semibold text-sm mb-1",children:Q.content.title}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:Q.content.location}),Q.type==="new_publication"&&r.jsx("p",{className:"text-xs text-gray-500",children:Q.user.name}),Q.type==="framework_update"&&r.jsx("p",{className:"text-xs text-gray-500",children:Q.framework}),Q.type==="new_grant"&&r.jsx("p",{className:"text-xs text-gray-500",children:Q.content.funder})]})})},Q.id))]})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(py,{className:"w-6 h-6 text-gray-900"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Activity Feed"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Updates from topics you follow"})]})}),r.jsx("div",{className:"divide-y divide-gray-200",children:_.map(Q=>r.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors cursor-pointer ${d===Q.id?"bg-blue-50 border-l-4 border-primary-500":""}`,onClick:()=>u(Q.id),children:Q.type==="research"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center text-white flex-shrink-0",children:r.jsx(Cr,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"New research matching your interests"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:Q.title}),Q.matchedInterests&&Q.matchedInterests.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Matches:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Q.matchedInterests.map((xe,je)=>{const[Re,rt]=xe.split(":");return r.jsx("span",{className:"px-2 py-0.5 bg-primary-50 text-primary-700 rounded-full text-xs font-medium",children:rt},je)})})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[r.jsx("span",{className:"text-xs text-gray-500",children:new Date(Q.createdAt).toLocaleDateString()}),r.jsx(ne,{to:`/research/${Q.id}`,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View Research"})]})]})},Q.id))})]})]}):r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[r.jsx(py,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your Activity Feed is Empty"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start following topics, frameworks, and taxa to see personalized research updates"}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors flex items-center gap-2",children:[r.jsx(Ct,{className:"w-5 h-5"}),"Follow Interests"]}),r.jsx(ne,{to:"/search",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Browse Research"})]})]})]}),a==="overview"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Cr,{className:"w-6 h-6 text-gray-900"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Research & Publications"})]}),r.jsx(ne,{to:"/add-research",className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors text-sm",children:"+ Add Research"})]})}),j.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Cr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Research Added Yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start building your research profile by adding your publications"}),r.jsx(ne,{to:"/add-research",className:"inline-block px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Add Your First Publication"})]}):r.jsx("div",{className:"divide-y divide-gray-200",children:j.map(Q=>r.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:Q.title}),r.jsxs("div",{className:"space-y-1 mb-3",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[Q.journal,"  ",Q.publication_year]}),Q.authors&&Q.authors.length>0&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Authors: ",Array.isArray(Q.authors)?Q.authors.map(xe=>xe.name).join(", "):typeof Q.authors=="string"?Q.authors:JSON.parse(Q.authors).map(xe=>xe.name).join(", ")]}),Q.doi&&r.jsxs("p",{className:"text-xs text-gray-500",children:["DOI: ",r.jsx("a",{href:`https://doi.org/${Q.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:Q.doi})]})]}),Q.framework_alignment&&Q.framework_alignment.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Policy Framework Alignment"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Q.framework_alignment.map((xe,je)=>r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:xe},je))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[Q.geo_scope_text&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Geographic Scope:"}),r.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:Q.geo_scope_text})]}),Q.taxon_scope&&Q.taxon_scope.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Taxa:"}),r.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:Array.isArray(Q.taxon_scope)?Q.taxon_scope.map(xe=>xe.scientific_name).filter(Boolean).join(", "):"N/A"})]}),Q.ecosystem_type&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Ecosystem:"}),r.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:Q.ecosystem_type})]})]}),r.jsx("div",{className:"mt-4 flex gap-3",children:r.jsx(ne,{to:`/research/${Q.id}`,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View Details"})})]},Q.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Wt,{className:"w-6 h-6 text-gray-900"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Geographic Coverage"})]}),r.jsx("div",{className:"bg-gray-100 rounded-lg h-64 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(cr,{className:"w-16 h-16 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Interactive Map Coming Soon"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Visualize your research coverage across regions"})]})})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h3",{className:"font-semibold text-gray-900",children:"Following"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Qn,{className:"w-4 h-4 text-gray-600"}),r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Researchers (",k.users.length,")"]})]}),r.jsx("div",{className:"space-y-2",children:k.users.slice(0,3).map(Q=>r.jsxs(ne,{to:`/profile/${Q.id}`,className:"block p-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.name}),r.jsx("div",{className:"text-xs text-gray-500",children:Q.institution})]},Q.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(cr,{className:"w-4 h-4 text-gray-600"}),r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Frameworks (",k.frameworks.length,")"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:k.frameworks.map((Q,xe)=>r.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium cursor-pointer hover:bg-green-100 transition-colors",children:Q},xe))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Rd,{className:"w-4 h-4 text-gray-600"}),r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Topics (",k.topics.length,")"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:k.topics.map((Q,xe)=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium cursor-pointer hover:bg-blue-100 transition-colors",children:Q},xe))})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex gap-2",children:[r.jsx(ne,{to:"/search",className:"flex-1 text-center px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Find More"}),r.jsx("button",{onClick:()=>f(!0),className:"flex-1 text-center px-3 py-2 bg-gray-100 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-200 transition-colors",children:"Manage"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vo,{className:"w-5 h-5 text-primary-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Saved Research"})]}),r.jsx(ne,{to:"/dashboard/saved",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View All"})]}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vo,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Save papers and organize them into folders"}),r.jsx(ne,{to:"/search",className:"inline-block px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors",children:"Browse Research"})]})]}),b&&Object.values(b).flat().length>0&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Trending Topics"}),r.jsx(Ct,{className:"w-5 h-5 text-primary-600"})]}),r.jsxs("div",{className:"space-y-3",children:[(I=b.frameworks)==null?void 0:I.slice(0,3).map((Q,xe)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Q.value}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Q.mentions," mentions"]})]},xe)),(pe=b.taxa)==null?void 0:pe.slice(0,3).map((Q,xe)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Q.value}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Q.mentions," mentions"]})]},xe))]}),r.jsx("button",{onClick:()=>f(!0),className:"mt-4 w-full text-center px-4 py-2 bg-primary-50 text-primary-700 rounded-lg text-sm font-medium hover:bg-primary-100 transition-colors",children:"Follow Trending Topics"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Policy Frameworks"}),r.jsx("button",{onClick:()=>f(!0),className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Manage"})]}),r.jsx("div",{className:"space-y-2",children:S.map(Q=>r.jsxs("div",{className:"px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900",children:Q.name}),r.jsx("div",{className:"text-xs text-gray-500",children:Q.category})]},Q.id))}),r.jsx(ne,{to:"/frameworks",className:"mt-4 block text-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Explore All Frameworks"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ne,{to:"/add-research",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(bt,{className:"w-5 h-5 text-primary-600"}),r.jsx("span",{className:"font-medium text-sm text-gray-900",children:"Add Research"})]}),r.jsxs(ne,{to:"/dashboard/profile/edit",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Sj,{className:"w-5 h-5 text-primary-600"}),r.jsx("span",{className:"font-medium text-sm text-gray-900",children:"Edit Profile"})]}),r.jsxs(ne,{to:"/dashboard/saved",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Vo,{className:"w-5 h-5 text-primary-600"}),r.jsx("span",{className:"font-medium text-sm text-gray-900",children:"Saved Items"})]}),r.jsxs(ne,{to:"/grants",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Jo,{className:"w-5 h-5 text-primary-600"}),r.jsx("span",{className:"font-medium text-sm text-gray-900",children:"Find Grants"})]}),r.jsxs(ne,{to:"/ai-writing",className:"flex items-center gap-3 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Qo,{className:"w-5 h-5 text-primary-600"}),r.jsx("span",{className:"font-medium text-sm text-gray-900",children:"AI Grant Writing"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Profile Sections"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Basic Information"}),r.jsx(Ae,{className:"w-5 h-5 text-green-600"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Biography"}),r.jsx("span",{className:"text-xs text-gray-400",children:"Not added"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Employment"}),r.jsx("span",{className:"text-xs text-gray-400",children:"Not added"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Education"}),r.jsx("span",{className:"text-xs text-gray-400",children:"Not added"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Publications"}),j.length>0?r.jsx(Ae,{className:"w-5 h-5 text-green-600"}):r.jsx("span",{className:"text-xs text-gray-400",children:"Not added"})]})]})]})]})]})]})]})]})}function uA(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=uA(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function It(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=uA(e))&&(s&&(s+=" "),s+=t);return s}var hU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rj(e){if(typeof e!="string")return!1;var t=hU;return t.includes(e)}var fU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mA(e){if(typeof e!="string")return!1;var t=fU;return t.includes(e)}function hA(e){return typeof e=="string"&&e.startsWith("data-")}function Bs(e){var t=Object.entries(e).filter(n=>{var[s]=n;return mA(s)||hA(s)});return Object.fromEntries(t)}function fc(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Bs(t)}return typeof e=="object"&&!Array.isArray(e)?Bs(e):null}function es(e){var t=Object.entries(e).filter(n=>{var[s]=n;return mA(s)||hA(s)||Rj(s)});return Object.fromEntries(t)}function pU(e){return e==null?null:p.isValidElement(e)?es(e.props):typeof e=="object"&&!Array.isArray(e)?es(e):null}var gU=["children","width","height","viewBox","className","style","title","desc"];function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bb.apply(null,arguments)}function xU(e,t){if(e==null)return{};var n,s,a=yU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yU(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Ij=p.forwardRef((e,t)=>{var{children:n,width:s,height:a,viewBox:i,className:o,style:c,title:d,desc:u}=e,m=xU(e,gU),f=i||{width:s,height:a,x:0,y:0},g=It("recharts-surface",o);return p.createElement("svg",bb({},es(m),{className:g,width:s,height:a,style:c,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,d),p.createElement("desc",null,u),n)}),vU=["children","className"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wb.apply(null,arguments)}function bU(e,t){if(e==null)return{};var n,s,a=wU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wU(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var kn=p.forwardRef((e,t)=>{var{children:n,className:s}=e,a=bU(e,vU),i=It("recharts-layer",s);return p.createElement("g",wb({className:i},es(a),{ref:t}),n)}),fA=p.createContext(null),jU=()=>p.useContext(fA);function ir(e){return function(){return e}}const pA=Math.cos,tg=Math.sin,Ba=Math.sqrt,rg=Math.PI,gx=2*rg,jb=Math.PI,Nb=2*jb,Cl=1e-6,NU=Nb-Cl;function gA(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _U(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gA;const n=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class SU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gA:_U(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,a){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,n,s,a,i,o){this._append`C${+t},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,s,a,i){if(t=+t,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,d=s-t,u=a-n,m=o-t,f=c-n,g=m*m+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Cl)if(!(Math.abs(f*d-u*m)>Cl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let x=s-o,v=a-c,w=d*d+u*u,b=x*x+v*v,j=Math.sqrt(w),S=Math.sqrt(g),_=i*Math.tan((jb-Math.acos((w+g-b)/(2*j*S)))/2),k=_/S,A=_/j;Math.abs(k-1)>Cl&&this._append`L${t+k*m},${n+k*f}`,this._append`A${i},${i},0,0,${+(f*x>m*v)},${this._x1=t+A*d},${this._y1=n+A*u}`}}arc(t,n,s,a,i,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let c=s*Math.cos(a),d=s*Math.sin(a),u=t+c,m=n+d,f=1^o,g=o?a-i:i-a;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>Cl||Math.abs(this._y1-m)>Cl)&&this._append`L${u},${m}`,s&&(g<0&&(g=g%Nb+Nb),g>NU?this._append`A${s},${s},0,1,${f},${t-c},${n-d}A${s},${s},0,1,${f},${this._x1=u},${this._y1=m}`:g>Cl&&this._append`A${s},${s},0,${+(g>=jb)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(t,n,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function Fj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new SU(t)}function Bj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xA(e){this._context=e}xA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xx(e){return new xA(e)}function yA(e){return e[0]}function vA(e){return e[1]}function bA(e,t){var n=ir(!0),s=null,a=xx,i=null,o=Fj(c);e=typeof e=="function"?e:e===void 0?yA:ir(e),t=typeof t=="function"?t:t===void 0?vA:ir(t);function c(d){var u,m=(d=Bj(d)).length,f,g=!1,x;for(s==null&&(i=a(x=o())),u=0;u<=m;++u)!(u<m&&n(f=d[u],u,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(f,u,d),+t(f,u,d));if(x)return i=null,x+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:ir(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:ir(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:ir(!!d),c):n},c.curve=function(d){return arguments.length?(a=d,s!=null&&(i=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=i=null:i=a(s=d),c):s},c}function yf(e,t,n){var s=null,a=ir(!0),i=null,o=xx,c=null,d=Fj(u);e=typeof e=="function"?e:e===void 0?yA:ir(+e),t=typeof t=="function"?t:ir(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?vA:ir(+n);function u(f){var g,x,v,w=(f=Bj(f)).length,b,j=!1,S,_=new Array(w),k=new Array(w);for(i==null&&(c=o(S=d())),g=0;g<=w;++g){if(!(g<w&&a(b=f[g],g,f))===j)if(j=!j)x=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=g-1;v>=x;--v)c.point(_[v],k[v]);c.lineEnd(),c.areaEnd()}j&&(_[g]=+e(b,g,f),k[g]=+t(b,g,f),c.point(s?+s(b,g,f):_[g],n?+n(b,g,f):k[g]))}if(S)return c=null,S+""||null}function m(){return bA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:ir(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ir(+f),u):n},u.lineX0=u.lineY0=function(){return m().x(e).y(t)},u.lineY1=function(){return m().x(e).y(n)},u.lineX1=function(){return m().x(s).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ir(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(c=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=c=null:c=o(i=f),u):i},u}class wA{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kU(e){return new wA(e,!0)}function CU(e){return new wA(e,!1)}const $j={draw(e,t){const n=Ba(t/rg);e.moveTo(n,0),e.arc(0,0,n,0,gx)}},PU={draw(e,t){const n=Ba(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},jA=Ba(1/3),AU=jA*2,EU={draw(e,t){const n=Ba(t/AU),s=n*jA;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},OU={draw(e,t){const n=Ba(t),s=-n/2;e.rect(s,s,n,n)}},TU=.8908130915292852,NA=tg(rg/10)/tg(7*rg/10),LU=tg(gx/10)*NA,MU=-pA(gx/10)*NA,DU={draw(e,t){const n=Ba(t*TU),s=LU*n,a=MU*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const o=gx*i/5,c=pA(o),d=tg(o);e.lineTo(d*n,-c*n),e.lineTo(c*s-d*a,d*s+c*a)}e.closePath()}},yy=Ba(3),RU={draw(e,t){const n=-Ba(t/(yy*3));e.moveTo(0,n*2),e.lineTo(-yy*n,-n),e.lineTo(yy*n,-n),e.closePath()}},Ks=-.5,Zs=Ba(3)/2,_b=1/Ba(12),IU=(_b/2+1)*3,FU={draw(e,t){const n=Ba(t/IU),s=n/2,a=n*_b,i=s,o=n*_b+n,c=-i,d=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(c,d),e.lineTo(Ks*s-Zs*a,Zs*s+Ks*a),e.lineTo(Ks*i-Zs*o,Zs*i+Ks*o),e.lineTo(Ks*c-Zs*d,Zs*c+Ks*d),e.lineTo(Ks*s+Zs*a,Ks*a-Zs*s),e.lineTo(Ks*i+Zs*o,Ks*o-Zs*i),e.lineTo(Ks*c+Zs*d,Ks*d-Zs*c),e.closePath()}};function BU(e,t){let n=null,s=Fj(a);e=typeof e=="function"?e:ir(e||$j),t=typeof t=="function"?t:ir(t===void 0?64:+t);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ir(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ir(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function ng(){}function sg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _A(e){this._context=e}_A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $U(e){return new _A(e)}function SA(e){this._context=e}SA.prototype={areaStart:ng,areaEnd:ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zU(e){return new SA(e)}function kA(e){this._context=e}kA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UU(e){return new kA(e)}function CA(e){this._context=e}CA.prototype={areaStart:ng,areaEnd:ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function GU(e){return new CA(e)}function XS(e){return e<0?-1:1}function ek(e,t,n){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(n-e._y1)/(a||s<0&&-0),c=(i*a+o*s)/(s+a);return(XS(i)+XS(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function tk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function vy(e,t,n){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,c=(i-s)/3;e._context.bezierCurveTo(s+c,a+c*t,i-c,o-c*n,i,o)}function ag(e){this._context=e}ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vy(this,this._t0,tk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vy(this,tk(this,n=ek(this,e,t)),n);break;default:vy(this,this._t0,n=ek(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function PA(e){this._context=new AA(e)}(PA.prototype=Object.create(ag.prototype)).point=function(e,t){ag.prototype.point.call(this,t,e)};function AA(e){this._context=e}AA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,a,i){this._context.bezierCurveTo(t,e,s,n,i,a)}};function WU(e){return new ag(e)}function HU(e){return new PA(e)}function EA(e){this._context=e}EA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=rk(e),a=rk(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rk(e){var t,n=e.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function qU(e){return new EA(e)}function yx(e,t){this._context=e,this._t=t}yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function VU(e){return new yx(e,.5)}function KU(e){return new yx(e,0)}function ZU(e){return new yx(e,1)}function Id(e,t){if((o=e.length)>1)for(var n=1,s,a,i=e[t[0]],o,c=i.length;n<o;++n)for(a=i,i=e[t[n]],s=0;s<c;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function Sb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function YU(e,t){return e[t]}function QU(e){const t=[];return t.key=e,t}function JU(){var e=ir([]),t=Sb,n=Id,s=YU;function a(i){var o=Array.from(e.apply(this,arguments),QU),c,d=o.length,u=-1,m;for(const f of i)for(c=0,++u;c<d;++c)(o[c][u]=[0,+s(f,o[c].key,u,i)]).data=f;for(c=0,m=Bj(t(o));c<d;++c)o[m[c]].index=c;return n(o,m),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ir(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:ir(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?Sb:typeof i=="function"?i:ir(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Id,a):n},a}function XU(e,t){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<s;++n)e[n][a][1]/=o}Id(e,t)}}function eG(e,t){if((a=e.length)>0){for(var n=0,s=e[t[0]],a,i=s.length;n<i;++n){for(var o=0,c=0;o<a;++o)c+=e[o][n][1]||0;s[n][1]+=s[n][0]=-c/2}Id(e,t)}}function tG(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var c=0,d=0,u=0;c<o;++c){for(var m=e[t[c]],f=m[s][1]||0,g=m[s-1][1]||0,x=(f-g)/2,v=0;v<c;++v){var w=e[t[v]],b=w[s][1]||0,j=w[s-1][1]||0;x+=b-j}d+=f,u+=x*f}a[s-1][1]+=a[s-1][0]=n,d&&(n-=u/d)}a[s-1][1]+=a[s-1][0]=n,Id(e,t)}}var vx={},OA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(OA);var zj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(zj);var bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;return typeof n=="string"||typeof n=="symbol"?n:Object.is((s=n==null?void 0:n.valueOf)==null?void 0:s.call(n),-0)?"-0":String(n)}e.toKey=t})(bx);var wx={},TA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const s=String(n);return s==="0"&&Object.is(Number(n),-0)?"-0":s}e.toString=t})(TA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TA,n=bx;function s(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let c=0,d="",u="",m=!1;for(a.charCodeAt(0)===46&&(i.push(""),c++);c<o;){const f=a[c];u?f==="\\"&&c+1<o?(c++,d+=a[c]):f===u?u="":d+=f:m?f==='"'||f==="'"?u=f:f==="]"?(m=!1,i.push(d),d=""):d+=f:f==="["?(m=!0,d&&(i.push(d),d="")):f==="."?d&&(i.push(d),d=""):d+=f,c++}return d&&i.push(d),i}e.toPath=s})(wx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OA,n=zj,s=bx,a=wx;function i(c,d,u){if(c==null)return u;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return u;const m=c[d];return m===void 0?n.isDeepKey(d)?i(c,a.toPath(d),u):u:m}case"number":case"symbol":{typeof d=="number"&&(d=s.toKey(d));const m=c[d];return m===void 0?u:m}default:{if(Array.isArray(d))return o(c,d,u);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return u;const m=c[d];return m===void 0?u:m}}}function o(c,d,u){if(d.length===0)return u;let m=c;for(let f=0;f<d.length;f++){if(m==null||t.isUnsafeProperty(d[f]))return u;m=m[d[f]]}return m===void 0?u:m}e.get=i})(vx);var rG=vx.get;const pc=bs(rG);var fn=e=>e===0?0:e>0?1:-1,ua=e=>typeof e=="number"&&e!=+e,Gi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,st=e=>(typeof e=="number"||e instanceof Number)&&!ua(e),li=e=>st(e)||typeof e=="string",nG=0,Fm=e=>{var t=++nG;return"".concat(e||"").concat(t)},Rn=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!st(t)&&typeof t!="string")return s;var i;if(Gi(t)){if(n==null)return s;var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return ua(i)&&(i=s),a&&n!=null&&i>n&&(i=n),i},LA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},s=0;s<t;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1};function Mr(e,t,n){return st(e)&&st(t)?e+n*(t-e):t}function MA(e,t,n){if(!(!e||!e.length))return e.find(s=>s&&(typeof t=="function"?t(s):pc(s,t))===n)}var vr=e=>e===null||typeof e>"u",mh=e=>vr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),sG=["type","size","sizeType"];function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kb.apply(null,arguments)}function nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(n),!0).forEach(function(s){aG(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function aG(e,t,n){return(t=iG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e,t){if(e==null)return{};var n,s,a=cG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cG(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var DA={symbolCircle:$j,symbolCross:PU,symbolDiamond:EU,symbolSquare:OU,symbolStar:DU,symbolTriangle:RU,symbolWye:FU},dG=Math.PI/180,uG=e=>{var t="symbol".concat(mh(e));return DA[t]||$j},mG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*dG;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hG=(e,t)=>{DA["symbol".concat(mh(e))]=t},Uj=e=>{var{type:t="circle",size:n=64,sizeType:s="area"}=e,a=lG(e,sG),i=sk(sk({},a),{},{type:t,size:n,sizeType:s}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var g=uG(o),x=BU().type(g).size(mG(n,s,o)),v=x();if(v!==null)return v},{className:d,cx:u,cy:m}=i,f=es(i);return u===+u&&m===+m&&n===+n?p.createElement("path",kb({},f,{className:It("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(m,")"),d:c()})):null};Uj.registerSymbol=hG;var Gj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(a=>{Rj(a)&&(s[a]=i=>n[a](n,i))}),s},fG=(e,t,n)=>s=>(e(t,n,s),null),hh=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(a=>{var i=e[a];Rj(a)&&typeof i=="function"&&(s||(s={}),s[a]=fG(i,t,n))}),s};function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cb.apply(null,arguments)}function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function pG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(n),!0).forEach(function(s){Wj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Wj(e,t,n){return(t=gG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ys=32;class Hj extends p.PureComponent{renderIcon(t,n){var{inactiveColor:s}=this.props,a=Ys/2,i=Ys/6,o=Ys/3,c=t.inactive?s:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Ys,y2:a,className:"recharts-legend-icon"});if(d==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ys,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return p.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ys/8,"h").concat(Ys,"v").concat(Ys*3/4,"h").concat(-Ys,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var u=pG({},t);return delete u.legendIcon,p.cloneElement(t.legendIcon,u)}return p.createElement(Uj,{fill:c,cx:a,cy:a,size:Ys,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:s,formatter:a,inactiveColor:i,iconType:o}=this.props,c={x:0,y:0,width:Ys,height:Ys},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,f)=>{var g=m.formatter||a,x=It({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:m.inactive});if(m.type==="none")return null;var v=m.inactive?i:m.color,w=g?g(m.value,m,f):m.value;return p.createElement("li",Cb({className:x,style:d,key:"legend-item-".concat(f)},hh(this.props,m,f)),p.createElement(Ij,{width:n,height:n,viewBox:c,style:u,"aria-label":"".concat(w," legend icon")},this.renderIcon(m,o)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},w))})}render(){var{payload:t,layout:n,align:s}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Wj(Hj,"displayName","Legend");Wj(Hj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var RA={},IA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,s){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],c=s(o);a.has(c)||a.set(c,o)}return Array.from(a.values())}e.uniqBy=t})(IA);var qj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(qj);var FA={},jx={},BA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(BA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA;function n(s){return s!=null&&typeof s!="function"&&t.isLength(s.length)}e.isArrayLike=n})(jx);var $A={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})($A);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jx,n=$A;function s(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=s})(FA);var zA={},UA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx;function n(s){return function(a){return t.get(a,s)}}e.property=n})(UA);var GA={},Vj={},WA={},Kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Kj);var Zj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Zj);var Yj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,s){return n===s||Number.isNaN(n)&&Number.isNaN(s)}e.eq=t})(Yj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kj,n=Zj,s=Yj;function a(m,f,g){return typeof g!="function"?a(m,f,()=>{}):i(m,f,function x(v,w,b,j,S,_){const k=g(v,w,b,j,S,_);return k!==void 0?!!k:i(v,w,x,_)},new Map)}function i(m,f,g,x){if(f===m)return!0;switch(typeof f){case"object":return o(m,f,g,x);case"function":return Object.keys(f).length>0?i(m,{...f},g,x):s.eq(m,f);default:return t.isObject(m)?typeof f=="string"?f==="":!0:s.eq(m,f)}}function o(m,f,g,x){if(f==null)return!0;if(Array.isArray(f))return d(m,f,g,x);if(f instanceof Map)return c(m,f,g,x);if(f instanceof Set)return u(m,f,g,x);const v=Object.keys(f);if(m==null)return v.length===0;if(v.length===0)return!0;if(x!=null&&x.has(f))return x.get(f)===m;x==null||x.set(f,m);try{for(let w=0;w<v.length;w++){const b=v[w];if(!n.isPrimitive(m)&&!(b in m)||f[b]===void 0&&m[b]!==void 0||f[b]===null&&m[b]!==null||!g(m[b],f[b],b,m,f,x))return!1}return!0}finally{x==null||x.delete(f)}}function c(m,f,g,x){if(f.size===0)return!0;if(!(m instanceof Map))return!1;for(const[v,w]of f.entries()){const b=m.get(v);if(g(b,w,v,m,f,x)===!1)return!1}return!0}function d(m,f,g,x){if(f.length===0)return!0;if(!Array.isArray(m))return!1;const v=new Set;for(let w=0;w<f.length;w++){const b=f[w];let j=!1;for(let S=0;S<m.length;S++){if(v.has(S))continue;const _=m[S];let k=!1;if(g(_,b,w,m,f,x)&&(k=!0),k){v.add(S),j=!0;break}}if(!j)return!1}return!0}function u(m,f,g,x){return f.size===0?!0:m instanceof Set?d([...m],[...f],g,x):!1}e.isMatchWith=a,e.isSetMatch=u})(WA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WA;function n(s,a){return t.isMatchWith(s,a,()=>{})}e.isMatch=n})(Vj);var HA={},Qj={},qA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(s=>Object.prototype.propertyIsEnumerable.call(n,s))}e.getSymbols=t})(qA);var Jj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Jj);var Xj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",s="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",u="[object Set]",m="[object Array]",f="[object Function]",g="[object ArrayBuffer]",x="[object Object]",v="[object Error]",w="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",S="[object Uint16Array]",_="[object Uint32Array]",k="[object BigUint64Array]",A="[object Int8Array]",P="[object Int16Array]",E="[object Int32Array]",T="[object BigInt64Array]",M="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=m,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=k,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=v,e.float32ArrayTag=M,e.float64ArrayTag=U,e.functionTag=f,e.int16ArrayTag=P,e.int32ArrayTag=E,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=s,e.objectTag=x,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=S,e.uint32ArrayTag=_,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(Xj);var VA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(VA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA,n=Jj,s=Xj,a=Zj,i=VA;function o(m,f){return c(m,void 0,m,new Map,f)}function c(m,f,g,x=new Map,v=void 0){const w=v==null?void 0:v(m,f,g,x);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const b=new Array(m.length);x.set(m,b);for(let j=0;j<m.length;j++)b[j]=c(m[j],j,g,x,v);return Object.hasOwn(m,"index")&&(b.index=m.index),Object.hasOwn(m,"input")&&(b.input=m.input),b}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const b=new RegExp(m.source,m.flags);return b.lastIndex=m.lastIndex,b}if(m instanceof Map){const b=new Map;x.set(m,b);for(const[j,S]of m)b.set(j,c(S,j,g,x,v));return b}if(m instanceof Set){const b=new Set;x.set(m,b);for(const j of m)b.add(c(j,void 0,g,x,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const b=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,b);for(let j=0;j<m.length;j++)b[j]=c(m[j],j,g,x,v);return b}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const b=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,b),d(b,m,g,x,v),b}if(typeof File<"u"&&m instanceof File){const b=new File([m],m.name,{type:m.type});return x.set(m,b),d(b,m,g,x,v),b}if(typeof Blob<"u"&&m instanceof Blob){const b=new Blob([m],{type:m.type});return x.set(m,b),d(b,m,g,x,v),b}if(m instanceof Error){const b=new m.constructor;return x.set(m,b),b.message=m.message,b.name=m.name,b.stack=m.stack,b.cause=m.cause,d(b,m,g,x,v),b}if(m instanceof Boolean){const b=new Boolean(m.valueOf());return x.set(m,b),d(b,m,g,x,v),b}if(m instanceof Number){const b=new Number(m.valueOf());return x.set(m,b),d(b,m,g,x,v),b}if(m instanceof String){const b=new String(m.valueOf());return x.set(m,b),d(b,m,g,x,v),b}if(typeof m=="object"&&u(m)){const b=Object.create(Object.getPrototypeOf(m));return x.set(m,b),d(b,m,g,x,v),b}return m}function d(m,f,g=m,x,v){const w=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<w.length;b++){const j=w[b],S=Object.getOwnPropertyDescriptor(m,j);(S==null||S.writable)&&(m[j]=c(f[j],j,g,x,v))}}function u(m){switch(n.getTag(m)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=d})(Qj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qj;function n(s){return t.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=n})(HA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vj,n=HA;function s(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=s})(GA);var KA={},ZA={},YA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qj,n=Xj;function s(a,i){return t.cloneDeepWith(a,(o,c,d,u)=>{const m=i==null?void 0:i(o,c,d,u);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case n.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=s})(YA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YA;function n(s){return t.cloneDeepWith(s)}e.cloneDeep=n})(ZA);var QA={},eN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(s,a=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<a;case"symbol":return!1;case"string":return t.test(s)}}e.isIndex=n})(eN);var JA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jj;function n(s){return s!==null&&typeof s=="object"&&t.getTag(s)==="[object Arguments]"}e.isArguments=n})(JA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zj,n=eN,s=JA,a=wx;function i(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&(o==null?void 0:o[c])==null?d=a.toPath(c):d=[c],d.length===0)return!1;let u=o;for(let m=0;m<d.length;m++){const f=d[m];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||s.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(QA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vj,n=bx,s=ZA,a=vx,i=QA;function o(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=s.cloneDeep(d),function(u){const m=a.get(u,c);return m===void 0?i.has(u,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=o})(KA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qj,n=UA,s=GA,a=KA;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(zA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA,n=qj,s=FA,a=zA;function i(o,c=n.identity){return s.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(c)):[]}e.uniqBy=i})(RA);var yG=RA.uniqBy;const ik=bs(yG);function XA(e,t,n){return t===!0?ik(e,n):typeof t=="function"?ik(e,t):e}var eE={exports:{}},tE={},rE={exports:{}},nE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=p;function vG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bG=typeof Object.is=="function"?Object.is:vG,wG=Fd.useState,jG=Fd.useEffect,NG=Fd.useLayoutEffect,_G=Fd.useDebugValue;function SG(e,t){var n=t(),s=wG({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return NG(function(){a.value=n,a.getSnapshot=t,by(a)&&i({inst:a})},[e,n,t]),jG(function(){return by(a)&&i({inst:a}),e(function(){by(a)&&i({inst:a})})},[e]),_G(n),n}function by(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bG(e,n)}catch{return!0}}function kG(e,t){return t()}var CG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kG:SG;nE.useSyncExternalStore=Fd.useSyncExternalStore!==void 0?Fd.useSyncExternalStore:CG;rE.exports=nE;var PG=rE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=p,AG=PG;function EG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OG=typeof Object.is=="function"?Object.is:EG,TG=AG.useSyncExternalStore,LG=Nx.useRef,MG=Nx.useEffect,DG=Nx.useMemo,RG=Nx.useDebugValue;tE.useSyncExternalStoreWithSelector=function(e,t,n,s,a){var i=LG(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=DG(function(){function d(x){if(!u){if(u=!0,m=x,x=s(x),a!==void 0&&o.hasValue){var v=o.value;if(a(v,x))return f=v}return f=x}if(v=f,OG(m,x))return v;var w=s(x);return a!==void 0&&a(v,w)?(m=x,v):(m=x,f=w)}var u=!1,m,f,g=n===void 0?null:n;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,n,s,a]);var c=TG(e,i[0],i[1]);return MG(function(){o.hasValue=!0,o.value=c},[c]),RG(c),c};eE.exports=tE;var IG=eE.exports,tN=p.createContext(null),FG=e=>e,br=()=>{var e=p.useContext(tN);return e?e.store.dispatch:FG},hp=()=>{},BG=()=>hp,$G=(e,t)=>e===t;function Je(e){var t=p.useContext(tN);return IG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:BG,t?t.store.getState:hp,t?t.store.getState:hp,t?e:hp,$G)}function zG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function UG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function GG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${n}]`)}}var ok=e=>Array.isArray(e)?e:[e];function WG(e){const t=Array.isArray(e[0])?e[0]:e;return GG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function HG(e,t){const n=[],{length:s}=e;for(let a=0;a<s;a++)n.push(e[a].apply(null,t));return n}var qG=class{constructor(e){this.value=e}deref(){return this.value}},VG=typeof WeakRef<"u"?WeakRef:qG,KG=0,lk=1;function vf(){return{s:KG,v:void 0,o:null,p:null}}function sE(e,t={}){let n=vf();const{resultEqualityCheck:s}=t;let a,i=0;function o(){var f;let c=n;const{length:d}=arguments;for(let g=0,x=d;g<x;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const b=w.get(v);b===void 0?(c=vf(),w.set(v,c)):c=b}else{let w=c.p;w===null&&(c.p=w=new Map);const b=w.get(v);b===void 0?(c=vf(),w.set(v,c)):c=b}}const u=c;let m;if(c.s===lk)m=c.v;else if(m=e.apply(null,arguments),i++,s){const g=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;g!=null&&s(g,m)&&(m=g,i!==0&&i--),a=typeof m=="object"&&m!==null||typeof m=="function"?new VG(m):m}return u.s=lk,u.v=m,m}return o.clearCache=()=>{n=vf(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function ZG(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...a)=>{let i=0,o=0,c,d={},u=a.pop();typeof u=="object"&&(d=u,u=a.pop()),zG(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const m={...n,...d},{memoize:f,memoizeOptions:g=[],argsMemoize:x=sE,argsMemoizeOptions:v=[]}=m,w=ok(g),b=ok(v),j=WG(a),S=f(function(){return i++,u.apply(null,arguments)},...w),_=x(function(){o++;const A=HG(j,arguments);return c=S.apply(null,A),c},...b);return Object.assign(_,{resultFunc:u,memoizedResultFunc:S,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:x})};return Object.assign(s,{withTypes:()=>s}),s}var de=ZG(sE),YG=Object.assign((e,t=de)=>{UG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),s=n.map(i=>e[i]);return t(s,(...i)=>i.reduce((o,c,d)=>(o[n[d]]=c,o),{}))},{withTypes:()=>YG}),aE={},iE={},oE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const n=(s,a,i)=>{if(s!==a){const o=t(s),c=t(a);if(o===c&&o===0){if(s<a)return i==="desc"?1:-1;if(s>a)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};e.compareValues=n})(oE);var lE={},rN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(rN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(lE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oE,n=lE,s=wx;function a(i,o,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const u=(x,v)=>{let w=x;for(let b=0;b<v.length&&w!=null;++b)w=w[v[b]];return w},m=(x,v)=>v==null||x==null?v:typeof x=="object"&&"key"in x?Object.hasOwn(v,x.key)?v[x.key]:u(v,x.path):typeof x=="function"?x(v):Array.isArray(x)?u(v,x):typeof v=="object"?v[x]:v,f=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:s.toPath(x)}));return i.map(x=>({original:x,criteria:f.map(v=>m(v,x))})).slice().sort((x,v)=>{for(let w=0;w<f.length;w++){const b=t.compareValues(x.criteria[w],v.criteria[w],c[w]);if(b!==0)return b}return 0}).map(x=>x.original)}e.orderBy=a})(iE);var cE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,s=1){const a=[],i=Math.floor(s),o=(c,d)=>{for(let u=0;u<c.length;u++){const m=c[u];Array.isArray(m)&&d<i?o(m,d+1):a.push(m)}};return o(n,0),a}e.flatten=t})(cE);var nN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN,n=jx,s=Kj,a=Yj;function i(o,c,d){return s.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],o):!1}e.isIterateeCall=i})(nN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iE,n=cE,s=nN;function a(i,...o){const c=o.length;return c>1&&s.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(aE);var QG=aE.sortBy;const _x=bs(QG);var dE=e=>e.legend.settings,JG=e=>e.legend.size,XG=e=>e.legend.payload,eW=de([XG,dE],(e,t)=>{var{itemSorter:n}=t,s=e.flat(1);return n?_x(s,n):s});function tW(){return Je(eW)}var bf=1;function uE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=p.useState({height:0,left:0,top:0,width:0}),s=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>bf||Math.abs(o.left-t.left)>bf||Math.abs(o.top-t.top)>bf||Math.abs(o.width-t.width)>bf)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,s]}function wn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rW=typeof Symbol=="function"&&Symbol.observable||"@@observable",ck=rW,wy=()=>Math.random().toString(36).substring(7).split("").join("."),nW={INIT:`@@redux/INIT${wy()}`,REPLACE:`@@redux/REPLACE${wy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wy()}`},ig=nW;function sN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function mE(e,t,n){if(typeof e!="function")throw new Error(wn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wn(1));return n(mE)(e,t)}let s=e,a=t,i=new Map,o=i,c=0,d=!1;function u(){o===i&&(o=new Map,i.forEach((b,j)=>{o.set(j,b)}))}function m(){if(d)throw new Error(wn(3));return a}function f(b){if(typeof b!="function")throw new Error(wn(4));if(d)throw new Error(wn(5));let j=!0;u();const S=c++;return o.set(S,b),function(){if(j){if(d)throw new Error(wn(6));j=!1,u(),o.delete(S),i=null}}}function g(b){if(!sN(b))throw new Error(wn(7));if(typeof b.type>"u")throw new Error(wn(8));if(typeof b.type!="string")throw new Error(wn(17));if(d)throw new Error(wn(9));try{d=!0,a=s(a,b)}finally{d=!1}return(i=o).forEach(S=>{S()}),b}function x(b){if(typeof b!="function")throw new Error(wn(10));s=b,g({type:ig.REPLACE})}function v(){const b=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(wn(11));function S(){const k=j;k.next&&k.next(m())}return S(),{unsubscribe:b(S)}},[ck](){return this}}}return g({type:ig.INIT}),{dispatch:g,subscribe:f,getState:m,replaceReducer:x,[ck]:v}}function sW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ig.INIT})>"u")throw new Error(wn(12));if(typeof n(void 0,{type:ig.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wn(13))})}function hE(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const s=Object.keys(n);let a;try{sW(n)}catch(i){a=i}return function(o={},c){if(a)throw a;let d=!1;const u={};for(let m=0;m<s.length;m++){const f=s[m],g=n[f],x=o[f],v=g(x,c);if(typeof v>"u")throw c&&c.type,new Error(wn(14));u[f]=v,d=d||v!==x}return d=d||s.length!==Object.keys(o).length,d?u:o}}function og(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...s)=>t(n(...s)))}function aW(...e){return t=>(n,s)=>{const a=t(n,s);let i=()=>{throw new Error(wn(15))};const o={getState:a.getState,dispatch:(d,...u)=>i(d,...u)},c=e.map(d=>d(o));return i=og(...c)(a.dispatch),{...a,dispatch:i}}}function fE(e){return sN(e)&&"type"in e&&typeof e.type=="string"}var pE=Symbol.for("immer-nothing"),dk=Symbol.for("immer-draftable"),$s=Symbol.for("immer-state");function Oa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bm=Object.getPrototypeOf;function gc(e){return!!e&&!!e[$s]}function Wi(e){var t;return e?gE(e)||Array.isArray(e)||!!e[dk]||!!((t=e.constructor)!=null&&t[dk])||fh(e)||kx(e):!1}var iW=Object.prototype.constructor.toString(),uk=new WeakMap;function gE(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let s=uk.get(n);return s===void 0&&(s=Function.toString.call(n),uk.set(n,s)),s===iW}function lg(e,t,n=!0){Sx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((s,a)=>t(a,s,e))}function Sx(e){const t=e[$s];return t?t.type_:Array.isArray(e)?1:fh(e)?2:kx(e)?3:0}function Pb(e,t){return Sx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xE(e,t,n){const s=Sx(e);s===2?e.set(t,n):s===3?e.add(n):e[t]=n}function oW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fh(e){return e instanceof Map}function kx(e){return e instanceof Set}function Pl(e){return e.copy_||e.base_}function Ab(e,t){if(fh(e))return new Map(e);if(kx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=gE(e);if(t===!0||t==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(e);delete s[$s];let a=Reflect.ownKeys(s);for(let i=0;i<a.length;i++){const o=a[i],c=s[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(s[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Bm(e),s)}else{const s=Bm(e);if(s!==null&&n)return{...e};const a=Object.create(s);return Object.assign(a,e)}}function aN(e,t=!1){return Cx(e)||gc(e)||!Wi(e)||(Sx(e)>1&&Object.defineProperties(e,{set:wf,add:wf,clear:wf,delete:wf}),Object.freeze(e),t&&Object.values(e).forEach(n=>aN(n,!0))),e}function lW(){Oa(2)}var wf={value:lW};function Cx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var cW={};function xc(e){const t=cW[e];return t||Oa(0,e),t}var $m;function yE(){return $m}function dW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mk(e,t){t&&(xc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Eb(e){Ob(e),e.drafts_.forEach(uW),e.drafts_=null}function Ob(e){e===$m&&($m=e.parent_)}function hk(e){return $m=dW($m,e)}function uW(e){const t=e[$s];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$s].modified_&&(Eb(t),Oa(4)),Wi(e)&&(e=cg(t,e),t.parent_||dg(t,e)),t.patches_&&xc("Patches").generateReplacementPatches_(n[$s].base_,e,t.patches_,t.inversePatches_)):e=cg(t,n,[]),Eb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pE?e:void 0}function cg(e,t,n){if(Cx(t))return t;const s=e.immer_.shouldUseStrictIteration(),a=t[$s];if(!a)return lg(t,(i,o)=>pk(e,a,t,i,o,n),s),t;if(a.scope_!==e)return t;if(!a.modified_)return dg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,c=!1;a.type_===3&&(o=new Set(i),i.clear(),c=!0),lg(o,(d,u)=>pk(e,a,i,d,u,n,c),s),dg(e,i,!1),n&&e.patches_&&xc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function pk(e,t,n,s,a,i,o){if(a==null||typeof a!="object"&&!o)return;const c=Cx(a);if(!(c&&!o)){if(gc(a)){const d=i&&t&&t.type_!==3&&!Pb(t.assigned_,s)?i.concat(s):void 0,u=cg(e,a,d);if(xE(n,s,u),gc(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(Wi(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[s]===a&&c)return;cg(e,a),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&(fh(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&dg(e,a)}}}function dg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aN(t,n)}function mW(e,t){const n=Array.isArray(e),s={type_:n?1:0,scope_:t?t.scope_:yE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,i=iN;n&&(a=[s],i=zm);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return s.draft_=c,s.revoke_=o,c}var iN={get(e,t){if(t===$s)return e;const n=Pl(e);if(!Pb(n,t))return hW(e,n,t);const s=n[t];return e.finalized_||!Wi(s)?s:s===jy(e.base_,t)?(Ny(e),e.copy_[t]=Lb(s,e)):s},has(e,t){return t in Pl(e)},ownKeys(e){return Reflect.ownKeys(Pl(e))},set(e,t,n){const s=vE(Pl(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,n),!0;if(!e.modified_){const a=jy(Pl(e),t),i=a==null?void 0:a[$s];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(oW(n,a)&&(n!==void 0||Pb(e.base_,t)))return!0;Ny(e),Tb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ny(e),Tb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Pl(e),s=Reflect.getOwnPropertyDescriptor(n,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:n[t]}},defineProperty(){Oa(11)},getPrototypeOf(e){return Bm(e.base_)},setPrototypeOf(){Oa(12)}},zm={};lg(iN,(e,t)=>{zm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zm.deleteProperty=function(e,t){return zm.set.call(this,e,t,void 0)};zm.set=function(e,t,n){return iN.set.call(this,e[0],t,n,e[0])};function jy(e,t){const n=e[$s];return(n?Pl(n):e)[t]}function hW(e,t,n){var a;const s=vE(t,n);return s?"value"in s?s.value:(a=s.get)==null?void 0:a.call(e.draft_):void 0}function vE(e,t){if(!(t in e))return;let n=Bm(e);for(;n;){const s=Object.getOwnPropertyDescriptor(n,t);if(s)return s;n=Bm(n)}}function Tb(e){e.modified_||(e.modified_=!0,e.parent_&&Tb(e.parent_))}function Ny(e){e.copy_||(e.copy_=Ab(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,s)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(d=i,...u){return o.produce(d,m=>n.call(this,m,...u))}}typeof n!="function"&&Oa(6),s!==void 0&&typeof s!="function"&&Oa(7);let a;if(Wi(t)){const i=hk(this),o=Lb(t,void 0);let c=!0;try{a=n(o),c=!1}finally{c?Eb(i):Ob(i)}return mk(i,s),fk(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===pE&&(a=void 0),this.autoFreeze_&&aN(a,!0),s){const i=[],o=[];xc("Patches").generateReplacementPatches_(t,a,i,o),s(i,o)}return a}else Oa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,d=>t(d,...c));let s,a;return[this.produce(t,n,(o,c)=>{s=o,a=c}),s,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Wi(e)||Oa(8),gc(e)&&(e=Mi(e));const t=hk(this),n=Lb(e,void 0);return n[$s].isManual_=!0,Ob(t),n}finishDraft(e,t){const n=e&&e[$s];(!n||!n.isManual_)&&Oa(9);const{scope_:s}=n;return mk(s,t),fk(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const s=xc("Patches").applyPatches_;return gc(e)?s(e,t):this.produce(e,a=>s(a,t))}};function Lb(e,t){const n=fh(e)?xc("MapSet").proxyMap_(e,t):kx(e)?xc("MapSet").proxySet_(e,t):mW(e,t);return(t?t.scope_:yE()).drafts_.push(n),n}function Mi(e){return gc(e)||Oa(10,e),bE(e)}function bE(e){if(!Wi(e)||Cx(e))return e;const t=e[$s];let n,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ab(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else n=Ab(e,!0);return lg(n,(a,i)=>{xE(n,a,bE(i))},s),t&&(t.finalized_=!1),n}var pW=new fW,wE=pW.produce;function jE(e){return({dispatch:n,getState:s})=>a=>i=>typeof i=="function"?i(n,s,e):a(i)}var gW=jE(),xW=jE,yW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?og:og.apply(null,arguments)};function ma(e,t){function n(...s){if(t){let a=t(...s);if(!a)throw new Error(Is(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:s[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=s=>fE(s)&&s.type===e,n}var NE=class Xu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Xu.prototype)}static get[Symbol.species](){return Xu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Xu(...t[0].concat(this)):new Xu(...t.concat(this))}};function gk(e){return Wi(e)?wE(e,()=>{}):e}function jf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function vW(e){return typeof e=="boolean"}var bW=()=>function(t){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new NE;return n&&(vW(n)?o.push(gW):o.push(xW(n.extraArgument))),o},_E="RTK_autoBatch",Zn=()=>e=>({payload:e,meta:{[_E]:!0}}),xk=e=>t=>{setTimeout(t,e)},SE=(e={type:"raf"})=>t=>(...n)=>{const s=t(...n);let a=!0,i=!1,o=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xk(10):e.type==="callback"?e.queueNotification:xk(e.timeout),u=()=>{o=!1,i&&(i=!1,c.forEach(m=>m()))};return Object.assign({},s,{subscribe(m){const f=()=>a&&m(),g=s.subscribe(f);return c.add(m),()=>{g(),c.delete(m)}},dispatch(m){var f;try{return a=!((f=m==null?void 0:m.meta)!=null&&f[_E]),i=!a,i&&(o||(o=!0,d(u))),s.dispatch(m)}finally{a=!0}}})},wW=e=>function(n){const{autoBatch:s=!0}=n??{};let a=new NE(e);return s&&a.push(SE(typeof s=="object"?s:void 0)),a};function jW(e){const t=bW(),{reducer:n=void 0,middleware:s,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(sN(n))c=hE(n);else throw new Error(Is(1));let d;typeof s=="function"?d=s(t):d=t();let u=og;a&&(u=yW({trace:!1,...typeof a=="object"&&a}));const m=aW(...d),f=wW(m);let g=typeof o=="function"?o(f):f();const x=u(...g);return mE(c,i,x)}function kE(e){const t={},n=[];let s;const a={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Is(28));if(c in t)throw new Error(Is(29));return t[c]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return s=i,a}};return e(a),[t,n,s]}function NW(e){return typeof e=="function"}function _W(e,t){let[n,s,a]=kE(t),i;if(NW(e))i=()=>gk(e());else{const c=gk(e);i=()=>c}function o(c=i(),d){let u=[n[d.type],...s.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return u.filter(m=>!!m).length===0&&(u=[a]),u.reduce((m,f)=>{if(f)if(gc(m)){const x=f(m,d);return x===void 0?m:x}else{if(Wi(m))return wE(m,g=>f(g,d));{const g=f(m,d);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},c)}return o.getInitialState=i,o}var SW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kW=(e=21)=>{let t="",n=e;for(;n--;)t+=SW[Math.random()*64|0];return t},CW=Symbol.for("rtk-slice-createasyncthunk");function PW(e,t){return`${e}/${t}`}function AW({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[CW];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(Is(11));const c=(typeof a.reducers=="function"?a.reducers(OW()):a.reducers)||{},d=Object.keys(c),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(k,A){const P=typeof k=="string"?k:k.type;if(!P)throw new Error(Is(12));if(P in u.sliceCaseReducersByType)throw new Error(Is(13));return u.sliceCaseReducersByType[P]=A,m},addMatcher(k,A){return u.sliceMatchers.push({matcher:k,reducer:A}),m},exposeAction(k,A){return u.actionCreators[k]=A,m},exposeCaseReducer(k,A){return u.sliceCaseReducersByName[k]=A,m}};d.forEach(k=>{const A=c[k],P={reducerName:k,type:PW(i,k),createNotation:typeof a.reducers=="function"};LW(A)?DW(P,A,m,t):TW(P,A,m)});function f(){const[k={},A=[],P=void 0]=typeof a.extraReducers=="function"?kE(a.extraReducers):[a.extraReducers],E={...k,...u.sliceCaseReducersByType};return _W(a.initialState,T=>{for(let M in E)T.addCase(M,E[M]);for(let M of u.sliceMatchers)T.addMatcher(M.matcher,M.reducer);for(let M of A)T.addMatcher(M.matcher,M.reducer);P&&T.addDefaultCase(P)})}const g=k=>k,x=new Map,v=new WeakMap;let w;function b(k,A){return w||(w=f()),w(k,A)}function j(){return w||(w=f()),w.getInitialState()}function S(k,A=!1){function P(T){let M=T[k];return typeof M>"u"&&A&&(M=jf(v,P,j)),M}function E(T=g){const M=jf(x,A,()=>new WeakMap);return jf(M,T,()=>{const U={};for(const[D,B]of Object.entries(a.selectors??{}))U[D]=EW(B,T,()=>jf(v,T,j),A);return U})}return{reducerPath:k,getSelectors:E,get selectors(){return E(P)},selectSlice:P}}const _={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,...S(o),injectInto(k,{reducerPath:A,...P}={}){const E=A??o;return k.inject({reducerPath:E,reducer:b},P),{..._,...S(E,!0)}}};return _}}function EW(e,t,n,s){function a(i,...o){let c=t(i);return typeof c>"u"&&s&&(c=n()),e(c,...o)}return a.unwrapped=e,a}var Gs=AW();function OW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function TW({type:e,reducerName:t,createNotation:n},s,a){let i,o;if("reducer"in s){if(n&&!MW(s))throw new Error(Is(17));i=s.reducer,o=s.prepare}else i=s;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ma(e,o):ma(e))}function LW(e){return e._reducerDefinitionType==="asyncThunk"}function MW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function DW({type:e,reducerName:t},n,s,a){if(!a)throw new Error(Is(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:d,settled:u,options:m}=n,f=a(e,i,m);s.exposeAction(t,f),o&&s.addCase(f.fulfilled,o),c&&s.addCase(f.pending,c),d&&s.addCase(f.rejected,d),u&&s.addMatcher(f.settled,u),s.exposeCaseReducer(t,{fulfilled:o||Nf,pending:c||Nf,rejected:d||Nf,settled:u||Nf})}function Nf(){}var RW="task",CE="listener",PE="completed",oN="cancelled",IW=`task-${oN}`,FW=`task-${PE}`,Mb=`${CE}-${oN}`,BW=`${CE}-${PE}`,Px=class{constructor(e){va(this,"name","TaskAbortError");va(this,"message");this.code=e,this.message=`${RW} ${oN} (reason: ${e})`}},lN=(e,t)=>{if(typeof e!="function")throw new TypeError(Is(32))},ug=()=>{},AE=(e,t=ug)=>(e.catch(t),e),EE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tc=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},rc=e=>{if(e.aborted){const{reason:t}=e;throw new Px(t)}};function OE(e,t){let n=ug;return new Promise((s,a)=>{const i=()=>a(new Px(e.reason));if(e.aborted){i();return}n=EE(e,i),t.finally(()=>n()).then(s,a)}).finally(()=>{n=ug})}var $W=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Px?"cancelled":"rejected",error:n}}finally{t==null||t()}},mg=e=>t=>AE(OE(e,t).then(n=>(rc(e),n))),TE=e=>{const t=mg(e);return n=>t(new Promise(s=>setTimeout(s,n)))},{assign:fd}=Object,yk={},Ax="listenerMiddleware",zW=(e,t)=>{const n=s=>EE(e,()=>tc(s,e.reason));return(s,a)=>{lN(s);const i=new AbortController;n(i);const o=$W(async()=>{rc(e),rc(i.signal);const c=await s({pause:mg(i.signal),delay:TE(i.signal),signal:i.signal});return rc(i.signal),c},()=>tc(i,FW));return a!=null&&a.autoJoin&&t.push(o.catch(ug)),{result:mg(e)(o),cancel(){tc(i,IW)}}}},UW=(e,t)=>{const n=async(s,a)=>{rc(t);let i=()=>{};const c=[new Promise((d,u)=>{let m=e({predicate:s,effect:(f,g)=>{g.unsubscribe(),d([f,g.getState(),g.getOriginalState()])}});i=()=>{m(),u()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await OE(t,Promise.race(c));return rc(t),d}finally{i()}};return(s,a)=>AE(n(s,a))},LE=e=>{let{type:t,actionCreator:n,matcher:s,predicate:a,effect:i}=e;if(t)a=ma(t).match;else if(n)t=n.type,a=n.match;else if(s)a=s;else if(!a)throw new Error(Is(21));return lN(i),{predicate:a,type:t,effect:i}},ME=fd(e=>{const{type:t,predicate:n,effect:s}=LE(e);return{id:kW(),effect:s,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Is(22))}}},{withTypes:()=>ME}),vk=(e,t)=>{const{type:n,effect:s,predicate:a}=LE(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===s)},Db=e=>{e.pending.forEach(t=>{tc(t,Mb)})},GW=(e,t)=>()=>{for(const n of t.keys())Db(n);e.clear()},bk=(e,t,n)=>{try{e(t,n)}catch(s){setTimeout(()=>{throw s},0)}},DE=fd(ma(`${Ax}/add`),{withTypes:()=>DE}),WW=ma(`${Ax}/removeAll`),RE=fd(ma(`${Ax}/remove`),{withTypes:()=>RE}),HW=(...e)=>{console.error(`${Ax}/error`,...e)},ph=(e={})=>{const t=new Map,n=new Map,s=x=>{const v=n.get(x)??0;n.set(x,v+1)},a=x=>{const v=n.get(x)??1;v===1?n.delete(x):n.set(x,v-1)},{extra:i,onError:o=HW}=e;lN(o);const c=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),v=>{x.unsubscribe(),v!=null&&v.cancelActive&&Db(x)}),d=x=>{const v=vk(t,x)??ME(x);return c(v)};fd(d,{withTypes:()=>d});const u=x=>{const v=vk(t,x);return v&&(v.unsubscribe(),x.cancelActive&&Db(v)),!!v};fd(u,{withTypes:()=>u});const m=async(x,v,w,b)=>{const j=new AbortController,S=UW(d,j.signal),_=[];try{x.pending.add(j),s(x),await Promise.resolve(x.effect(v,fd({},w,{getOriginalState:b,condition:(k,A)=>S(k,A).then(Boolean),take:S,delay:TE(j.signal),pause:mg(j.signal),extra:i,signal:j.signal,fork:zW(j.signal,_),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((k,A,P)=>{k!==j&&(tc(k,Mb),P.delete(k))})},cancel:()=>{tc(j,Mb),x.pending.delete(j)},throwIfCancelled:()=>{rc(j.signal)}})))}catch(k){k instanceof Px||bk(o,k,{raisedBy:"effect"})}finally{await Promise.all(_),tc(j,BW),a(x),x.pending.delete(j)}},f=GW(t,n);return{middleware:x=>v=>w=>{if(!fE(w))return v(w);if(DE.match(w))return d(w.payload);if(WW.match(w)){f();return}if(RE.match(w))return u(w.payload);let b=x.getState();const j=()=>{if(b===yk)throw new Error(Is(23));return b};let S;try{if(S=v(w),t.size>0){const _=x.getState(),k=Array.from(t.values());for(const A of k){let P=!1;try{P=A.predicate(w,_,b)}catch(E){P=!1,bk(o,E,{raisedBy:"predicate"})}P&&m(A,w,x,j)}}}finally{b=yk}return S},startListening:d,stopListening:u,clearListeners:f}};function Is(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},IE=Gs({name:"chartLayout",initialState:qW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,s,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(s=t.payload.right)!==null&&s!==void 0?s:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:VW,setLayout:KW,setChartSize:ZW,setScale:YW}=IE.actions,QW=IE.reducer;function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function jk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(s){JW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function JW(e,t,n){return(t=XW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hg=Math.PI/180,tH=e=>e*180/Math.PI,Hr=(e,t,n,s)=>({x:e+Math.cos(-hg*s)*n,y:t+Math.sin(-hg*s)*n}),FE=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},rH=(e,t)=>{var{x:n,y:s}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(s-i)**2)},nH=(e,t)=>{var{x:n,y:s}=e,{cx:a,cy:i}=t,o=rH({x:n,y:s},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var c=(n-a)/o,d=Math.acos(c);return s>i&&(d=2*Math.PI-d),{radius:o,angle:tH(d),angleInRadian:d}},sH=e=>{var{startAngle:t,endAngle:n}=e,s=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(s,a);return{startAngle:t-i*360,endAngle:n-i*360}},aH=(e,t)=>{var{startAngle:n,endAngle:s}=t,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return e+o*360},iH=(e,t)=>{var{x:n,y:s}=e,{radius:a,angle:i}=nH({x:n,y:s},t),{innerRadius:o,outerRadius:c}=t;if(a<o||a>c||a===0)return null;var{startAngle:d,endAngle:u}=sH(t),m=i,f;if(d<=u){for(;m>u;)m-=360;for(;m<d;)m+=360;f=m>=d&&m<=u}else{for(;m>d;)m-=360;for(;m<u;)m+=360;f=m>=u&&m<=d}return f?jk(jk({},t),{},{radius:a,angle:aH(m,t)}):null};function BE(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(s){oH(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oH(e,t,n){return(t=lH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e){var t=cH(e,"string");return typeof t=="symbol"?t:t+""}function cH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lr(e,t,n){return vr(e)||vr(t)?n:li(t)?pc(e,t,n):typeof t=="function"?t(e):n}var dH=(e,t,n,s,a)=>{var i,o=-1,c=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(s==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var u=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,f=d>=c-1?n[0].coordinate:n[d+1].coordinate,g=void 0;if(fn(m-u)!==fn(f-m)){var x=[];if(fn(f-m)===fn(a[1]-a[0])){g=f;var v=m+a[1]-a[0];x[0]=Math.min(v,(v+u)/2),x[1]=Math.max(v,(v+u)/2)}else{g=u;var w=f+a[1]-a[0];x[0]=Math.min(m,(w+m)/2),x[1]=Math.max(m,(w+m)/2)}var b=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){({index:o}=n[d]);break}}else{var j=Math.min(u,f),S=Math.max(u,f);if(e>(j+m)/2&&e<=(S+m)/2){({index:o}=n[d]);break}}}else if(t){for(var _=0;_<c;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<c-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===c-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:o}=t[_]);break}}return o},uH=(e,t,n)=>{if(t&&n){var{width:s,height:a}=n,{align:i,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&st(e[i]))return na(na({},e),{},{[i]:e[i]+(s||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&st(e[o]))return na(na({},e),{},{[o]:e[o]+(a||0)})}return e},hl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",$E=(e,t,n,s)=>{if(s)return e.map(c=>c.coordinate);var a,i,o=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===n&&(i=!0),c.coordinate));return a||o.push(t),i||o.push(n),o},zE=(e,t,n)=>{if(!e)return null;var{duplicateDomain:s,type:a,range:i,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:u,tickCount:m,ticks:f,niceTicks:g,axisType:x}=e;if(!o)return null;var v=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(w=x==="angleAxis"&&i&&i.length>=2?fn(i[0]-i[1])*2*w:w,f||g){var b=(f||g||[]).map((j,S)=>{var _=s?s.indexOf(j):j;return{coordinate:o(_)+w,value:j,offset:w,index:S}});return b.filter(j=>!ua(j.coordinate))}return d&&u?u.map((j,S)=>({coordinate:o(j)+w,value:j,index:S,offset:w})):o.ticks&&m!=null?o.ticks(m).map((j,S)=>({coordinate:o(j)+w,value:j,offset:w,index:S})):o.domain().map((j,S)=>({coordinate:o(j)+w,value:s?s[j]:j,index:S,offset:w}))},_k=1e-4,mH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,s=e.range(),a=Math.min(s[0],s[1])-_k,i=Math.max(s[0],s[1])+_k,o=e(t[0]),c=e(t[n-1]);(o<a||o>i||c<a||c>i)&&e.domain([t[0],t[n-1]])}},hH=(e,t)=>{if(!t||t.length!==2||!st(t[0])||!st(t[1]))return e;var n=Math.min(t[0],t[1]),s=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!st(e[0])||e[0]<n)&&(a[0]=n),(!st(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},fH=e=>{var t=e.length;if(!(t<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,i=0,o=0;o<t;++o){var c=ua(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1])}},pH=e=>{var t=e.length;if(!(t<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,i=0;i<t;++i){var o=ua(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},gH={sign:fH,expand:XU,none:Id,silhouette:eG,wiggle:tG,positive:pH},xH=(e,t,n)=>{var s=gH[n],a=JU().keys(t).value((i,o)=>+lr(i,o,0)).order(Sb).offset(s);return a(e)};function yH(e){return e==null?void 0:String(e)}function Sk(e){var{axis:t,ticks:n,bandSize:s,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vr(a[t.dataKey])){var c=MA(n,"value",a[t.dataKey]);if(c)return c.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var d=lr(a,vr(o)?t.dataKey:o);return vr(d)?null:t.scale(d)}var kk=e=>{var{axis:t,ticks:n,offset:s,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+s:null;var c=lr(i,t.dataKey,t.scale.domain()[o]);return vr(c)?null:t.scale(c)-a/2+s},vH=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},bH=e=>{var t=e.flat(2).filter(st);return[Math.min(...t),Math.max(...t)]},wH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],jH=(e,t,n)=>{if(e!=null)return wH(Object.keys(e).reduce((s,a)=>{var i=e[a],{stackedData:o}=i,c=o.reduce((d,u)=>{var m=BE(u,t,n),f=bH(m);return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]))},Ck=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Um=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&t&&t.length>=2){for(var a=_x(t,m=>m.coordinate),i=1/0,o=1,c=a.length;o<c;o++){var d=a[o],u=a[o-1];i=Math.min((d.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function Ak(e){var{tooltipEntrySettings:t,dataKey:n,payload:s,value:a,name:i}=e;return na(na({},t),{},{dataKey:n,payload:s,value:a,name:i})}function ru(e,t){if(e)return String(e);if(typeof t=="string")return t}function NH(e,t,n,s,a){if(n==="horizontal"||n==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return s?iH({x:e,y:t},s):null}var _H=(e,t,n,s)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=s;return na(na(na({},s),Hr(s.cx,s.cy,o,i)),{},{angle:i,radius:o})}var c=a.coordinate,{angle:d}=s;return na(na(na({},s),Hr(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},SH=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Qi=e=>e.layout.width,Ji=e=>e.layout.height,kH=e=>e.layout.scale,UE=e=>e.layout.margin,Ex=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ox=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),GE="data-recharts-item-index",WE="data-recharts-item-data-key",gh=60;function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(s){CH(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function CH(e,t,n){return(t=PH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EH=e=>e.brush.height;function OH(e){var t=Ox(e);return t.reduce((n,s)=>{if(s.orientation==="left"&&!s.mirror&&!s.hide){var a=typeof s.width=="number"?s.width:gh;return n+a}return n},0)}function TH(e){var t=Ox(e);return t.reduce((n,s)=>{if(s.orientation==="right"&&!s.mirror&&!s.hide){var a=typeof s.width=="number"?s.width:gh;return n+a}return n},0)}function LH(e){var t=Ex(e);return t.reduce((n,s)=>s.orientation==="top"&&!s.mirror&&!s.hide?n+s.height:n,0)}function MH(e){var t=Ex(e);return t.reduce((n,s)=>s.orientation==="bottom"&&!s.mirror&&!s.hide?n+s.height:n,0)}var tn=de([Qi,Ji,UE,EH,OH,TH,LH,MH,dE,JG],(e,t,n,s,a,i,o,c,d,u)=>{var m={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+c},g=_f(_f({},f),m),x=g.bottom;g.bottom+=s,g=uH(g,d,u);var v=e-g.left-g.right,w=t-g.top-g.bottom;return _f(_f({brushBottom:x},g),{},{width:Math.max(v,0),height:Math.max(w,0)})}),DH=de(tn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),cN=de(Qi,Ji,(e,t)=>({x:0,y:0,width:e,height:t})),RH=p.createContext(null),as=()=>p.useContext(RH)!=null,Tx=e=>e.brush,Lx=de([Tx,tn,UE],(e,t,n)=>({height:e.height,x:st(e.x)?e.x:t.left,y:st(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:st(e.width)?e.width:t.width})),HE={},qE={},VE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,s,{signal:a,edges:i}={}){let o,c=null;const d=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),m=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},f=()=>{u&&m(),w()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},s)},v=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{v(),o=void 0,c=null},b=()=>{m()},j=function(...S){if(a!=null&&a.aborted)return;o=this,c=S;const _=g==null;x(),d&&_&&m()};return j.schedule=x,j.cancel=w,j.flush=b,a==null||a.addEventListener("abort",w,{once:!0}),j}e.debounce=t})(VE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VE;function n(s,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:d}=i,u=Array(2);o&&(u[0]="leading"),c&&(u[1]="trailing");let m,f=null;const g=t.debounce(function(...w){m=s.apply(this,w),f=null},a,{edges:u}),x=function(...w){return d!=null&&(f===null&&(f=Date.now()),Date.now()-f>=d)?(m=s.apply(this,w),f=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,w),m)},v=()=>(g.flush(),m);return x.cancel=g.cancel,x.flush=v,x}e.debounce=n})(qE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qE;function n(s,a=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return t.debounce(s,a,{leading:o,maxWait:a,trailing:c})}e.throttle=n})(HE);var IH=HE.throttle;const FH=bs(IH);var fg=function(t,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},KE=(e,t,n)=>{var{width:s="100%",height:a="100%",aspect:i,maxHeight:o}=n,c=Gi(s)?e:Number(s),d=Gi(a)?t:Number(a);return i&&i>0&&(c?d=c/i:d&&(c=d*i),o&&d>o&&(d=o)),{calculatedWidth:c,calculatedHeight:d}},BH={width:0,height:0,overflow:"visible"},$H={width:0,overflowX:"visible"},zH={height:0,overflowY:"visible"},UH={},GH=e=>{var{width:t,height:n}=e,s=Gi(t),a=Gi(n);return s&&a?BH:s?$H:a?zH:UH};function WH(e){var{width:t,height:n,aspect:s}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=s&&s>0?void 0:"100%":i===void 0&&(i=s&&s>0?void 0:"100%"),{width:a,height:i}}function Fn(e){return Number.isFinite(e)}function Bd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rb.apply(null,arguments)}function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(s){HH(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function HH(e,t,n){return(t=qH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZE=p.createContext({width:-1,height:-1});function YE(e){var{children:t,width:n,height:s}=e,a=p.useMemo(()=>({width:n,height:s}),[n,s]);return n<=0||s<=0?null:p.createElement(ZE.Provider,{value:a},t)}var dN=()=>p.useContext(ZE),KH=p.forwardRef((e,t)=>{var{aspect:n,initialDimension:s={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:c,maxHeight:d,children:u,debounce:m=0,id:f,className:g,onResize:x,style:v={}}=e,w=p.useRef(null),b=p.useRef();b.current=x,p.useImperativeHandle(t,()=>w.current);var[j,S]=p.useState({containerWidth:s.width,containerHeight:s.height}),_=p.useCallback((T,M)=>{S(U=>{var D=Math.round(T),B=Math.round(M);return U.containerWidth===D&&U.containerHeight===B?U:{containerWidth:D,containerHeight:B}})},[]);p.useEffect(()=>{var T=B=>{var z,{width:X,height:le}=B[0].contentRect;_(X,le),(z=b.current)===null||z===void 0||z.call(b,X,le)};m>0&&(T=FH(T,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(T),{width:U,height:D}=w.current.getBoundingClientRect();return _(U,D),M.observe(w.current),()=>{M.disconnect()}},[_,m]);var{containerWidth:k,containerHeight:A}=j;fg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:E}=KE(k,A,{width:a,height:i,aspect:n,maxHeight:d});return fg(P>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,E,a,i,o,c,n),p.createElement("div",{id:f?"".concat(f):void 0,className:It("recharts-responsive-container",g),style:Tk(Tk({},v),{},{width:a,height:i,minWidth:o,minHeight:c,maxHeight:d}),ref:w},p.createElement("div",{style:GH({width:a,height:i})},p.createElement(YE,{width:P,height:E},u)))}),wa=p.forwardRef((e,t)=>{var n=dN();if(Bd(n.width)&&Bd(n.height))return e.children;var{width:s,height:a}=WH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=KE(void 0,void 0,{width:s,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return st(i)&&st(o)?p.createElement(YE,{width:i,height:o},e.children):p.createElement(KH,Rb({},e,{width:s,height:a,ref:t}))}),Mx=()=>{var e,t=as(),n=Je(DH),s=Je(Lx),a=(e=Je(Tx))===null||e===void 0?void 0:e.padding;return!t||!s||!a?n:{width:s.width-a.left-a.right,height:s.height-a.top-a.bottom,x:a.left,y:a.top}},ZH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QE=()=>{var e;return(e=Je(tn))!==null&&e!==void 0?e:ZH},uN=()=>Je(Qi),mN=()=>Je(Ji),YH=()=>Je(e=>e.layout.margin),Pt=e=>e.layout.layoutType,Dx=()=>Je(Pt),Rx=e=>{var t=br(),n=as(),{width:s,height:a}=e,i=dN(),o=s,c=a;return i&&(o=i.width>0?i.width:s,c=i.height>0?i.height:a),p.useEffect(()=>{!n&&Bd(o)&&Bd(c)&&t(ZW({width:o,height:c}))},[t,n,o,c]),null},QH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},JE=Gs({name:"legend",initialState:QH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zn()},removeLegendPayload:{reducer(e,t){var n=Mi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Zn()}}}),{setLegendSize:Lk,setLegendSettings:JH,addLegendPayload:XE,removeLegendPayload:eO}=JE.actions,XH=JE.reducer,eq=["contextPayload"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ib.apply(null,arguments)}function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(s){hN(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hN(e,t,n){return(t=tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nq(e,t){if(e==null)return{};var n,s,a=sq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sq(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function aq(e){return e.value}function iq(e){var{contextPayload:t}=e,n=nq(e,eq),s=XA(t,e.payloadUniqBy,aq),a=$d($d({},n),{},{payload:s});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(Hj,a)}function oq(e,t,n,s,a,i){var{layout:o,align:c,verticalAlign:d}=t,u,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?u={left:((s||0)-i.width)/2}:u=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?m={top:((a||0)-i.height)/2}:m=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),$d($d({},u),m)}function lq(e){var t=br();return p.useEffect(()=>{t(JH(e))},[t,e]),null}function cq(e){var t=br();return p.useEffect(()=>(t(Lk(e)),()=>{t(Lk({width:0,height:0}))}),[t,e]),null}function dq(e){var t=tW(),n=jU(),s=YH(),{width:a,height:i,wrapperStyle:o,portal:c}=e,[d,u]=uE([t]),m=uN(),f=mN();if(m==null||f==null)return null;var g=m-(s.left||0)-(s.right||0),x=jo.getWidthOrHeight(e.layout,i,a,g),v=c?o:$d($d({position:"absolute",width:(x==null?void 0:x.width)||a||"auto",height:(x==null?void 0:x.height)||i||"auto"},oq(o,e,s,m,f,d)),o),w=c??n;if(w==null)return null;var b=p.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},p.createElement(lq,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(cq,{width:d.width,height:d.height}),p.createElement(iq,Ib({},e,x,{margin:s,chartWidth:m,chartHeight:f,contextPayload:t})));return nx.createPortal(b,w)}class jo extends p.PureComponent{static getWidthOrHeight(t,n,s,a){return t==="vertical"&&st(n)?{height:n}:t==="horizontal"?{width:s||a}:null}render(){return p.createElement(dq,this.props)}}hN(jo,"displayName","Legend");hN(jo,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fb.apply(null,arguments)}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function _y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(n),!0).forEach(function(s){uq(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uq(e,t,n){return(t=mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fq(e){return Array.isArray(e)&&li(e[0])&&li(e[1])?e.join(" ~ "):e}var pq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:s={},labelStyle:a={},payload:i,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:u,label:m,labelFormatter:f,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var A={padding:0,margin:0},P=(c?_x(i,c):i).map((E,T)=>{if(E.type==="none")return null;var M=E.formatter||o||fq,{value:U,name:D}=E,B=U,z=D;if(M){var X=M(U,D,E,T,i);if(Array.isArray(X))[B,z]=X;else if(X!=null)B=X;else return null}var le=_y({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},s);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:le},li(z)?p.createElement("span",{className:"recharts-tooltip-item-name"},z):null,li(z)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},B),p.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:A},P)}return null},v=_y({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=_y({margin:0},a),b=!vr(m),j=b?m:"",S=It("recharts-default-tooltip",d),_=It("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(j=f(m,i));var k=g?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",Fb({className:S,style:v},k),p.createElement("p",{className:_,style:w},p.isValidElement(j)?j:"".concat(j)),x())},Tu="recharts-tooltip-wrapper",gq={visibility:"hidden"};function xq(e){var{coordinate:t,translateX:n,translateY:s}=e;return It(Tu,{["".concat(Tu,"-right")]:st(n)&&t&&st(t.x)&&n>=t.x,["".concat(Tu,"-left")]:st(n)&&t&&st(t.x)&&n<t.x,["".concat(Tu,"-bottom")]:st(s)&&t&&st(t.y)&&s>=t.y,["".concat(Tu,"-top")]:st(s)&&t&&st(t.y)&&s<t.y})}function Rk(e){var{allowEscapeViewBox:t,coordinate:n,key:s,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:u}=e;if(i&&st(i[s]))return i[s];var m=n[s]-c-(a>0?a:0),f=n[s]+a;if(t[s])return o[s]?m:f;var g=d[s];if(g==null)return 0;if(o[s]){var x=m,v=g;return x<v?Math.max(f,g):Math.max(m,g)}if(u==null)return 0;var w=f+c,b=g+u;return w>b?Math.max(m,g):Math.max(f,g)}function yq(e){var{translateX:t,translateY:n,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function vq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:s,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:d}=e,u,m,f;return o.height>0&&o.width>0&&n?(m=Rk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),f=Rk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=yq({translateX:m,translateY:f,useTranslate3d:c})):u=gq,{cssProperties:u,cssClasses:xq({translateX:m,translateY:f,coordinate:n})}}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(s){Bb(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Bb(e,t,n){return(t=bq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jq extends p.PureComponent{constructor(){super(...arguments),Bb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Bb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,s,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:s,animationEasing:a,children:i,coordinate:o,hasPayload:c,isAnimationActive:d,offset:u,position:m,reverseDirection:f,useTranslate3d:g,viewBox:x,wrapperStyle:v,lastBoundingBox:w,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:S,cssProperties:_}=vq({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:m,reverseDirection:f,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:x}),k=j?{}:Sf(Sf({transition:d&&t?"transform ".concat(s,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),A=Sf(Sf({},k),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:A,ref:b},i)}}var Nq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fl={devToolsEnabled:!1,isSsr:Nq()},tO=()=>Je(e=>e.rootProps.accessibilityLayer);function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$b.apply(null,arguments)}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(s){_q(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _q(e,t,n){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $k={curveBasisClosed:zU,curveBasisOpen:UU,curveBasis:$U,curveBumpX:kU,curveBumpY:CU,curveLinearClosed:GU,curveLinear:xx,curveMonotoneX:WU,curveMonotoneY:HU,curveNatural:qU,curveStep:VU,curveStepAfter:ZU,curveStepBefore:KU},kf=e=>Fn(e.x)&&Fn(e.y),Lu=e=>e.x,Mu=e=>e.y,Cq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(mh(e));return(n==="curveMonotone"||n==="curveBump")&&t?$k["".concat(n).concat(t==="vertical"?"Y":"X")]:$k[n]||xx},Pq=e=>{var{type:t="linear",points:n=[],baseLine:s,layout:a,connectNulls:i=!1}=e,o=Cq(t,a),c=i?n.filter(kf):n,d;if(Array.isArray(s)){var u=i?s.filter(f=>kf(f)):s,m=c.map((f,g)=>Bk(Bk({},f),{},{base:u[g]}));return a==="vertical"?d=yf().y(Mu).x1(Lu).x0(f=>f.base.x):d=yf().x(Lu).y1(Mu).y0(f=>f.base.y),d.defined(kf).curve(o),d(m)}return a==="vertical"&&st(s)?d=yf().y(Mu).x1(Lu).x0(s):st(s)?d=yf().x(Lu).y1(Mu).y0(s):d=bA().x(Lu).y(Mu),d.defined(kf).curve(o),d(c)},fN=e=>{var{className:t,points:n,path:s,pathRef:a}=e;if((!n||!n.length)&&!s)return null;var i=n&&n.length?Pq(e):s;return p.createElement("path",$b({},Bs(e),Gj(e),{className:It("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Aq=["x","y","top","left","width","height","className"];function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zb.apply(null,arguments)}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Eq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(s){Oq(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Oq(e,t,n){return(t=Tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tq(e){var t=Lq(e,"string");return typeof t=="symbol"?t:t+""}function Lq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mq(e,t){if(e==null)return{};var n,s,a=Dq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Dq(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Rq=(e,t,n,s,a,i)=>"M".concat(e,",").concat(a,"v").concat(s,"M").concat(i,",").concat(t,"h").concat(n),Iq=e=>{var{x:t=0,y:n=0,top:s=0,left:a=0,width:i=0,height:o=0,className:c}=e,d=Mq(e,Aq),u=Eq({x:t,y:n,top:s,left:a,width:i,height:o},d);return!st(t)||!st(n)||!st(i)||!st(o)||!st(s)||!st(a)?null:p.createElement("path",zb({},es(u),{className:It("recharts-cross",c),d:Rq(t,n,i,o,s,a)}))};function Fq(e,t,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Bq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(n),!0).forEach(function(s){$q(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $q(e,t,n){return(t=zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=Uq(e,"string");return typeof t=="symbol"?t:t+""}function Uq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(e,t){var n=Bq({},e),s=t,a=Object.keys(t),i=a.reduce((o,c)=>(o[c]===void 0&&s[c]!==void 0&&(o[c]=s[c]),o),n);return i}function Gq(){}function Wq(e){return e!=null}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(s){Hq(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hq(e,t,n){return(t=qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=Vq(e,"string");return typeof t=="symbol"?t:t+""}function Vq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rO=(e,t,n)=>e.map(s=>"".concat(Kq(s)," ").concat(t,"ms ").concat(n)).join(","),Zq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,s)=>n.filter(a=>s.includes(a))),Gm=(e,t)=>Object.keys(t).reduce((n,s)=>Wk(Wk({},n),{},{[s]:e(s,t[s])}),{});function Hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(n),!0).forEach(function(s){Yq(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Yq(e,t,n){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=(e,t,n)=>e+(t-e)*n,Ub=e=>{var{from:t,to:n}=e;return t!==n},nO=(e,t,n)=>{var s=Gm((a,i)=>{if(Ub(i)){var[o,c]=e(i.from,i.to,i.velocity);return Nn(Nn({},i),{},{from:o,velocity:c})}return i},t);return n<1?Gm((a,i)=>Ub(i)?Nn(Nn({},i),{},{velocity:pg(i.velocity,s[a].velocity,n),from:pg(i.from,s[a].from,n)}):i,t):nO(e,s,n-1)};function Xq(e,t,n,s,a,i){var o,c=s.reduce((g,x)=>Nn(Nn({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Gm((g,x)=>x.from,c),u=()=>!Object.values(c).filter(Ub).length,m=null,f=g=>{o||(o=g);var x=g-o,v=x/n.dt;c=nO(n,c,v),a(Nn(Nn(Nn({},e),t),d())),o=g,u()||(m=i.setTimeout(f))};return()=>(m=i.setTimeout(f),()=>{m()})}function eV(e,t,n,s,a,i,o){var c=null,d=a.reduce((f,g)=>Nn(Nn({},f),{},{[g]:[e[g],t[g]]}),{}),u,m=f=>{u||(u=f);var g=(f-u)/s,x=Gm((w,b)=>pg(...b,n(g)),d);if(i(Nn(Nn(Nn({},e),t),x)),g<1)c=o.setTimeout(m);else{var v=Gm((w,b)=>pg(...b,n(1)),d);i(Nn(Nn(Nn({},e),t),v))}};return()=>(c=o.setTimeout(m),()=>{c()})}const tV=(e,t,n,s,a,i)=>{var o=Zq(e,t);return n.isStepper===!0?Xq(e,t,n,o,a,i):eV(e,t,n,s,o,a,i)};var gg=1e-4,sO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],aO=(e,t)=>e.map((n,s)=>n*t**s).reduce((n,s)=>n+s),qk=(e,t)=>n=>{var s=sO(e,t);return aO(s,n)},rV=(e,t)=>n=>{var s=sO(e,t),a=[...s.map((i,o)=>i*o).slice(1),0];return aO(a,n)},Vk=function(){for(var t,n,s,a,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[t,s,n,a]=[0,0,1,1];break;case"ease":[t,s,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,s,n,a]=[.42,0,1,1];break;case"ease-out":[t,s,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,s,n,a]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,s,n,a]=d[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else o.length===4&&([t,s,n,a]=o);var u=qk(t,n),m=qk(s,a),f=rV(t,n),g=v=>v>1?1:v<0?0:v,x=v=>{for(var w=v>1?1:v,b=w,j=0;j<8;++j){var S=u(b)-w,_=f(b);if(Math.abs(S-w)<gg||_<gg)return m(b);b=g(b-S/_)}return m(b)};return x.isStepper=!1,x},nV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:s=8,dt:a=17}=t,i=(o,c,d)=>{var u=-(o-c)*n,m=d*s,f=d+(u-m)*a/1e3,g=d*a/1e3+o;return Math.abs(g-c)<gg&&Math.abs(f)<gg?[c,0]:[g,f]};return i.isStepper=!0,i.dt=a,i},sV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Vk(e);case"spring":return nV();default:if(e.split("(")[0]==="cubic-bezier")return Vk(e)}return typeof e=="function"?e:null};function aV(e){var t,n=()=>null,s=!1,a=null,i=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...u]=c;if(typeof d=="number"){a=e.setTimeout(i.bind(null,u),d);return}i(d),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class iV{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),a=null,i=o=>{o-s>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function oV(){return aV(new iV)}var lV=p.createContext(oV);function cV(e,t){var n=p.useContext(lV);return p.useMemo(()=>t??n(e),[e,t,n])}var dV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Kk={t:0},Sy={t:1};function xh(e){var t=Cn(e,dV),{isActive:n,canBegin:s,duration:a,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:d,children:u}=t,m=cV(t.animationId,t.animationManager),[f,g]=p.useState(n?Kk:Sy),x=p.useRef(null);return p.useEffect(()=>{n||g(Sy)},[n]),p.useEffect(()=>{if(!n||!s)return Gq;var v=tV(Kk,Sy,sV(i),a,g,m.getTimeoutController()),w=()=>{x.current=v()};return m.start([d,o,w,a,c]),()=>{m.stop(),x.current&&x.current(),c()}},[n,s,a,i,o,d,c,m]),u(f.t)}function yh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=p.useRef(Fm(t)),s=p.useRef(e);return s.current!==e&&(n.current=Fm(t),s.current=e),n.current}var uV=["radius"],mV=["radius"];function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Yk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(s){hV(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hV(e,t,n){return(t=fV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xg.apply(null,arguments)}function Qk(e,t){if(e==null)return{};var n,s,a=gV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gV(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Jk=(e,t,n,s,a)=>{var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),o=s>=0?1:-1,c=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,u;if(i>0&&a instanceof Array){for(var m=[0,0,0,0],f=0,g=4;f<g;f++)m[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+o*m[0]),m[0]>0&&(u+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(t)),u+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(u+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+o*m[1])),u+="L ".concat(e+n,",").concat(t+s-o*m[2]),m[2]>0&&(u+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(t+s)),u+="L ".concat(e+c*m[3],",").concat(t+s),m[3]>0&&(u+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+s-o*m[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var x=Math.min(i,a);u="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(t,`
            L `).concat(e+n-c*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(t+o*x,`
            L `).concat(e+n,",").concat(t+s-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-c*x,",").concat(t+s,`
            L `).concat(e+c*x,",").concat(t+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+s-o*x," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return u},xV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iO=e=>{var t=Cn(e,xV),n=p.useRef(null),[s,a]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ae=n.current.getTotalLength();ae&&a(ae)}catch{}},[]);var{x:i,y:o,width:c,height:d,radius:u,className:m}=t,{animationEasing:f,animationDuration:g,animationBegin:x,isAnimationActive:v,isUpdateAnimationActive:w}=t,b=p.useRef(c),j=p.useRef(d),S=p.useRef(i),_=p.useRef(o),k=p.useMemo(()=>({x:i,y:o,width:c,height:d,radius:u}),[i,o,c,d,u]),A=yh(k,"rectangle-");if(i!==+i||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var P=It("recharts-rectangle",m);if(!w){var E=es(t),{radius:T}=E,M=Qk(E,uV);return p.createElement("path",xg({},M,{radius:typeof u=="number"?u:void 0,className:P,d:Jk(i,o,c,d,u)}))}var U=b.current,D=j.current,B=S.current,z=_.current,X="0px ".concat(s===-1?1:s,"px"),le="".concat(s,"px 0px"),$=rO(["strokeDasharray"],g,typeof f=="string"?f:void 0);return p.createElement(xh,{animationId:A,key:A,canBegin:s>0,duration:g,easing:f,isActive:w,begin:x},ae=>{var G=Mr(U,c,ae),ie=Mr(D,d,ae),ce=Mr(B,i,ae),I=Mr(z,o,ae);n.current&&(b.current=G,j.current=ie,S.current=ce,_.current=I);var pe;v?ae>0?pe={transition:$,strokeDasharray:le}:pe={strokeDasharray:X}:pe={strokeDasharray:le};var Q=es(t),{radius:xe}=Q,je=Qk(Q,mV);return p.createElement("path",xg({},je,{radius:typeof u=="number"?u:void 0,className:P,d:Jk(ce,I,G,ie,u),ref:n,style:Yk(Yk({},pe),t.style)}))})};function oO(e){var{cx:t,cy:n,radius:s,startAngle:a,endAngle:i}=e,o=Hr(t,n,s,a),c=Hr(t,n,s,i);return{points:[o,c],cx:t,cy:n,radius:s,startAngle:a,endAngle:i}}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gb.apply(null,arguments)}var yV=(e,t)=>{var n=fn(t-e),s=Math.min(Math.abs(t-e),359.999);return n*s},Cf=e=>{var{cx:t,cy:n,radius:s,angle:a,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:d}=e,u=c*(o?1:-1)+s,m=Math.asin(c/u)/hg,f=d?a:a+i*m,g=Hr(t,n,u,f),x=Hr(t,n,s,f),v=d?a-i*m:a,w=Hr(t,n,u*Math.cos(m*hg),v);return{center:g,circleTangency:x,lineTangency:w,theta:m}},lO=e=>{var{cx:t,cy:n,innerRadius:s,outerRadius:a,startAngle:i,endAngle:o}=e,c=yV(i,o),d=i+c,u=Hr(t,n,a,i),m=Hr(t,n,a,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var g=Hr(t,n,s,i),x=Hr(t,n,s,d);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},vV=e=>{var{cx:t,cy:n,innerRadius:s,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}=e,m=fn(u-d),{circleTangency:f,lineTangency:g,theta:x}=Cf({cx:t,cy:n,radius:a,angle:d,sign:m,cornerRadius:i,cornerIsExternal:c}),{circleTangency:v,lineTangency:w,theta:b}=Cf({cx:t,cy:n,radius:a,angle:u,sign:-m,cornerRadius:i,cornerIsExternal:c}),j=c?Math.abs(d-u):Math.abs(d-u)-x-b;if(j<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):lO({cx:t,cy:n,innerRadius:s,outerRadius:a,startAngle:d,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var{circleTangency:_,lineTangency:k,theta:A}=Cf({cx:t,cy:n,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:P,lineTangency:E,theta:T}=Cf({cx:t,cy:n,radius:s,angle:u,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),M=c?Math.abs(d-u):Math.abs(d-u)-A-T;if(M<0&&i===0)return"".concat(S,"L").concat(t,",").concat(n,"Z");S+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(m>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(t,",").concat(n,"Z");return S},bV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cO=e=>{var t=Cn(e,bV),{cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m,className:f}=t;if(i<a||u===m)return null;var g=It("recharts-sector",f),x=i-a,v=Rn(o,x,0,!0),w;return v>0&&Math.abs(u-m)<360?w=vV({cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m}):w=lO({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:m}),p.createElement("path",Gb({},es(t),{className:g,d:w}))};function wV(e,t,n){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,s=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:u,outerRadius:m,angle:f}=t,g=Hr(c,d,u,f),x=Hr(c,d,m,f);s=g.x,a=g.y,i=x.x,o=x.y}else return oO(t);return[{x:s,y:a},{x:i,y:o}]}var dO={},uO={},mO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN;function n(s){return t.isSymbol(s)?NaN:Number(s)}e.toNumber=n})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mO;function n(s){return s?(s=t.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=n})(uO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nN,n=uO;function s(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((i-a)/(o||1)),0),d=new Array(c);for(let u=0;u<c;u++)d[u]=a,a+=o;return d}e.range=s})(dO);var jV=dO.range;const hO=bs(jV);function Ko(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pN(e){let t,n,s;e.length!==2?(t=Ko,n=(c,d)=>Ko(e(c),d),s=(c,d)=>e(c)-d):(t=e===Ko||e===NV?e:_V,n=e,s=e);function a(c,d,u=0,m=c.length){if(u<m){if(t(d,d)!==0)return m;do{const f=u+m>>>1;n(c[f],d)<0?u=f+1:m=f}while(u<m)}return u}function i(c,d,u=0,m=c.length){if(u<m){if(t(d,d)!==0)return m;do{const f=u+m>>>1;n(c[f],d)<=0?u=f+1:m=f}while(u<m)}return u}function o(c,d,u=0,m=c.length){const f=a(c,d,u,m-1);return f>u&&s(c[f-1],d)>-s(c[f],d)?f-1:f}return{left:a,center:o,right:i}}function _V(){return 0}function fO(e){return e===null?NaN:+e}function*SV(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const kV=pN(Ko),vh=kV.right;pN(fO).center;class Xk extends Map{constructor(t,n=AV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(e5(this,t))}has(t){return super.has(e5(this,t))}set(t,n){return super.set(CV(this,t),n)}delete(t){return super.delete(PV(this,t))}}function e5({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function CV({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function PV({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function AV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function EV(e=Ko){if(e===Ko)return pO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function pO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OV=Math.sqrt(50),TV=Math.sqrt(10),LV=Math.sqrt(2);function yg(e,t,n){const s=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=OV?10:i>=TV?5:i>=LV?2:1;let c,d,u;return a<0?(u=Math.pow(10,-a)/o,c=Math.round(e*u),d=Math.round(t*u),c/u<e&&++c,d/u>t&&--d,u=-u):(u=Math.pow(10,a)*o,c=Math.round(e/u),d=Math.round(t/u),c*u<e&&++c,d*u>t&&--d),d<c&&.5<=n&&n<2?yg(e,t,n*2):[c,d,u]}function Wb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?yg(t,e,n):yg(e,t,n);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(s)if(o<0)for(let u=0;u<c;++u)d[u]=(i-u)/-o;else for(let u=0;u<c;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<c;++u)d[u]=(a+u)/-o;else for(let u=0;u<c;++u)d[u]=(a+u)*o;return d}function Hb(e,t,n){return t=+t,e=+e,n=+n,yg(e,t,n)[2]}function qb(e,t,n){t=+t,e=+e,n=+n;const s=t<e,a=s?Hb(t,e,n):Hb(e,t,n);return(s?-1:1)*(a<0?1/-a:a)}function t5(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function r5(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function gO(e,t,n=0,s=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(a=a===void 0?pO:EV(a);s>n;){if(s-n>600){const d=s-n+1,u=t-n+1,m=Math.log(d),f=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*f*(d-f)/d)*(u-d/2<0?-1:1),x=Math.max(n,Math.floor(t-u*f/d+g)),v=Math.min(s,Math.floor(t+(d-u)*f/d+g));gO(e,t,x,v,a)}const i=e[t];let o=n,c=s;for(Du(e,n,t),a(e[s],i)>0&&Du(e,n,s);o<c;){for(Du(e,o,c),++o,--c;a(e[o],i)<0;)++o;for(;a(e[c],i)>0;)--c}a(e[n],i)===0?Du(e,n,c):(++c,Du(e,c,s)),c<=t&&(n=c+1),t<=c&&(s=c-1)}return e}function Du(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function MV(e,t,n){if(e=Float64Array.from(SV(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return r5(e);if(t>=1)return t5(e);var s,a=(s-1)*t,i=Math.floor(a),o=t5(gO(e,i).subarray(0,i+1)),c=r5(e.subarray(i+1));return o+(c-o)*(a-i)}}function DV(e,t,n=fO){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+n(e[i],i,e),c=+n(e[i+1],i+1,e);return o+(c-o)*(a-i)}}function RV(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vb=Symbol("implicit");function gN(){var e=new Xk,t=[],n=[],s=Vb;function a(i){let o=e.get(i);if(o===void 0){if(s!==Vb)return s;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Xk;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return gN(t,n).unknown(s)},pa.apply(a,arguments),a}function xN(){var e=gN().unknown(void 0),t=e.domain,n=e.range,s=0,a=1,i,o,c=!1,d=0,u=0,m=.5;delete e.unknown;function f(){var g=t().length,x=a<s,v=x?a:s,w=x?s:a;i=(w-v)/Math.max(1,g-d+u*2),c&&(i=Math.floor(i)),v+=(w-v-i*(g-d))*m,o=i*(1-d),c&&(v=Math.round(v),o=Math.round(o));var b=RV(g).map(function(j){return v+i*j});return n(x?b.reverse():b)}return e.domain=function(g){return arguments.length?(t(g),f()):t()},e.range=function(g){return arguments.length?([s,a]=g,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(g){return[s,a]=g,s=+s,a=+a,c=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(c=!!g,f()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,u=+g),f()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),f()):d},e.paddingOuter=function(g){return arguments.length?(u=+g,f()):u},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),f()):m},e.copy=function(){return xN(t(),[s,a]).round(c).paddingInner(d).paddingOuter(u).align(m)},pa.apply(f(),arguments)}function xO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xO(t())},e}function IV(){return xO(xN.apply(null,arguments).paddingInner(1))}function yN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yO(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function bh(){}var Wm=.7,vg=1/Wm,pd="\\s*([+-]?\\d+)\\s*",Hm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FV=/^#([0-9a-f]{3,8})$/,BV=new RegExp(`^rgb\\(${pd},${pd},${pd}\\)$`),$V=new RegExp(`^rgb\\(${oi},${oi},${oi}\\)$`),zV=new RegExp(`^rgba\\(${pd},${pd},${pd},${Hm}\\)$`),UV=new RegExp(`^rgba\\(${oi},${oi},${oi},${Hm}\\)$`),GV=new RegExp(`^hsl\\(${Hm},${oi},${oi}\\)$`),WV=new RegExp(`^hsla\\(${Hm},${oi},${oi},${Hm}\\)$`),n5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yN(bh,qm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:s5,formatHex:s5,formatHex8:HV,formatHsl:qV,formatRgb:a5,toString:a5});function s5(){return this.rgb().formatHex()}function HV(){return this.rgb().formatHex8()}function qV(){return vO(this).formatHsl()}function a5(){return this.rgb().formatRgb()}function qm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=FV.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?i5(t):n===3?new fs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Pf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Pf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BV.exec(e))?new fs(t[1],t[2],t[3],1):(t=$V.exec(e))?new fs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zV.exec(e))?Pf(t[1],t[2],t[3],t[4]):(t=UV.exec(e))?Pf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GV.exec(e))?c5(t[1],t[2]/100,t[3]/100,1):(t=WV.exec(e))?c5(t[1],t[2]/100,t[3]/100,t[4]):n5.hasOwnProperty(e)?i5(n5[e]):e==="transparent"?new fs(NaN,NaN,NaN,0):null}function i5(e){return new fs(e>>16&255,e>>8&255,e&255,1)}function Pf(e,t,n,s){return s<=0&&(e=t=n=NaN),new fs(e,t,n,s)}function VV(e){return e instanceof bh||(e=qm(e)),e?(e=e.rgb(),new fs(e.r,e.g,e.b,e.opacity)):new fs}function Kb(e,t,n,s){return arguments.length===1?VV(e):new fs(e,t,n,s??1)}function fs(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}yN(fs,Kb,yO(bh,{brighter(e){return e=e==null?vg:Math.pow(vg,e),new fs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wm:Math.pow(Wm,e),new fs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fs(nc(this.r),nc(this.g),nc(this.b),bg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o5,formatHex:o5,formatHex8:KV,formatRgb:l5,toString:l5}));function o5(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}`}function KV(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}${Il((isNaN(this.opacity)?1:this.opacity)*255)}`}function l5(){const e=bg(this.opacity);return`${e===1?"rgb(":"rgba("}${nc(this.r)}, ${nc(this.g)}, ${nc(this.b)}${e===1?")":`, ${e})`}`}function bg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Il(e){return e=nc(e),(e<16?"0":"")+e.toString(16)}function c5(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ta(e,t,n,s)}function vO(e){if(e instanceof Ta)return new Ta(e.h,e.s,e.l,e.opacity);if(e instanceof bh||(e=qm(e)),!e)return new Ta;if(e instanceof Ta)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(t,n,s),i=Math.max(t,n,s),o=NaN,c=i-a,d=(i+a)/2;return c?(t===i?o=(n-s)/c+(n<s)*6:n===i?o=(s-t)/c+2:o=(t-n)/c+4,c/=d<.5?i+a:2-i-a,o*=60):c=d>0&&d<1?0:o,new Ta(o,c,d,e.opacity)}function ZV(e,t,n,s){return arguments.length===1?vO(e):new Ta(e,t,n,s??1)}function Ta(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}yN(Ta,ZV,yO(bh,{brighter(e){return e=e==null?vg:Math.pow(vg,e),new Ta(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wm:Math.pow(Wm,e),new Ta(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,a=2*n-s;return new fs(ky(e>=240?e-240:e+120,a,s),ky(e,a,s),ky(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Ta(d5(this.h),Af(this.s),Af(this.l),bg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bg(this.opacity);return`${e===1?"hsl(":"hsla("}${d5(this.h)}, ${Af(this.s)*100}%, ${Af(this.l)*100}%${e===1?")":`, ${e})`}`}}));function d5(e){return e=(e||0)%360,e<0?e+360:e}function Af(e){return Math.max(0,Math.min(1,e||0))}function ky(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vN=e=>()=>e;function YV(e,t){return function(n){return e+n*t}}function QV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function JV(e){return(e=+e)==1?bO:function(t,n){return n-t?QV(t,n,e):vN(isNaN(t)?n:t)}}function bO(e,t){var n=t-e;return n?YV(e,n):vN(isNaN(e)?t:e)}const u5=function e(t){var n=JV(t);function s(a,i){var o=n((a=Kb(a)).r,(i=Kb(i)).r),c=n(a.g,i.g),d=n(a.b,i.b),u=bO(a.opacity,i.opacity);return function(m){return a.r=o(m),a.g=c(m),a.b=d(m),a.opacity=u(m),a+""}}return s.gamma=e,s}(1);function XV(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function eK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tK(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=nu(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(c){for(o=0;o<s;++o)i[o]=a[o](c);return i}}function rK(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function wg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function nK(e,t){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=nu(e[a],t[a]):s[a]=t[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var Zb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cy=new RegExp(Zb.source,"g");function sK(e){return function(){return e}}function aK(e){return function(t){return e(t)+""}}function iK(e,t){var n=Zb.lastIndex=Cy.lastIndex=0,s,a,i,o=-1,c=[],d=[];for(e=e+"",t=t+"";(s=Zb.exec(e))&&(a=Cy.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(s=s[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,d.push({i:o,x:wg(s,a)})),n=Cy.lastIndex;return n<t.length&&(i=t.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?d[0]?aK(d[0].x):sK(t):(t=d.length,function(u){for(var m=0,f;m<t;++m)c[(f=d[m]).i]=f.x(u);return c.join("")})}function nu(e,t){var n=typeof t,s;return t==null||n==="boolean"?vN(t):(n==="number"?wg:n==="string"?(s=qm(t))?(t=s,u5):iK:t instanceof qm?u5:t instanceof Date?rK:eK(t)?XV:Array.isArray(t)?tK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nK:wg)(e,t)}function bN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function oK(e,t){t===void 0&&(t=e,e=nu);for(var n=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=t[++n]);return function(o){var c=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[c](o-c)}}function lK(e){return function(){return e}}function jg(e){return+e}var m5=[0,1];function Jn(e){return e}function Yb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:lK(isNaN(t)?NaN:.5)}function cK(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function dK(e,t,n){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=Yb(a,s),i=n(o,i)):(s=Yb(s,a),i=n(i,o)),function(c){return i(s(c))}}function uK(e,t,n){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=Yb(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(c){var d=vh(e,c,1,s)-1;return i[d](a[d](c))}}function wh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ix(){var e=m5,t=m5,n=nu,s,a,i,o=Jn,c,d,u;function m(){var g=Math.min(e.length,t.length);return o!==Jn&&(o=cK(e[0],e[g-1])),c=g>2?uK:dK,d=u=null,f}function f(g){return g==null||isNaN(g=+g)?i:(d||(d=c(e.map(s),t,n)))(s(o(g)))}return f.invert=function(g){return o(a((u||(u=c(t,e.map(s),wg)))(g)))},f.domain=function(g){return arguments.length?(e=Array.from(g,jg),m()):e.slice()},f.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},f.rangeRound=function(g){return t=Array.from(g),n=bN,m()},f.clamp=function(g){return arguments.length?(o=g?!0:Jn,m()):o!==Jn},f.interpolate=function(g){return arguments.length?(n=g,m()):n},f.unknown=function(g){return arguments.length?(i=g,f):i},function(g,x){return s=g,a=x,m()}}function wN(){return Ix()(Jn,Jn)}function mK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ng(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function zd(e){return e=Ng(Math.abs(e)),e?e[1]:NaN}function hK(e,t){return function(n,s){for(var a=n.length,i=[],o=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>s&&(c=Math.max(1,s-d)),i.push(n.substring(a-=c,a+c)),!((d+=c+1)>s));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function fK(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var pK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vm(e){if(!(t=pK.exec(e)))throw new Error("invalid format: "+e);var t;return new jN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vm.prototype=jN.prototype;function jN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gK(e){e:for(var t=e.length,n=1,s=-1,a;n<t;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var wO;function xK(e,t){var n=Ng(e,t);if(!n)return e+"";var s=n[0],a=n[1],i=a-(wO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Ng(e,Math.max(0,t+i-1))[0]}function h5(e,t){var n=Ng(e,t);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const f5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>h5(e*100,t),r:h5,s:xK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p5(e){return e}var g5=Array.prototype.map,x5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yK(e){var t=e.grouping===void 0||e.thousands===void 0?p5:hK(g5.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?p5:fK(g5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Vm(f);var g=f.fill,x=f.align,v=f.sign,w=f.symbol,b=f.zero,j=f.width,S=f.comma,_=f.precision,k=f.trim,A=f.type;A==="n"?(S=!0,A="g"):f5[A]||(_===void 0&&(_=12),k=!0,A="g"),(b||g==="0"&&x==="=")&&(b=!0,g="0",x="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=w==="$"?s:/[%p]/.test(A)?o:"",T=f5[A],M=/[defgprs%]/.test(A);_=_===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function U(D){var B=P,z=E,X,le,$;if(A==="c")z=T(D)+z,D="";else{D=+D;var ae=D<0||1/D<0;if(D=isNaN(D)?d:T(Math.abs(D),_),k&&(D=gK(D)),ae&&+D==0&&v!=="+"&&(ae=!1),B=(ae?v==="("?v:c:v==="-"||v==="("?"":v)+B,z=(A==="s"?x5[8+wO/3]:"")+z+(ae&&v==="("?")":""),M){for(X=-1,le=D.length;++X<le;)if($=D.charCodeAt(X),48>$||$>57){z=($===46?a+D.slice(X+1):D.slice(X))+z,D=D.slice(0,X);break}}}S&&!b&&(D=t(D,1/0));var G=B.length+D.length+z.length,ie=G<j?new Array(j-G+1).join(g):"";switch(S&&b&&(D=t(ie+D,ie.length?j-z.length:1/0),ie=""),x){case"<":D=B+D+z+ie;break;case"=":D=B+ie+D+z;break;case"^":D=ie.slice(0,G=ie.length>>1)+B+D+z+ie.slice(G);break;default:D=ie+B+D+z;break}return i(D)}return U.toString=function(){return f+""},U}function m(f,g){var x=u((f=Vm(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(zd(g)/3)))*3,w=Math.pow(10,-v),b=x5[8+v/3];return function(j){return x(w*j)+b}}return{format:u,formatPrefix:m}}var Ef,NN,jO;vK({thousands:",",grouping:[3],currency:["$",""]});function vK(e){return Ef=yK(e),NN=Ef.format,jO=Ef.formatPrefix,Ef}function bK(e){return Math.max(0,-zd(Math.abs(e)))}function wK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zd(t)/3)))*3-zd(Math.abs(e)))}function jK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zd(t)-zd(e))+1}function NO(e,t,n,s){var a=qb(e,t,n),i;switch(s=Vm(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=wK(a,o))&&(s.precision=i),jO(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=jK(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=bK(a))&&(s.precision=i-(s.type==="%")*2);break}}return NN(s)}function pl(e){var t=e.domain;return e.ticks=function(n){var s=t();return Wb(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=t();return NO(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),a=0,i=s.length-1,o=s[a],c=s[i],d,u,m=10;for(c<o&&(u=o,o=c,c=u,u=a,a=i,i=u);m-- >0;){if(u=Hb(o,c,n),u===d)return s[a]=o,s[i]=c,t(s);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;d=u}return e},e}function _O(){var e=wN();return e.copy=function(){return wh(e,_O())},pa.apply(e,arguments),pl(e)}function SO(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,jg),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return SO(e).unknown(t)},e=arguments.length?Array.from(e,jg):[0,1],pl(n)}function kO(e,t){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),e[n]=t.floor(a),e[s]=t.ceil(i),e}function y5(e){return Math.log(e)}function v5(e){return Math.exp(e)}function NK(e){return-Math.log(-e)}function _K(e){return-Math.exp(-e)}function SK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kK(e){return e===10?SK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function b5(e){return(t,n)=>-e(-t,n)}function _N(e){const t=e(y5,v5),n=t.domain;let s=10,a,i;function o(){return a=CK(s),i=kK(s),n()[0]<0?(a=b5(a),i=b5(i),e(NK,_K)):e(y5,v5),t}return t.base=function(c){return arguments.length?(s=+c,o()):s},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const d=n();let u=d[0],m=d[d.length-1];const f=m<u;f&&([u,m]=[m,u]);let g=a(u),x=a(m),v,w;const b=c==null?10:+c;let j=[];if(!(s%1)&&x-g<b){if(g=Math.floor(g),x=Math.ceil(x),u>0){for(;g<=x;++g)for(v=1;v<s;++v)if(w=g<0?v/i(-g):v*i(g),!(w<u)){if(w>m)break;j.push(w)}}else for(;g<=x;++g)for(v=s-1;v>=1;--v)if(w=g>0?v/i(-g):v*i(g),!(w<u)){if(w>m)break;j.push(w)}j.length*2<b&&(j=Wb(u,m,b))}else j=Wb(g,x,Math.min(x-g,b)).map(i);return f?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=s===10?"s":","),typeof d!="function"&&(!(s%1)&&(d=Vm(d)).precision==null&&(d.trim=!0),d=NN(d)),c===1/0)return d;const u=Math.max(1,s*c/t.ticks().length);return m=>{let f=m/i(Math.round(a(m)));return f*s<s-.5&&(f*=s),f<=u?d(m):""}},t.nice=()=>n(kO(n(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function CO(){const e=_N(Ix()).domain([1,10]);return e.copy=()=>wh(e,CO()).base(e.base()),pa.apply(e,arguments),e}function w5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function j5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SN(e){var t=1,n=e(w5(t),j5(t));return n.constant=function(s){return arguments.length?e(w5(t=+s),j5(t)):t},pl(n)}function PO(){var e=SN(Ix());return e.copy=function(){return wh(e,PO()).constant(e.constant())},pa.apply(e,arguments)}function N5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AK(e){return e<0?-e*e:e*e}function kN(e){var t=e(Jn,Jn),n=1;function s(){return n===1?e(Jn,Jn):n===.5?e(PK,AK):e(N5(n),N5(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,s()):n},pl(t)}function CN(){var e=kN(Ix());return e.copy=function(){return wh(e,CN()).exponent(e.exponent())},pa.apply(e,arguments),e}function EK(){return CN.apply(null,arguments).exponent(.5)}function _5(e){return Math.sign(e)*e*e}function OK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AO(){var e=wN(),t=[0,1],n=!1,s;function a(i){var o=OK(e(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return e.invert(_5(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,jg)).map(_5)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return AO(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},pa.apply(a,arguments),pl(a)}function EO(){var e=[],t=[],n=[],s;function a(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=DV(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?s:t[vh(n,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ko),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return EO().domain(e).range(t).unknown(s)},pa.apply(i,arguments)}function OO(){var e=0,t=1,n=1,s=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[vh(s,d,0,n)]:i}function c(){var d=-1;for(s=new Array(n);++d<n;)s[d]=((d+1)*t-(d-n)*e)/(n+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,c()):a.slice()},o.invertExtent=function(d){var u=a.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return s.slice()},o.copy=function(){return OO().domain([e,t]).range(a).unknown(i)},pa.apply(pl(o),arguments)}function TO(){var e=[.5],t=[0,1],n,s=1;function a(i){return i!=null&&i<=i?t[vh(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return TO().domain(e).range(t).unknown(n)},pa.apply(a,arguments)}const Py=new Date,Ay=new Date;function rn(e,t,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return d;let u;do d.push(u=new Date(+i)),t(i,c),e(i);while(u<i&&i<o);return d},a.filter=i=>rn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Py.setTime(+i),Ay.setTime(+o),e(Py),e(Ay),Math.floor(n(Py,Ay))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const _g=rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_g.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):_g);_g.range;const Ai=1e3,ia=Ai*60,Ei=ia*60,Hi=Ei*24,PN=Hi*7,S5=Hi*30,Ey=Hi*365,Fl=rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCSeconds());Fl.range;const AN=rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getMinutes());AN.range;const EN=rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCMinutes());EN.range;const ON=rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai-e.getMinutes()*ia)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getHours());ON.range;const TN=rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCHours());TN.range;const jh=rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ia)/Hi,e=>e.getDate()-1);jh.range;const Fx=rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hi,e=>e.getUTCDate()-1);Fx.range;const LO=rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hi,e=>Math.floor(e/Hi));LO.range;function Cc(e){return rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ia)/PN)}const Bx=Cc(0),Sg=Cc(1),TK=Cc(2),LK=Cc(3),Ud=Cc(4),MK=Cc(5),DK=Cc(6);Bx.range;Sg.range;TK.range;LK.range;Ud.range;MK.range;DK.range;function Pc(e){return rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/PN)}const $x=Pc(0),kg=Pc(1),RK=Pc(2),IK=Pc(3),Gd=Pc(4),FK=Pc(5),BK=Pc(6);$x.range;kg.range;RK.range;IK.range;Gd.range;FK.range;BK.range;const LN=rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());LN.range;const MN=rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());MN.range;const qi=rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});qi.range;const Vi=rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Vi.range;function MO(e,t,n,s,a,i){const o=[[Fl,1,Ai],[Fl,5,5*Ai],[Fl,15,15*Ai],[Fl,30,30*Ai],[i,1,ia],[i,5,5*ia],[i,15,15*ia],[i,30,30*ia],[a,1,Ei],[a,3,3*Ei],[a,6,6*Ei],[a,12,12*Ei],[s,1,Hi],[s,2,2*Hi],[n,1,PN],[t,1,S5],[t,3,3*S5],[e,1,Ey]];function c(u,m,f){const g=m<u;g&&([u,m]=[m,u]);const x=f&&typeof f.range=="function"?f:d(u,m,f),v=x?x.range(u,+m+1):[];return g?v.reverse():v}function d(u,m,f){const g=Math.abs(m-u)/f,x=pN(([,,b])=>b).right(o,g);if(x===o.length)return e.every(qb(u/Ey,m/Ey,f));if(x===0)return _g.every(Math.max(qb(u,m,f),1));const[v,w]=o[g/o[x-1][2]<o[x][2]/g?x-1:x];return v.every(w)}return[c,d]}const[$K,zK]=MO(Vi,MN,$x,LO,TN,EN),[UK,GK]=MO(qi,LN,Bx,jh,ON,AN);function Oy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ty(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ru(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function WK(e){var t=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,u=Iu(a),m=Fu(a),f=Iu(i),g=Fu(i),x=Iu(o),v=Fu(o),w=Iu(c),b=Fu(c),j=Iu(d),S=Fu(d),_={a:ae,A:G,b:ie,B:ce,c:null,d:O5,e:O5,f:hZ,g:NZ,G:SZ,H:dZ,I:uZ,j:mZ,L:DO,m:fZ,M:pZ,p:I,q:pe,Q:M5,s:D5,S:gZ,u:xZ,U:yZ,V:vZ,w:bZ,W:wZ,x:null,X:null,y:jZ,Y:_Z,Z:kZ,"%":L5},k={a:Q,A:xe,b:je,B:Re,c:null,d:T5,e:T5,f:EZ,g:$Z,G:UZ,H:CZ,I:PZ,j:AZ,L:IO,m:OZ,M:TZ,p:rt,q:Z,Q:M5,s:D5,S:LZ,u:MZ,U:DZ,V:RZ,w:IZ,W:FZ,x:null,X:null,y:BZ,Y:zZ,Z:GZ,"%":L5},A={a:U,A:D,b:B,B:z,c:X,d:A5,e:A5,f:iZ,g:P5,G:C5,H:E5,I:E5,j:rZ,L:aZ,m:tZ,M:nZ,p:M,q:eZ,Q:lZ,s:cZ,S:sZ,u:ZK,U:YK,V:QK,w:KK,W:JK,x:le,X:$,y:P5,Y:C5,Z:XK,"%":oZ};_.x=P(n,_),_.X=P(s,_),_.c=P(t,_),k.x=P(n,k),k.X=P(s,k),k.c=P(t,k);function P(J,De){return function(Fe){var ge=[],te=-1,Te=0,Le=J.length,ze,Qe,Tt;for(Fe instanceof Date||(Fe=new Date(+Fe));++te<Le;)J.charCodeAt(te)===37&&(ge.push(J.slice(Te,te)),(Qe=k5[ze=J.charAt(++te)])!=null?ze=J.charAt(++te):Qe=ze==="e"?" ":"0",(Tt=De[ze])&&(ze=Tt(Fe,Qe)),ge.push(ze),Te=te+1);return ge.push(J.slice(Te,te)),ge.join("")}}function E(J,De){return function(Fe){var ge=Ru(1900,void 0,1),te=T(ge,J,Fe+="",0),Te,Le;if(te!=Fe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(De&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Te=Ty(Ru(ge.y,0,1)),Le=Te.getUTCDay(),Te=Le>4||Le===0?kg.ceil(Te):kg(Te),Te=Fx.offset(Te,(ge.V-1)*7),ge.y=Te.getUTCFullYear(),ge.m=Te.getUTCMonth(),ge.d=Te.getUTCDate()+(ge.w+6)%7):(Te=Oy(Ru(ge.y,0,1)),Le=Te.getDay(),Te=Le>4||Le===0?Sg.ceil(Te):Sg(Te),Te=jh.offset(Te,(ge.V-1)*7),ge.y=Te.getFullYear(),ge.m=Te.getMonth(),ge.d=Te.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Le="Z"in ge?Ty(Ru(ge.y,0,1)).getUTCDay():Oy(Ru(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Le+5)%7:ge.w+ge.U*7-(Le+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Ty(ge)):Oy(ge)}}function T(J,De,Fe,ge){for(var te=0,Te=De.length,Le=Fe.length,ze,Qe;te<Te;){if(ge>=Le)return-1;if(ze=De.charCodeAt(te++),ze===37){if(ze=De.charAt(te++),Qe=A[ze in k5?De.charAt(te++):ze],!Qe||(ge=Qe(J,Fe,ge))<0)return-1}else if(ze!=Fe.charCodeAt(ge++))return-1}return ge}function M(J,De,Fe){var ge=u.exec(De.slice(Fe));return ge?(J.p=m.get(ge[0].toLowerCase()),Fe+ge[0].length):-1}function U(J,De,Fe){var ge=x.exec(De.slice(Fe));return ge?(J.w=v.get(ge[0].toLowerCase()),Fe+ge[0].length):-1}function D(J,De,Fe){var ge=f.exec(De.slice(Fe));return ge?(J.w=g.get(ge[0].toLowerCase()),Fe+ge[0].length):-1}function B(J,De,Fe){var ge=j.exec(De.slice(Fe));return ge?(J.m=S.get(ge[0].toLowerCase()),Fe+ge[0].length):-1}function z(J,De,Fe){var ge=w.exec(De.slice(Fe));return ge?(J.m=b.get(ge[0].toLowerCase()),Fe+ge[0].length):-1}function X(J,De,Fe){return T(J,t,De,Fe)}function le(J,De,Fe){return T(J,n,De,Fe)}function $(J,De,Fe){return T(J,s,De,Fe)}function ae(J){return o[J.getDay()]}function G(J){return i[J.getDay()]}function ie(J){return d[J.getMonth()]}function ce(J){return c[J.getMonth()]}function I(J){return a[+(J.getHours()>=12)]}function pe(J){return 1+~~(J.getMonth()/3)}function Q(J){return o[J.getUTCDay()]}function xe(J){return i[J.getUTCDay()]}function je(J){return d[J.getUTCMonth()]}function Re(J){return c[J.getUTCMonth()]}function rt(J){return a[+(J.getUTCHours()>=12)]}function Z(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var De=P(J+="",_);return De.toString=function(){return J},De},parse:function(J){var De=E(J+="",!1);return De.toString=function(){return J},De},utcFormat:function(J){var De=P(J+="",k);return De.toString=function(){return J},De},utcParse:function(J){var De=E(J+="",!0);return De.toString=function(){return J},De}}}var k5={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,HK=/^%/,qK=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(t)+a:a)}function VK(e){return e.replace(qK,"\\$&")}function Iu(e){return new RegExp("^(?:"+e.map(VK).join("|")+")","i")}function Fu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function KK(e,t,n){var s=gn.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function ZK(e,t,n){var s=gn.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function YK(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function QK(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function JK(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function C5(e,t,n){var s=gn.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function P5(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function XK(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function eZ(e,t,n){var s=gn.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function tZ(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function A5(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function rZ(e,t,n){var s=gn.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function E5(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function nZ(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function sZ(e,t,n){var s=gn.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function aZ(e,t,n){var s=gn.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function iZ(e,t,n){var s=gn.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function oZ(e,t,n){var s=HK.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function lZ(e,t,n){var s=gn.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function cZ(e,t,n){var s=gn.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function O5(e,t){return Ft(e.getDate(),t,2)}function dZ(e,t){return Ft(e.getHours(),t,2)}function uZ(e,t){return Ft(e.getHours()%12||12,t,2)}function mZ(e,t){return Ft(1+jh.count(qi(e),e),t,3)}function DO(e,t){return Ft(e.getMilliseconds(),t,3)}function hZ(e,t){return DO(e,t)+"000"}function fZ(e,t){return Ft(e.getMonth()+1,t,2)}function pZ(e,t){return Ft(e.getMinutes(),t,2)}function gZ(e,t){return Ft(e.getSeconds(),t,2)}function xZ(e){var t=e.getDay();return t===0?7:t}function yZ(e,t){return Ft(Bx.count(qi(e)-1,e),t,2)}function RO(e){var t=e.getDay();return t>=4||t===0?Ud(e):Ud.ceil(e)}function vZ(e,t){return e=RO(e),Ft(Ud.count(qi(e),e)+(qi(e).getDay()===4),t,2)}function bZ(e){return e.getDay()}function wZ(e,t){return Ft(Sg.count(qi(e)-1,e),t,2)}function jZ(e,t){return Ft(e.getFullYear()%100,t,2)}function NZ(e,t){return e=RO(e),Ft(e.getFullYear()%100,t,2)}function _Z(e,t){return Ft(e.getFullYear()%1e4,t,4)}function SZ(e,t){var n=e.getDay();return e=n>=4||n===0?Ud(e):Ud.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function kZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function T5(e,t){return Ft(e.getUTCDate(),t,2)}function CZ(e,t){return Ft(e.getUTCHours(),t,2)}function PZ(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function AZ(e,t){return Ft(1+Fx.count(Vi(e),e),t,3)}function IO(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function EZ(e,t){return IO(e,t)+"000"}function OZ(e,t){return Ft(e.getUTCMonth()+1,t,2)}function TZ(e,t){return Ft(e.getUTCMinutes(),t,2)}function LZ(e,t){return Ft(e.getUTCSeconds(),t,2)}function MZ(e){var t=e.getUTCDay();return t===0?7:t}function DZ(e,t){return Ft($x.count(Vi(e)-1,e),t,2)}function FO(e){var t=e.getUTCDay();return t>=4||t===0?Gd(e):Gd.ceil(e)}function RZ(e,t){return e=FO(e),Ft(Gd.count(Vi(e),e)+(Vi(e).getUTCDay()===4),t,2)}function IZ(e){return e.getUTCDay()}function FZ(e,t){return Ft(kg.count(Vi(e)-1,e),t,2)}function BZ(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function $Z(e,t){return e=FO(e),Ft(e.getUTCFullYear()%100,t,2)}function zZ(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function UZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Gd(e):Gd.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function GZ(){return"+0000"}function L5(){return"%"}function M5(e){return+e}function D5(e){return Math.floor(+e/1e3)}var Bc,BO,$O;WZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WZ(e){return Bc=WK(e),BO=Bc.format,Bc.parse,$O=Bc.utcFormat,Bc.utcParse,Bc}function HZ(e){return new Date(e)}function qZ(e){return e instanceof Date?+e:+new Date(+e)}function DN(e,t,n,s,a,i,o,c,d,u){var m=wN(),f=m.invert,g=m.domain,x=u(".%L"),v=u(":%S"),w=u("%I:%M"),b=u("%I %p"),j=u("%a %d"),S=u("%b %d"),_=u("%B"),k=u("%Y");function A(P){return(d(P)<P?x:c(P)<P?v:o(P)<P?w:i(P)<P?b:s(P)<P?a(P)<P?j:S:n(P)<P?_:k)(P)}return m.invert=function(P){return new Date(f(P))},m.domain=function(P){return arguments.length?g(Array.from(P,qZ)):g().map(HZ)},m.ticks=function(P){var E=g();return e(E[0],E[E.length-1],P??10)},m.tickFormat=function(P,E){return E==null?A:u(E)},m.nice=function(P){var E=g();return(!P||typeof P.range!="function")&&(P=t(E[0],E[E.length-1],P??10)),P?g(kO(E,P)):m},m.copy=function(){return wh(m,DN(e,t,n,s,a,i,o,c,d,u))},m}function VZ(){return pa.apply(DN(UK,GK,qi,LN,Bx,jh,ON,AN,Fl,BO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KZ(){return pa.apply(DN($K,zK,Vi,MN,$x,Fx,TN,EN,Fl,$O).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zx(){var e=0,t=1,n,s,a,i,o=Jn,c=!1,d;function u(f){return f==null||isNaN(f=+f)?d:o(a===0?.5:(f=(i(f)-n)*a,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),s=i(t=+t),a=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function m(f){return function(g){var x,v;return arguments.length?([x,v]=g,o=f(x,v),u):[o(0),o(1)]}}return u.range=m(nu),u.rangeRound=m(bN),u.unknown=function(f){return arguments.length?(d=f,u):d},function(f){return i=f,n=f(e),s=f(t),a=n===s?0:1/(s-n),u}}function gl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zO(){var e=pl(zx()(Jn));return e.copy=function(){return gl(e,zO())},Xi.apply(e,arguments)}function UO(){var e=_N(zx()).domain([1,10]);return e.copy=function(){return gl(e,UO()).base(e.base())},Xi.apply(e,arguments)}function GO(){var e=SN(zx());return e.copy=function(){return gl(e,GO()).constant(e.constant())},Xi.apply(e,arguments)}function RN(){var e=kN(zx());return e.copy=function(){return gl(e,RN()).exponent(e.exponent())},Xi.apply(e,arguments)}function ZZ(){return RN.apply(null,arguments).exponent(.5)}function WO(){var e=[],t=Jn;function n(s){if(s!=null&&!isNaN(s=+s))return t((vh(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ko),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>MV(e,i/s))},n.copy=function(){return WO(t).domain(e)},Xi.apply(n,arguments)}function Ux(){var e=0,t=.5,n=1,s=1,a,i,o,c,d,u=Jn,m,f=!1,g;function x(w){return isNaN(w=+w)?g:(w=.5+((w=+m(w))-i)*(s*w<s*i?c:d),u(f?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([e,t,n]=w,a=m(e=+e),i=m(t=+t),o=m(n=+n),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,x):[e,t,n]},x.clamp=function(w){return arguments.length?(f=!!w,x):f},x.interpolator=function(w){return arguments.length?(u=w,x):u};function v(w){return function(b){var j,S,_;return arguments.length?([j,S,_]=b,u=oK(w,[j,S,_]),x):[u(0),u(.5),u(1)]}}return x.range=v(nu),x.rangeRound=v(bN),x.unknown=function(w){return arguments.length?(g=w,x):g},function(w){return m=w,a=w(e),i=w(t),o=w(n),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,x}}function HO(){var e=pl(Ux()(Jn));return e.copy=function(){return gl(e,HO())},Xi.apply(e,arguments)}function qO(){var e=_N(Ux()).domain([.1,1,10]);return e.copy=function(){return gl(e,qO()).base(e.base())},Xi.apply(e,arguments)}function VO(){var e=SN(Ux());return e.copy=function(){return gl(e,VO()).constant(e.constant())},Xi.apply(e,arguments)}function IN(){var e=kN(Ux());return e.copy=function(){return gl(e,IN()).exponent(e.exponent())},Xi.apply(e,arguments)}function YZ(){return IN.apply(null,arguments).exponent(.5)}const em=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xN,scaleDiverging:HO,scaleDivergingLog:qO,scaleDivergingPow:IN,scaleDivergingSqrt:YZ,scaleDivergingSymlog:VO,scaleIdentity:SO,scaleImplicit:Vb,scaleLinear:_O,scaleLog:CO,scaleOrdinal:gN,scalePoint:IV,scalePow:CN,scaleQuantile:EO,scaleQuantize:OO,scaleRadial:AO,scaleSequential:zO,scaleSequentialLog:UO,scaleSequentialPow:RN,scaleSequentialQuantile:WO,scaleSequentialSqrt:ZZ,scaleSequentialSymlog:GO,scaleSqrt:EK,scaleSymlog:PO,scaleThreshold:TO,scaleTime:VZ,scaleUtc:KZ,tickFormat:NO},Symbol.toStringTag,{value:"Module"}));var xl=e=>e.chartData,FN=de([xl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Gx=(e,t,n,s)=>s?FN(e):xl(e);function yc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Fn(t)&&Fn(n))return!0}return!1}function R5(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function KO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,s]=e,a,i;if(Fn(n))a=n;else if(typeof n=="function")return;if(Fn(s))i=s;else if(typeof s=="function")return;var o=[a,i];if(yc(o))return o}}function QZ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var s=e(t,n);if(yc(s))return R5(s,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,c;if(a==="auto")t!=null&&(o=Math.min(...t));else if(st(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Ck.test(a)){var d=Ck.exec(a);if(d==null||t==null)o=void 0;else{var u=+d[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(st(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Pk.test(i)){var m=Pk.exec(i);if(m==null||t==null)c=void 0;else{var f=+m[1];c=t[1]+f}}else c=t==null?void 0:t[1];var g=[o,c];if(yc(g))return t==null?g:R5(g,t,n)}}}var su=1e9,JZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$N,yr=!0,ha="[DecimalError] ",sc=ha+"Invalid argument: ",BN=ha+"Exponent out of range: ",au=Math.floor,Al=Math.pow,XZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ls,mn=1e7,hr=7,ZO=9007199254740991,Cg=au(ZO/hr),Ze={};Ze.absoluteValue=Ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ze.comparedTo=Ze.cmp=function(e){var t,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,n=s<a?s:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*hr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ze.dividedBy=Ze.div=function(e){return Di(this,new this.constructor(e))};Ze.dividedToIntegerBy=Ze.idiv=function(e){var t=this,n=t.constructor;return tr(Di(t,new n(e),0,1),n.precision)};Ze.equals=Ze.eq=function(e){return!this.cmp(e)};Ze.exponent=function(){return Vr(this)};Ze.greaterThan=Ze.gt=function(e){return this.cmp(e)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(e){return this.cmp(e)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(e){return this.cmp(e)<0};Ze.lessThanOrEqualTo=Ze.lte=function(e){return this.cmp(e)<1};Ze.logarithm=Ze.log=function(e){var t,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Ls))throw Error(ha+"NaN");if(n.s<1)throw Error(ha+(n.s?"NaN":"-Infinity"));return n.eq(Ls)?new s(0):(yr=!1,t=Di(Km(n,i),Km(e,i),i),yr=!0,tr(t,a))};Ze.minus=Ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JO(t,e):YO(t,(e.s=-e.s,e))};Ze.modulo=Ze.mod=function(e){var t,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(ha+"NaN");return n.s?(yr=!1,t=Di(n,e,0,1).times(e),yr=!0,n.minus(t)):tr(new s(n),a)};Ze.naturalExponential=Ze.exp=function(){return QO(this)};Ze.naturalLogarithm=Ze.ln=function(){return Km(this)};Ze.negated=Ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ze.plus=Ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YO(t,e):JO(t,(e.s=-e.s,e))};Ze.precision=Ze.sd=function(e){var t,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sc+e);if(t=Vr(a)+1,s=a.d.length-1,n=s*hr+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};Ze.squareRoot=Ze.sqrt=function(){var e,t,n,s,a,i,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ha+"NaN")}for(e=Vr(c),yr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=ni(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=au((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new d(t)):s=new d(a.toString()),n=d.precision,a=o=n+3;;)if(i=s,s=i.plus(Di(c,i,o+2)).times(.5),ni(i.d).slice(0,o)===(t=ni(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(tr(i,n+1,0),i.times(i).eq(c)){s=i;break}}else if(t!="9999")break;o+=4}return yr=!0,tr(s,n)};Ze.times=Ze.mul=function(e){var t,n,s,a,i,o,c,d,u,m=this,f=m.constructor,g=m.d,x=(e=new f(e)).d;if(!m.s||!e.s)return new f(0);for(e.s*=m.s,n=m.e+e.e,d=g.length,u=x.length,d<u&&(i=g,g=x,x=i,o=d,d=u,u=o),i=[],o=d+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=d+s;a>s;)c=i[a]+x[s]*g[a-s-1]+t,i[a--]=c%mn|0,t=c/mn|0;i[a]=(i[a]+t)%mn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,yr?tr(e,f.precision):e};Ze.toDecimalPlaces=Ze.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(ci(e,0,su),t===void 0?t=s.rounding:ci(t,0,8),tr(n,e+Vr(n)+1,t))};Ze.toExponential=function(e,t){var n,s=this,a=s.constructor;return e===void 0?n=vc(s,!0):(ci(e,0,su),t===void 0?t=a.rounding:ci(t,0,8),s=tr(new a(s),e+1,t),n=vc(s,!0,e+1)),n};Ze.toFixed=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?vc(a):(ci(e,0,su),t===void 0?t=i.rounding:ci(t,0,8),s=tr(new i(a),e+Vr(a)+1,t),n=vc(s.abs(),!1,e+Vr(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ze.toInteger=Ze.toint=function(){var e=this,t=e.constructor;return tr(new t(e),Vr(e)+1,t.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(e){var t,n,s,a,i,o,c=this,d=c.constructor,u=12,m=+(e=new d(e));if(!e.s)return new d(Ls);if(c=new d(c),!c.s){if(e.s<1)throw Error(ha+"Infinity");return c}if(c.eq(Ls))return c;if(s=d.precision,e.eq(Ls))return tr(c,s);if(t=e.e,n=e.d.length-1,o=t>=n,i=c.s,o){if((n=m<0?-m:m)<=ZO){for(a=new d(Ls),t=Math.ceil(s/hr+4),yr=!1;n%2&&(a=a.times(c),F5(a.d,t)),n=au(n/2),n!==0;)c=c.times(c),F5(c.d,t);return yr=!0,e.s<0?new d(Ls).div(a):tr(a,s)}}else if(i<0)throw Error(ha+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,yr=!1,a=e.times(Km(c,s+u)),yr=!0,a=QO(a),a.s=i,a};Ze.toPrecision=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?(n=Vr(a),s=vc(a,n<=i.toExpNeg||n>=i.toExpPos)):(ci(e,1,su),t===void 0?t=i.rounding:ci(t,0,8),a=tr(new i(a),e,t),n=Vr(a),s=vc(a,e<=n||n<=i.toExpNeg,e)),s};Ze.toSignificantDigits=Ze.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(ci(e,1,su),t===void 0?t=s.rounding:ci(t,0,8)),tr(new s(n),e,t)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vr(e),n=e.constructor;return vc(e,t<=n.toExpNeg||t>=n.toExpPos)};function YO(e,t){var n,s,a,i,o,c,d,u,m=e.constructor,f=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),yr?tr(t,f):t;if(d=e.d,u=t.d,o=e.e,a=t.e,d=d.slice(),i=o-a,i){for(i<0?(s=d,i=-i,c=u.length):(s=u,a=o,c=d.length),o=Math.ceil(f/hr),c=o>c?o+1:c+1,i>c&&(i=c,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(c=d.length,i=u.length,c-i<0&&(i=c,s=u,u=d,d=s),n=0;i;)n=(d[--i]=d[i]+u[i]+n)/mn|0,d[i]%=mn;for(n&&(d.unshift(n),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,yr?tr(t,f):t}function ci(e,t,n){if(e!==~~e||e<t||e>n)throw Error(sc+e)}function ni(e){var t,n,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",n=hr-s.length,n&&(i+=xo(n)),i+=s;o=e[t],s=o+"",n=hr-s.length,n&&(i+=xo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Di=function(){function e(s,a){var i,o=0,c=s.length;for(s=s.slice();c--;)i=s[c]*a+o,s[c]=i%mn|0,o=i/mn|0;return o&&s.unshift(o),s}function t(s,a,i,o){var c,d;if(i!=o)d=i>o?1:-1;else for(c=d=0;c<i;c++)if(s[c]!=a[c]){d=s[c]>a[c]?1:-1;break}return d}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*mn+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var c,d,u,m,f,g,x,v,w,b,j,S,_,k,A,P,E,T,M=s.constructor,U=s.s==a.s?1:-1,D=s.d,B=a.d;if(!s.s)return new M(s);if(!a.s)throw Error(ha+"Division by zero");for(d=s.e-a.e,E=B.length,A=D.length,x=new M(U),v=x.d=[],u=0;B[u]==(D[u]||0);)++u;if(B[u]>(D[u]||0)&&--d,i==null?S=i=M.precision:o?S=i+(Vr(s)-Vr(a))+1:S=i,S<0)return new M(0);if(S=S/hr+2|0,u=0,E==1)for(m=0,B=B[0],S++;(u<A||m)&&S--;u++)_=m*mn+(D[u]||0),v[u]=_/B|0,m=_%B|0;else{for(m=mn/(B[0]+1)|0,m>1&&(B=e(B,m),D=e(D,m),E=B.length,A=D.length),k=E,w=D.slice(0,E),b=w.length;b<E;)w[b++]=0;T=B.slice(),T.unshift(0),P=B[0],B[1]>=mn/2&&++P;do m=0,c=t(B,w,E,b),c<0?(j=w[0],E!=b&&(j=j*mn+(w[1]||0)),m=j/P|0,m>1?(m>=mn&&(m=mn-1),f=e(B,m),g=f.length,b=w.length,c=t(f,w,g,b),c==1&&(m--,n(f,E<g?T:B,g))):(m==0&&(c=m=1),f=B.slice()),g=f.length,g<b&&f.unshift(0),n(w,f,b),c==-1&&(b=w.length,c=t(B,w,E,b),c<1&&(m++,n(w,E<b?T:B,b))),b=w.length):c===0&&(m++,w=[0]),v[u++]=m,c&&w[0]?w[b++]=D[k]||0:(w=[D[k]],b=1);while((k++<A||w[0]!==void 0)&&S--)}return v[0]||v.shift(),x.e=d,tr(x,o?i+Vr(x)+1:i)}}();function QO(e,t){var n,s,a,i,o,c,d=0,u=0,m=e.constructor,f=m.precision;if(Vr(e)>16)throw Error(BN+Vr(e));if(!e.s)return new m(Ls);for(yr=!1,c=f,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(Al(2,u))/Math.LN10*2+5|0,c+=s,n=a=i=new m(Ls),m.precision=c;;){if(a=tr(a.times(e),c),n=n.times(++d),o=i.plus(Di(a,n,c)),ni(o.d).slice(0,c)===ni(i.d).slice(0,c)){for(;u--;)i=tr(i.times(i),c);return m.precision=f,t==null?(yr=!0,tr(i,f)):i}i=o}}function Vr(e){for(var t=e.e*hr,n=e.d[0];n>=10;n/=10)t++;return t}function Ly(e,t,n){if(t>e.LN10.sd())throw yr=!0,n&&(e.precision=n),Error(ha+"LN10 precision limit exceeded");return tr(new e(e.LN10),t)}function xo(e){for(var t="";e--;)t+="0";return t}function Km(e,t){var n,s,a,i,o,c,d,u,m,f=1,g=10,x=e,v=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(ha+(x.s?"NaN":"-Infinity"));if(x.eq(Ls))return new w(0);if(t==null?(yr=!1,u=b):u=t,x.eq(10))return t==null&&(yr=!0),Ly(w,u);if(u+=g,w.precision=u,n=ni(v),s=n.charAt(0),i=Vr(x),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)x=x.times(e),n=ni(x.d),s=n.charAt(0),f++;i=Vr(x),s>1?(x=new w("0."+n),i++):x=new w(s+"."+n.slice(1))}else return d=Ly(w,u+2,b).times(i+""),x=Km(new w(s+"."+n.slice(1)),u-g).plus(d),w.precision=b,t==null?(yr=!0,tr(x,b)):x;for(c=o=x=Di(x.minus(Ls),x.plus(Ls),u),m=tr(x.times(x),u),a=3;;){if(o=tr(o.times(m),u),d=c.plus(Di(o,new w(a),u)),ni(d.d).slice(0,u)===ni(c.d).slice(0,u))return c=c.times(2),i!==0&&(c=c.plus(Ly(w,u+2,b).times(i+""))),c=Di(c,new w(f),u),w.precision=b,t==null?(yr=!0,tr(c,b)):c;c=d,a+=2}}function I5(e,t){var n,s,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,n=n-s-1,e.e=au(n/hr),e.d=[],s=(n+1)%hr,n<0&&(s+=hr),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=hr;s<a;)e.d.push(+t.slice(s,s+=hr));t=t.slice(s),s=hr-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),yr&&(e.e>Cg||e.e<-Cg))throw Error(BN+n)}else e.s=0,e.e=0,e.d=[0];return e}function tr(e,t,n){var s,a,i,o,c,d,u,m,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=hr,a=t,u=f[m=0];else{if(m=Math.ceil((s+1)/hr),i=f.length,m>=i)return e;for(u=i=f[m],o=1;i>=10;i/=10)o++;s%=hr,a=s-hr+o}if(n!==void 0&&(i=Al(10,o-a-1),c=u/i%10|0,d=t<0||f[m+1]!==void 0||u%i,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(s>0?a>0?u/Al(10,o-a):0:f[m-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return d?(i=Vr(e),f.length=1,t=t-i-1,f[0]=Al(10,(hr-t%hr)%hr),e.e=au(-t/hr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=m,i=1,m--):(f.length=m+1,i=Al(10,hr-s),f[m]=a>0?(u/Al(10,o-a)%Al(10,a)|0)*i:0),d)for(;;)if(m==0){(f[0]+=i)==mn&&(f[0]=1,++e.e);break}else{if(f[m]+=i,f[m]!=mn)break;f[m--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(yr&&(e.e>Cg||e.e<-Cg))throw Error(BN+Vr(e));return e}function JO(e,t){var n,s,a,i,o,c,d,u,m,f,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),yr?tr(t,x):t;if(d=e.d,f=t.d,s=t.e,u=e.e,d=d.slice(),o=u-s,o){for(m=o<0,m?(n=d,o=-o,c=f.length):(n=f,s=u,c=d.length),a=Math.max(Math.ceil(x/hr),c)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=d.length,c=f.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(d[a]!=f[a]){m=d[a]<f[a];break}o=0}for(m&&(n=d,d=f,f=n,t.s=-t.s),c=d.length,a=f.length-c;a>0;--a)d[c++]=0;for(a=f.length;a>o;){if(d[--a]<f[a]){for(i=a;i&&d[--i]===0;)d[i]=mn-1;--d[i],d[a]+=mn}d[a]-=f[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--s;return d[0]?(t.d=d,t.e=s,yr?tr(t,x):t):new g(0)}function vc(e,t,n){var s,a=Vr(e),i=ni(e.d),o=i.length;return t?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+xo(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+xo(-a-1)+i,n&&(s=n-o)>0&&(i+=xo(s))):a>=o?(i+=xo(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+xo(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=xo(s))),e.s<0?"-"+i:i}function F5(e,t){if(e.length>t)return e.length=t,!0}function XO(e){var t,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return I5(o,i.toString())}else if(typeof i!="string")throw Error(sc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,XZ.test(i))I5(o,i);else throw Error(sc+i)}if(a.prototype=Ze,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=XO,a.config=a.set=eY,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return a.config(e),a}function eY(e){if(!e||typeof e!="object")throw Error(ha+"Object expected");var t,n,s,a=["precision",1,su,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[n=a[t]])!==void 0)if(au(s)===s&&s>=a[t+1]&&s<=a[t+2])this[n]=s;else throw Error(sc+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(sc+n+": "+s);return this}var $N=XO(JZ);Ls=new $N(1);const Vt=$N;var tY=e=>e,eT={},tT=e=>e===eT,B5=e=>function t(){return arguments.length===0||arguments.length===1&&tT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},rT=(e,t)=>e===1?t:B5(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var i=s.filter(o=>o!==eT).length;return i>=e?t(...s):rT(e-i,B5(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var u=s.map(m=>tT(m)?c.shift():m);return t(...u,...c)}))}),Wx=e=>rT(e.length,e),Qb=(e,t)=>{for(var n=[],s=e;s<t;++s)n[s-e]=s;return n},rY=Wx((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),nY=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return tY;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((c,d)=>d(c),i(...arguments))}},Jb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),nT=e=>{var t=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return t&&a.every((o,c)=>{var d;return o===((d=t)===null||d===void 0?void 0:d[c])})||(t=a,n=e(...a)),n}};function sT(e){var t;return e===0?t=1:t=Math.floor(new Vt(e).abs().log(10).toNumber())+1,t}function aT(e,t,n){for(var s=new Vt(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}Wx((e,t,n)=>{var s=+e,a=+t;return s+n*(a-s)});Wx((e,t,n)=>{var s=t-+e;return s=s||1/0,(n-e)/s});Wx((e,t,n)=>{var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});var iT=e=>{var[t,n]=e,[s,a]=[t,n];return t>n&&([s,a]=[n,t]),[s,a]},oT=(e,t,n)=>{if(e.lte(0))return new Vt(0);var s=sT(e.toNumber()),a=new Vt(10).pow(s),i=e.div(a),o=s!==1?.05:.1,c=new Vt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),d=c.mul(a);return t?new Vt(d.toNumber()):new Vt(Math.ceil(d.toNumber()))},sY=(e,t,n)=>{var s=new Vt(1),a=new Vt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new Vt(10).pow(sT(e)-1),a=new Vt(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Vt(Math.floor(e)))}else e===0?a=new Vt(Math.floor((t-1)/2)):n||(a=new Vt(Math.floor(e)));var o=Math.floor((t-1)/2),c=nY(rY(d=>a.add(new Vt(d-o).mul(s)).toNumber()),Qb);return c(0,t)},lT=function(t,n,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(s-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var o=oT(new Vt(n).sub(t).div(s-1),a,i),c;t<=0&&n>=0?c=new Vt(0):(c=new Vt(t).add(n).div(2),c=c.sub(new Vt(c).mod(o)));var d=Math.ceil(c.sub(t).div(o).toNumber()),u=Math.ceil(new Vt(n).sub(c).div(o).toNumber()),m=d+u+1;return m>s?lT(t,n,s,a,i+1):(m<s&&(u=n>0?u+(s-m):u,d=n>0?d:d+(s-m)),{step:o,tickMin:c.sub(new Vt(d).mul(o)),tickMax:c.add(new Vt(u).mul(o))})};function aY(e){var[t,n]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),[o,c]=iT([t,n]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...Qb(0,s-1).map(()=>1/0)]:[...Qb(0,s-1).map(()=>-1/0),c];return t>n?Jb(d):d}if(o===c)return sY(o,s,a);var{step:u,tickMin:m,tickMax:f}=lT(o,c,i,a,0),g=aT(m,f.add(new Vt(.1).mul(u)),u);return t>n?Jb(g):g}function iY(e,t){var[n,s]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=iT([n,s]);if(i===-1/0||o===1/0)return[n,s];if(i===o)return[i];var c=Math.max(t,2),d=oT(new Vt(o).sub(i).div(c-1),a,0),u=[...aT(new Vt(i),new Vt(o),d),o];return a===!1&&(u=u.map(m=>Math.round(m))),n>s?Jb(u):u}var oY=nT(aY),lY=nT(iY),cT=e=>e.rootProps.maxBarSize,cY=e=>e.rootProps.barGap,dT=e=>e.rootProps.barCategoryGap,dY=e=>e.rootProps.barSize,Nh=e=>e.rootProps.stackOffset,zN=e=>e.options.chartName,UN=e=>e.rootProps.syncId,uT=e=>e.rootProps.syncMethod,GN=e=>e.options.eventEmitter,Si={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Es={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},uY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Si.angleAxisId,includeHidden:!1,name:void 0,reversed:Si.reversed,scale:Si.scale,tick:Si.tick,tickCount:void 0,ticks:void 0,type:Si.type,unit:void 0},mY={allowDataOverflow:Es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:Es.tickCount,ticks:void 0,type:Es.type,unit:void 0},hY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Si.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Si.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Si.scale,tick:Si.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fY={allowDataOverflow:Es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:Es.tickCount,ticks:void 0,type:"category",unit:void 0},WN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?hY:uY,HN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?fY:mY,qx=e=>e.polarOptions,qN=de([Qi,Ji,tn],FE),mT=de([qx,qN],(e,t)=>{if(e!=null)return Rn(e.innerRadius,t,0)}),hT=de([qx,qN],(e,t)=>{if(e!=null)return Rn(e.outerRadius,t,t*.8)}),pY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},fT=de([qx],pY);de([WN,fT],Hx);var pT=de([qN,mT,hT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});de([HN,pT],Hx);var gT=de([Pt,qx,mT,hT,Qi,Ji],(e,t,n,s,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||s==null)){var{cx:o,cy:c,startAngle:d,endAngle:u}=t;return{cx:Rn(o,a,a/2),cy:Rn(c,i,i/2),innerRadius:n,outerRadius:s,startAngle:d,endAngle:u,clockWise:!1}}}),wr=(e,t)=>t,_h=(e,t,n)=>n;function VN(e){return e==null?void 0:e.id}var nn=e=>{var t=Pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},iu=e=>e.tooltip.settings.axisId,sn=e=>{var t=nn(e),n=iu(e);return Sh(e,t,n)},xT=de([sn],e=>e==null?void 0:e.dataKey);function yT(e,t,n){var{chartData:s=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(c=>{var d,u=(d=c.data)!==null&&d!==void 0?d:s;if(!(u==null||u.length===0)){var m=VN(c);u.forEach((f,g)=>{var x=i==null||a?g:String(lr(f,i,null)),v=lr(f,c.dataKey,0),w;o.has(x)?w=o.get(x):w={},Object.assign(w,{[m]:v}),o.set(x,w)})}}),Array.from(o.values())}function Vx(e){return e.stackId!=null&&e.dataKey!=null}var Kx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Pg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(n),!0).forEach(function(s){gY(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gY(e,t,n){return(t=xY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xY(e){var t=yY(e,"string");return typeof t=="symbol"?t:t+""}function yY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xb=[0,"auto"],ks={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vT=(e,t)=>e.cartesianAxis.xAxis[t],eo=(e,t)=>{var n=vT(e,t);return n??ks},Cs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gh},bT=(e,t)=>e.cartesianAxis.yAxis[t],to=(e,t)=>{var n=bT(e,t);return n??Cs},vY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},KN=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??vY},Er=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);case"zAxis":return KN(e,n);case"angleAxis":return WN(e,n);case"radiusAxis":return HN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bY=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Sh=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);case"angleAxis":return WN(e,n);case"radiusAxis":return HN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},wT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ZN(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Yx=e=>e.graphicalItems.cartesianItems,wY=de([wr,_h],ZN),YN=(e,t,n)=>e.filter(n).filter(s=>(t==null?void 0:t.includeHidden)===!0?!0:!s.hide),kh=de([Yx,Er,wY],YN,{memoizeOptions:{resultEqualityCheck:Zx}}),jT=de([kh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vx)),NT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),jY=de([kh],NT),QN=e=>e.map(t=>t.data).filter(Boolean).flat(1),NY=de([kh],QN,{memoizeOptions:{resultEqualityCheck:Zx}}),JN=(e,t)=>{var{chartData:n=[],dataStartIndex:s,dataEndIndex:a}=t;return e.length>0?e:n.slice(s,a+1)},XN=de([NY,Gx],JN),e2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:lr(s,t.dataKey)})):n.length>0?n.map(s=>s.dataKey).flatMap(s=>e.map(a=>({value:lr(a,s)}))):e.map(s=>({value:s})),Qx=de([XN,Er,kh],e2);function _T(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function fp(e){if(li(e)||e instanceof Date){var t=Number(e);if(Fn(t))return t}}function z5(e){if(Array.isArray(e)){var t=[fp(e[0]),fp(e[1])];return yc(t)?t:void 0}var n=fp(e);if(n!=null)return[n,n]}function ou(e){return e.map(fp).filter(Wq)}function _Y(e,t,n){return!n||typeof t!="number"||ua(t)?[]:n.length?ou(n.flatMap(s=>{var a=lr(e,s.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Fn(i)||!Fn(o)))return[t-i,t+o]})):[]}var SY=de([jT,Gx,sn],yT),ST=(e,t,n)=>{var s={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),s);return Object.fromEntries(Object.entries(a).map(i=>{var[o,c]=i,d=c.map(VN);return[o,{stackedData:xH(e,d,n),graphicalItems:c}]}))},ew=de([SY,jT,Nh],ST),kT=(e,t,n,s)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(s==null&&n!=="zAxis"){var o=jH(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},kY=de([Er],e=>e.allowDataOverflow),t2=e=>{var t;if(e==null||!("domain"in e))return Xb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ou(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Xb},r2=de([Er],t2),n2=de([r2,kY],KO),CY=de([ew,xl,wr,n2],kT,{memoizeOptions:{resultEqualityCheck:Kx}}),Jx=e=>e.errorBars,PY=(e,t,n)=>e.flatMap(s=>t[s.id]).filter(Boolean).filter(s=>_T(n,s)),Ag=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},s2=(e,t,n,s,a)=>{var i,o;if(n.length>0&&e.forEach(c=>{n.forEach(d=>{var u,m,f=(u=s[d.id])===null||u===void 0?void 0:u.filter(j=>_T(a,j)),g=lr(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),x=_Y(c,g,f);if(x.length>=2){var v=Math.min(...x),w=Math.max(...x);(i==null||v<i)&&(i=v),(o==null||w>o)&&(o=w)}var b=z5(g);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var d=z5(lr(c,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),Fn(i)&&Fn(o))return[i,o]},AY=de([XN,Er,jY,Jx,wr],s2,{memoizeOptions:{resultEqualityCheck:Kx}});function EY(e){var{value:t}=e;if(li(t)||t instanceof Date)return t}var OY=(e,t,n)=>{var s=e.map(EY).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&LA(s))?hO(0,e.length):t.allowDuplicatedCategory?s:Array.from(new Set(s))},CT=e=>e.referenceElements.dots,lu=(e,t,n)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>t==="xAxis"?s.xAxisId===n:s.yAxisId===n),TY=de([CT,wr,_h],lu),PT=e=>e.referenceElements.areas,LY=de([PT,wr,_h],lu),AT=e=>e.referenceElements.lines,MY=de([AT,wr,_h],lu),ET=(e,t)=>{var n=ou(e.map(s=>t==="xAxis"?s.x:s.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},DY=de(TY,wr,ET),OT=(e,t)=>{var n=ou(e.flatMap(s=>[t==="xAxis"?s.x1:s.y1,t==="xAxis"?s.x2:s.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},RY=de([LY,wr],OT),TT=(e,t)=>{var n=ou(e.map(s=>t==="xAxis"?s.x:s.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},IY=de(MY,wr,TT),FY=de(DY,IY,RY,(e,t,n)=>Ag(e,n,t)),a2=(e,t,n,s,a,i,o,c)=>{if(n!=null)return n;var d=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",u=d?Ag(s,i,a):Ag(i,a);return QZ(t,u,e.allowDataOverflow)},BY=de([Er,r2,n2,CY,AY,FY,Pt,wr],a2,{memoizeOptions:{resultEqualityCheck:Kx}}),$Y=[0,1],i2=(e,t,n,s,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:d}=e,u=hl(t,i);return u&&c==null?hO(0,n.length):d==="category"?OY(s,e,u):a==="expand"?$Y:o}},o2=de([Er,Pt,XN,Qx,Nh,wr,BY],i2),LT=(e,t,n,s,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(mh(i));return c in em?c:"point"}}},cu=de([Er,Pt,wT,zN,wr],LT);function zY(e){if(e!=null){if(e in em)return em[e]();var t="scale".concat(mh(e));if(t in em)return em[t]()}}function l2(e,t,n,s){if(!(n==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(s);var a=zY(t);if(a!=null){var i=a.domain(n).range(s);return mH(i),i}}}var c2=(e,t,n)=>{var s=t2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&yc(e))return oY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&yc(e))return lY(e,t.tickCount,t.allowDecimals)}},d2=de([o2,Sh,cu],c2),u2=(e,t,n,s)=>{if(s!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&yc(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],c=n[n.length-1];return[Math.min(a,i),Math.max(o,c)]}return t},UY=de([Er,o2,d2,wr],u2),GY=de(Qx,Er,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,s=Array.from(ou(e.map(c=>c.value))).sort((c,d)=>c-d);if(s.length<2)return 1/0;var a=s[s.length-1]-s[0];if(a===0)return 1/0;for(var i=0;i<s.length-1;i++){var o=s[i+1]-s[i];n=Math.min(n,o)}return n/a}}),MT=de(GY,Pt,dT,tn,(e,t,n,s)=>s,(e,t,n,s,a)=>{if(!Fn(e))return 0;var i=t==="vertical"?s.height:s.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Rn(n,e*i),c=e*i/2;return c-o-(c-o)/i*o}return 0}),WY=(e,t)=>{var n=eo(e,t);return n==null||typeof n.padding!="string"?0:MT(e,"xAxis",t,n.padding)},HY=(e,t)=>{var n=to(e,t);return n==null||typeof n.padding!="string"?0:MT(e,"yAxis",t,n.padding)},qY=de(eo,WY,(e,t)=>{var n,s;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((s=a.right)!==null&&s!==void 0?s:0)+t}}),VY=de(to,HY,(e,t)=>{var n,s;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((s=a.bottom)!==null&&s!==void 0?s:0)+t}}),KY=de([tn,qY,Lx,Tx,(e,t,n)=>n],(e,t,n,s,a)=>{var{padding:i}=s;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),ZY=de([tn,Pt,VY,Lx,Tx,(e,t,n)=>n],(e,t,n,s,a,i)=>{var{padding:o}=a;return i?[s.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ch=(e,t,n,s)=>{var a;switch(t){case"xAxis":return KY(e,n,s);case"yAxis":return ZY(e,n,s);case"zAxis":return(a=KN(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return fT(e);case"radiusAxis":return pT(e,n);default:return}},DT=de([Er,Ch],Hx),du=de([Er,cu,UY,DT],l2);de([kh,Jx,wr],PY);function RT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Xx=(e,t)=>t,e0=(e,t,n)=>n,YY=de(Ex,Xx,e0,(e,t,n)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===n).sort(RT)),QY=de(Ox,Xx,e0,(e,t,n)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===n).sort(RT)),IT=(e,t)=>({width:e.width,height:t.height}),JY=(e,t)=>{var n=typeof t.width=="number"?t.width:gh;return{width:n,height:e.height}},FT=de(tn,eo,IT),XY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},eQ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},tQ=de(Ji,tn,YY,Xx,e0,(e,t,n,s,a)=>{var i={},o;return n.forEach(c=>{var d=IT(t,c);o==null&&(o=XY(t,s,e));var u=s==="top"&&!a||s==="bottom"&&a;i[c.id]=o-Number(u)*d.height,o+=(u?-1:1)*d.height}),i}),rQ=de(Qi,tn,QY,Xx,e0,(e,t,n,s,a)=>{var i={},o;return n.forEach(c=>{var d=JY(t,c);o==null&&(o=eQ(t,s,e));var u=s==="left"&&!a||s==="right"&&a;i[c.id]=o-Number(u)*d.width,o+=(u?-1:1)*d.width}),i}),nQ=(e,t)=>{var n=eo(e,t);if(n!=null)return tQ(e,n.orientation,n.mirror)},sQ=de([tn,eo,nQ,(e,t)=>t],(e,t,n,s)=>{if(t!=null){var a=n==null?void 0:n[s];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),aQ=(e,t)=>{var n=to(e,t);if(n!=null)return rQ(e,n.orientation,n.mirror)},iQ=de([tn,to,aQ,(e,t)=>t],(e,t,n,s)=>{if(t!=null){var a=n==null?void 0:n[s];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),BT=de(tn,to,(e,t)=>{var n=typeof t.width=="number"?t.width:gh;return{width:n,height:e.height}}),U5=(e,t,n)=>{switch(t){case"xAxis":return FT(e,n).width;case"yAxis":return BT(e,n).height;default:return}},$T=(e,t,n,s)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,c=hl(e,s),d=t.map(u=>u.value);if(o&&c&&i==="category"&&a&&LA(d))return d}},m2=de([Pt,Qx,Er,wr],$T),zT=(e,t,n,s)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=hl(e,s);if(o&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},h2=de([Pt,Qx,Sh,wr],zT),G5=de([Pt,bY,cu,du,m2,h2,Ch,d2,wr],(e,t,n,s,a,i,o,c,d)=>{if(t==null)return null;var u=hl(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:c,range:o,realScaleType:n,scale:s}}),oQ=(e,t,n,s,a,i,o,c,d)=>{if(!(t==null||s==null)){var u=hl(e,d),{type:m,ticks:f,tickCount:g}=t,x=n==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,v=m==="category"&&s.bandwidth?s.bandwidth()/x:0;v=d==="angleAxis"&&i!=null&&i.length>=2?fn(i[0]-i[1])*2*v:v;var w=f||a;if(w){var b=w.map((j,S)=>{var _=o?o.indexOf(j):j;return{index:S,coordinate:s(_)+v,value:j,offset:v}});return b.filter(j=>!ua(j.coordinate))}return u&&c?c.map((j,S)=>({coordinate:s(j)+v,value:j,index:S,offset:v})):s.ticks?s.ticks(g).map(j=>({coordinate:s(j)+v,value:j,offset:v})):s.domain().map((j,S)=>({coordinate:s(j)+v,value:o?o[j]:j,index:S,offset:v}))}},UT=de([Pt,Sh,cu,du,d2,Ch,m2,h2,wr],oQ),lQ=(e,t,n,s,a,i,o)=>{if(!(t==null||n==null||s==null||s[0]===s[1])){var c=hl(e,o),{tickCount:d}=t,u=0;return u=o==="angleAxis"&&(s==null?void 0:s.length)>=2?fn(s[0]-s[1])*2*u:u,c&&i?i.map((m,f)=>({coordinate:n(m)+u,value:m,index:f,offset:u})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+u,value:m,offset:u})):n.domain().map((m,f)=>({coordinate:n(m)+u,value:a?a[m]:m,index:f,offset:u}))}},tl=de([Pt,Sh,du,Ch,m2,h2,wr],lQ),rl=de(Er,du,(e,t)=>{if(!(e==null||t==null))return Pg(Pg({},e),{},{scale:t})}),cQ=de([Er,cu,o2,DT],l2);de((e,t,n)=>KN(e,n),cQ,(e,t)=>{if(!(e==null||t==null))return Pg(Pg({},e),{},{scale:t})});var dQ=de([Pt,Ex,Ox],(e,t,n)=>{switch(e){case"horizontal":return t.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GT=e=>e.options.defaultTooltipEventType,WT=e=>e.options.validateTooltipEventTypes;function HT(e,t,n){if(e==null)return t;var s=e?"axis":"item";return n==null?t:n.includes(s)?s:t}function f2(e,t){var n=GT(e),s=WT(e);return HT(t,n,s)}function uQ(e){return Je(t=>f2(t,e))}var qT=(e,t)=>{var n,s=Number(t);if(!(ua(s)||t==null))return s>=0?e==null||(n=e[s])===null||n===void 0?void 0:n.value:void 0},mQ=e=>e.tooltip.settings,No={active:!1,index:null,dataKey:void 0,coordinate:void 0},hQ={itemInteraction:{click:No,hover:No},axisInteraction:{click:No,hover:No},keyboardInteraction:No,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VT=Gs({name:"tooltip",initialState:hQ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zn()},removeTooltipEntrySettings:{reducer(e,t){var n=Mi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Zn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:fQ,removeTooltipEntrySettings:pQ,setTooltipSettingsState:gQ,setActiveMouseOverItemIndex:KT,mouseLeaveItem:xQ,mouseLeaveChart:ZT,setActiveClickItemIndex:yQ,setMouseOverAxisIndex:YT,setMouseClickAxisIndex:vQ,setSyncInteraction:tw,setKeyboardInteraction:rw}=VT.actions,bQ=VT.reducer;function W5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(n),!0).forEach(function(s){wQ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Q(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function SQ(e){return e.index!=null}var QT=(e,t,n,s)=>{if(t==null)return No;var a=_Q(e,t,n);if(a==null)return No;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(SQ(a)){if(i)return Of(Of({},a),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return Of(Of({},No),{},{coordinate:a.coordinate})},p2=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var s=Number(n);if(!Fn(s))return n;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(s,i)))},JT=(e,t,n,s,a,i,o,c)=>{if(!(i==null||c==null)){var d=o[0],u=d==null?void 0:c(d.positions,i);if(u!=null)return u;var m=a==null?void 0:a[Number(i)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(s.top+t)/2};default:return{x:(s.left+e)/2,y:m.coordinate}}}},XT=(e,t,n,s)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&s!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Ph=e=>e.options.tooltipPayloadSearcher,uu=e=>e.tooltip;function H5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function q5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(n),!0).forEach(function(s){kQ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kQ(e,t,n){return(t=CQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AQ(e,t){return e??t}var eL=(e,t,n,s,a,i,o)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:u,dataEndIndex:m}=n,f=[];return e.reduce((g,x)=>{var v,{dataDefinedOnItem:w,settings:b}=x,j=AQ(w,c),S=Array.isArray(j)?BE(j,u,m):j,_=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:s,k=b==null?void 0:b.nameKey,A;if(s&&Array.isArray(S)&&!Array.isArray(S[0])&&o==="axis"?A=MA(S,s,a):A=i(S,t,d,k),Array.isArray(A))A.forEach(E=>{var T=q5(q5({},b),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});g.push(Ak({tooltipEntrySettings:T,dataKey:E.dataKey,payload:E.payload,value:lr(E.payload,E.dataKey),name:E.name}))});else{var P;g.push(Ak({tooltipEntrySettings:b,dataKey:_,payload:A,value:lr(A,_),name:(P=lr(A,k))!==null&&P!==void 0?P:b==null?void 0:b.name}))}return g},f)}},g2=de([sn,Pt,wT,zN,nn],LT),EQ=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),OQ=de([nn,iu],ZN),Ah=de([EQ,sn,OQ],YN,{memoizeOptions:{resultEqualityCheck:Zx}}),TQ=de([Ah],e=>e.filter(Vx)),LQ=de([Ah],QN,{memoizeOptions:{resultEqualityCheck:Zx}}),mu=de([LQ,xl],JN),MQ=de([TQ,xl,sn],yT),x2=de([mu,sn,Ah],e2),tL=de([sn],t2),DQ=de([sn],e=>e.allowDataOverflow),rL=de([tL,DQ],KO),RQ=de([Ah],e=>e.filter(Vx)),IQ=de([MQ,RQ,Nh],ST),FQ=de([IQ,xl,nn,rL],kT),BQ=de([Ah],NT),$Q=de([mu,sn,BQ,Jx,nn],s2,{memoizeOptions:{resultEqualityCheck:Kx}}),zQ=de([CT,nn,iu],lu),UQ=de([zQ,nn],ET),GQ=de([PT,nn,iu],lu),WQ=de([GQ,nn],OT),HQ=de([AT,nn,iu],lu),qQ=de([HQ,nn],TT),VQ=de([UQ,qQ,WQ],Ag),KQ=de([sn,tL,rL,FQ,$Q,VQ,Pt,nn],a2),nL=de([sn,Pt,mu,x2,Nh,nn,KQ],i2),ZQ=de([nL,sn,g2],c2),YQ=de([sn,nL,ZQ,nn],u2),sL=e=>{var t=nn(e),n=iu(e),s=!1;return Ch(e,t,n,s)},aL=de([sn,sL],Hx),iL=de([sn,g2,YQ,aL],l2),QQ=de([Pt,x2,sn,nn],$T),JQ=de([Pt,x2,sn,nn],zT),XQ=(e,t,n,s,a,i,o,c)=>{if(t){var{type:d}=t,u=hl(e,c);if(s){var m=n==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,f=d==="category"&&s.bandwidth?s.bandwidth()/m:0;return f=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?fn(a[0]-a[1])*2*f:f,u&&o?o.map((g,x)=>({coordinate:s(g)+f,value:g,index:x,offset:f})):s.domain().map((g,x)=>({coordinate:s(g)+f,value:i?i[g]:g,index:x,offset:f}))}}},ro=de([Pt,sn,g2,iL,sL,QQ,JQ,nn],XQ),y2=de([GT,WT,mQ],(e,t,n)=>HT(n.shared,e,t)),oL=e=>e.tooltip.settings.trigger,v2=e=>e.tooltip.settings.defaultIndex,t0=de([uu,y2,oL,v2],QT),nl=de([t0,mu],p2),lL=de([ro,nl],qT),cL=de([t0],e=>{if(e)return e.dataKey}),dL=de([uu,y2,oL,v2],XT),eJ=de([Qi,Ji,Pt,tn,ro,v2,dL,Ph],JT),tJ=de([t0,eJ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rJ=de([t0],e=>e.active),nJ=de([dL,nl,xl,xT,lL,Ph,y2],eL),sJ=de([nJ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function V5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function K5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(n),!0).forEach(function(s){aJ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function aJ(e,t,n){return(t=iJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lJ=()=>Je(sn),cJ=()=>{var e=lJ(),t=Je(ro),n=Je(iL);return Um(K5(K5({},e),{},{scale:n}),t)},dJ=()=>Je(zN),b2=(e,t)=>t,uL=(e,t,n)=>n,w2=(e,t,n,s)=>s,uJ=de(ro,e=>_x(e,t=>t.coordinate)),j2=de([uu,b2,uL,w2],QT),mL=de([j2,mu],p2),mJ=(e,t,n)=>{if(t!=null){var s=uu(e);return t==="axis"?n==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:n==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},hL=de([uu,b2,uL,w2],XT),Eg=de([Qi,Ji,Pt,tn,ro,w2,hL,Ph],JT),hJ=de([j2,Eg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),fL=de(ro,mL,qT),fJ=de([hL,mL,xl,xT,fL,Ph,b2],eL),pJ=de([j2],e=>({isActive:e.active,activeIndex:e.index})),gJ=(e,t,n,s,a,i,o,c)=>{if(!(!e||!t||!s||!a||!i)){var d=NH(e.chartX,e.chartY,t,n,c);if(d){var u=SH(d,t),m=dH(u,o,i,s,a),f=_H(t,i,m,d);return{activeIndex:String(m),activeCoordinate:f}}}};function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nw.apply(null,arguments)}function Z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z5(Object(n),!0).forEach(function(s){xJ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xJ(e,t,n){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bJ(e){var{coordinate:t,payload:n,index:s,offset:a,tooltipAxisBandSize:i,layout:o,cursor:c,tooltipEventType:d,chartName:u}=e,m=t,f=n,g=s;if(!c||!m||u!=="ScatterChart"&&d!=="axis")return null;var x,v;if(u==="ScatterChart")x=m,v=Iq;else if(u==="BarChart")x=Fq(o,m,a,i),v=iO;else if(o==="radial"){var{cx:w,cy:b,radius:j,startAngle:S,endAngle:_}=oO(m);x={cx:w,cy:b,startAngle:S,endAngle:_,innerRadius:j,outerRadius:j},v=cO}else x={points:wV(o,m,a)},v=fN;var k=typeof c=="object"&&"className"in c?c.className:void 0,A=Tf(Tf(Tf(Tf({stroke:"#ccc",pointerEvents:"none"},a),x),fc(c)),{},{payload:f,payloadIndex:g,className:It("recharts-tooltip-cursor",k)});return p.isValidElement(c)?p.cloneElement(c,A):p.createElement(v,A)}function wJ(e){var t=cJ(),n=QE(),s=Dx(),a=dJ();return p.createElement(bJ,nw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:s,tooltipAxisBandSize:t,chartName:a}))}var pL=p.createContext(null),jJ=()=>p.useContext(pL),gL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(d,u,m){this.fn=d,this.context=u,this.once=m||!1}function i(d,u,m,f,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new a(m,f||d,g),v=n?n+u:u;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],x]:d._events[v].push(x):(d._events[v]=x,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new s:delete d._events[u]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],m,f;if(this._eventsCount===0)return u;for(f in m=this._events)t.call(m,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},c.prototype.listeners=function(u){var m=n?n+u:u,f=this._events[m];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,x=f.length,v=new Array(x);g<x;g++)v[g]=f[g].fn;return v},c.prototype.listenerCount=function(u){var m=n?n+u:u,f=this._events[m];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,m,f,g,x,v){var w=n?n+u:u;if(!this._events[w])return!1;var b=this._events[w],j=arguments.length,S,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,f),!0;case 4:return b.fn.call(b.context,m,f,g),!0;case 5:return b.fn.call(b.context,m,f,g,x),!0;case 6:return b.fn.call(b.context,m,f,g,x,v),!0}for(_=1,S=new Array(j-1);_<j;_++)S[_-1]=arguments[_];b.fn.apply(b.context,S)}else{var k=b.length,A;for(_=0;_<k;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),j){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,m);break;case 3:b[_].fn.call(b[_].context,m,f);break;case 4:b[_].fn.call(b[_].context,m,f,g);break;default:if(!S)for(A=1,S=new Array(j-1);A<j;A++)S[A-1]=arguments[A];b[_].fn.apply(b[_].context,S)}}return!0},c.prototype.on=function(u,m,f){return i(this,u,m,f,!1)},c.prototype.once=function(u,m,f){return i(this,u,m,f,!0)},c.prototype.removeListener=function(u,m,f,g){var x=n?n+u:u;if(!this._events[x])return this;if(!m)return o(this,x),this;var v=this._events[x];if(v.fn)v.fn===m&&(!g||v.once)&&(!f||v.context===f)&&o(this,x);else{for(var w=0,b=[],j=v.length;w<j;w++)(v[w].fn!==m||g&&!v[w].once||f&&v[w].context!==f)&&b.push(v[w]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},c.prototype.removeAllListeners=function(u){var m;return u?(m=n?n+u:u,this._events[m]&&o(this,m)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(gL);var NJ=gL.exports;const _J=bs(NJ);var Zm=new _J,sw="recharts.syncEvent.tooltip",Y5="recharts.syncEvent.brush";function N2(e,t){if(t){var n=Number.parseInt(t,10);if(!ua(n))return e==null?void 0:e[n]}}var SJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},xL=Gs({name:"options",initialState:SJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kJ=xL.reducer,{createEventEmitter:CJ}=xL.actions;function PJ(e){return e.tooltip.syncInteraction}var AJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},yL=Gs({name:"chartData",initialState:AJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:s}=t.payload;n!=null&&(e.dataStartIndex=n),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:Q5,setDataStartEndIndexes:EJ,setComputedData:Tle}=yL.actions,OJ=yL.reducer,TJ=["x","y"];function J5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(n),!0).forEach(function(s){LJ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function LJ(e,t,n){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MJ(e){var t=DJ(e,"string");return typeof t=="symbol"?t:t+""}function DJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RJ(e,t){if(e==null)return{};var n,s,a=IJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function IJ(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var vL=()=>{};function FJ(){var e=Je(UN),t=Je(GN),n=br(),s=Je(uT),a=Je(ro),i=Dx(),o=Mx(),c=Je(d=>d.rootProps.className);p.useEffect(()=>{if(e==null)return vL;var d=(u,m,f)=>{if(t!==f&&e===u){if(s==="index"){var g;if(o&&m!==null&&m!==void 0&&(g=m.payload)!==null&&g!==void 0&&g.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:v,y:w}=x,b=RJ(x,TJ),{x:j,y:S,width:_,height:k}=m.payload.sourceViewBox,A=$c($c({},b),{},{x:o.x+(_?(v-j)/_:0)*o.width,y:o.y+(k?(w-S)/k:0)*o.height});n($c($c({},m),{},{payload:$c($c({},m.payload),{},{coordinate:A})}))}else n(m);return}if(a!=null){var P;if(typeof s=="function"){var E={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},T=s(a,E);P=a[T]}else s==="value"&&(P=a.find($=>String($.value)===m.payload.label));var{coordinate:M}=m.payload;if(P==null||m.payload.active===!1||M==null||o==null){n(tw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:U,y:D}=M,B=Math.min(U,o.x+o.width),z=Math.min(D,o.y+o.height),X={x:i==="horizontal"?P.coordinate:B,y:i==="horizontal"?z:P.coordinate},le=tw({active:m.payload.active,coordinate:X,dataKey:m.payload.dataKey,index:String(P.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});n(le)}}};return Zm.on(sw,d),()=>{Zm.off(sw,d)}},[c,n,t,e,s,a,i,o])}function BJ(){var e=Je(UN),t=Je(GN),n=br();p.useEffect(()=>{if(e==null)return vL;var s=(a,i,o)=>{t!==o&&e===a&&n(EJ(i))};return Zm.on(Y5,s),()=>{Zm.off(Y5,s)}},[n,t,e])}function $J(){var e=br();p.useEffect(()=>{e(CJ())},[e]),FJ(),BJ()}function zJ(e,t,n,s,a,i){var o=Je(x=>mJ(x,e,t)),c=Je(GN),d=Je(UN),u=Je(uT),m=Je(PJ),f=m==null?void 0:m.active,g=Mx();p.useEffect(()=>{if(!f&&d!=null&&c!=null){var x=tw({active:i,coordinate:n,dataKey:o,index:a,label:typeof s=="number"?String(s):s,sourceViewBox:g});Zm.emit(sw,d,x,c)}},[f,n,o,a,s,c,d,u,i,g])}function X5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(n),!0).forEach(function(s){UJ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function UJ(e,t,n){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HJ(e){return e.dataKey}function qJ(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(pq,t)}var tC=[],VJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ja(e){var t=Cn(e,VJ),{active:n,allowEscapeViewBox:s,animationDuration:a,animationEasing:i,content:o,filterNull:c,isAnimationActive:d,offset:u,payloadUniqBy:m,position:f,reverseDirection:g,useTranslate3d:x,wrapperStyle:v,cursor:w,shared:b,trigger:j,defaultIndex:S,portal:_,axisId:k}=t,A=br(),P=typeof S=="number"?String(S):S;p.useEffect(()=>{A(gQ({shared:b,trigger:j,axisId:k,active:n,defaultIndex:P}))},[A,b,j,k,n,P]);var E=Mx(),T=tO(),M=uQ(b),{activeIndex:U,isActive:D}=Je(je=>pJ(je,M,j,P)),B=Je(je=>fJ(je,M,j,P)),z=Je(je=>fL(je,M,j,P)),X=Je(je=>hJ(je,M,j,P)),le=B,$=jJ(),ae=n??D,[G,ie]=uE([le,ae]),ce=M==="axis"?z:void 0;zJ(M,j,X,ce,U,ae);var I=_??$;if(I==null)return null;var pe=le??tC;ae||(pe=tC),c&&pe.length&&(pe=XA(le.filter(je=>je.value!=null&&(je.hide!==!0||t.includeHidden)),m,HJ));var Q=pe.length>0,xe=p.createElement(jq,{allowEscapeViewBox:s,animationDuration:a,animationEasing:i,isAnimationActive:d,active:ae,coordinate:X,hasPayload:Q,offset:u,position:f,reverseDirection:g,useTranslate3d:x,viewBox:E,wrapperStyle:v,lastBoundingBox:G,innerRef:ie,hasPortalFromProps:!!_},qJ(o,eC(eC({},t),{},{payload:pe,label:ce,active:ae,coordinate:X,accessibilityLayer:T})));return p.createElement(p.Fragment,null,nx.createPortal(xe,I),ae&&p.createElement(wJ,{cursor:w,tooltipEventType:M,coordinate:X,payload:le,index:U}))}var Ro=e=>null;Ro.displayName="Cell";function KJ(e,t,n){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QJ{constructor(t){KJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function JJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(s){XJ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function XJ(e,t,n){return(t=eX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eX(e){var t=tX(e,"string");return typeof t=="symbol"?t:t+""}function tX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rX={cacheSize:2e3,enableCache:!0},bL=JJ({},rX),nC=new QJ(bL.cacheSize),nX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sC="recharts_measurement_span";function sX(e,t){var n=t.fontSize||"",s=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(s,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(c)}var aC=(e,t)=>{try{var n=document.getElementById(sC);n||(n=document.createElement("span"),n.setAttribute("id",sC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,nX,t),n.textContent="".concat(e);var s=n.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},pm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fl.isSsr)return{width:0,height:0};if(!bL.enableCache)return aC(t,n);var s=sX(t,n),a=nC.get(s);if(a)return a;var i=aC(t,n);return nC.set(s,i),i},iC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oX=Object.keys(wL),nd="NaN";function lX(e,t){return e*wL[t]}class us{static parse(t){var n,[,s,a]=(n=iX.exec(t))!==null&&n!==void 0?n:[];return new us(parseFloat(s),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ua(t)&&(this.unit=""),n!==""&&!aX.test(n)&&(this.num=NaN,this.unit=""),oX.includes(n)&&(this.num=lX(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new us(NaN,""):new us(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new us(NaN,""):new us(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new us(NaN,""):new us(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new us(NaN,""):new us(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ua(this.num)}}function jL(e){if(e.includes(nd))return nd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,s,a,i]=(n=iC.exec(t))!==null&&n!==void 0?n:[],o=us.parse(s??""),c=us.parse(i??""),d=a==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return nd;t=t.replace(iC,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,m,f,g]=(u=oC.exec(t))!==null&&u!==void 0?u:[],x=us.parse(m??""),v=us.parse(g??""),w=f==="+"?x.add(v):x.subtract(v);if(w.isNaN())return nd;t=t.replace(oC,w.toString())}return t}var lC=/\(([^()]*)\)/;function cX(e){for(var t=e,n;(n=lC.exec(t))!=null;){var[,s]=n;t=t.replace(lC,jL(s))}return t}function dX(e){var t=e.replace(/\s+/g,"");return t=cX(t),t=jL(t),t}function uX(e){try{return dX(e)}catch{return nd}}function My(e){var t=uX(e.slice(5,-1));return t===nd?"":t}var mX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hX=["dx","dy","angle","className","breakAll"];function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aw.apply(null,arguments)}function cC(e,t){if(e==null)return{};var n,s,a=fX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fX(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var NL=/[ \f\n\r\t\v\u2028\u2029]+/,_L=e=>{var{children:t,breakAll:n,style:s}=e;try{var a=[];vr(t)||(n?a=t.toString().split(""):a=t.toString().split(NL));var i=a.map(c=>({word:c,width:pm(c,s).width})),o=n?0:pm("",s).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},pX=(e,t,n,s,a)=>{var{maxLines:i,children:o,style:c,breakAll:d}=e,u=st(i),m=o,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((B,z)=>{var{word:X,width:le}=z,$=B[B.length-1];if($&&(s==null||a||$.width+le+n<Number(s)))$.words.push(X),$.width+=le+n;else{var ae={words:[X],width:le};B.push(ae)}return B},[])},g=f(t),x=U=>U.reduce((D,B)=>D.width>B.width?D:B);if(!u||a)return g;var v=g.length>i||x(g).width>Number(s);if(!v)return g;for(var w="",b=U=>{var D=m.slice(0,U),B=_L({breakAll:d,style:c,children:D+w}).wordsWithComputedWidth,z=f(B),X=z.length>i||x(z).width>Number(s);return[X,z]},j=0,S=m.length-1,_=0,k;j<=S&&_<=m.length-1;){var A=Math.floor((j+S)/2),P=A-1,[E,T]=b(P),[M]=b(A);if(!E&&!M&&(j=A+1),E&&M&&(S=A-1),!E&&M){k=T;break}_++}return k||g},dC=e=>{var t=vr(e)?[]:e.toString().split(NL);return[{words:t}]},gX=e=>{var{width:t,scaleToFit:n,children:s,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!fl.isSsr){var c,d,u=_L({breakAll:i,children:s,style:a});if(u){var{wordsWithComputedWidth:m,spaceWidth:f}=u;c=m,d=f}else return dC(s);return pX({breakAll:i,children:s,maxLines:o,style:a},c,d,t,n)}return dC(s)},uC="#808080",r0=p.forwardRef((e,t)=>{var{x:n=0,y:s=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:d="end",fill:u=uC}=e,m=cC(e,mX),f=p.useMemo(()=>gX({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:o,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,o,m.style,m.width]),{dx:g,dy:x,angle:v,className:w,breakAll:b}=m,j=cC(m,hX);if(!li(n)||!li(s)||f.length===0)return null;var S=n+(st(g)?g:0),_=s+(st(x)?x:0),k;switch(d){case"start":k=My("calc(".concat(i,")"));break;case"middle":k=My("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:k=My("calc(".concat(f.length-1," * -").concat(a,")"));break}var A=[];if(o){var P=f[0].width,{width:E}=m;A.push("scale(".concat(st(E)?E/P:1,")"))}return v&&A.push("rotate(".concat(v,", ").concat(S,", ").concat(_,")")),A.length&&(j.transform=A.join(" ")),p.createElement("text",aw({},es(j),{ref:t,x:S,y:_,className:It("recharts-text",w),textAnchor:c,fill:u.includes("url")?uC:u}),f.map((T,M)=>{var U=T.words.join(b?"":" ");return p.createElement("tspan",{x:S,dy:M===0?k:a,key:"".concat(U,"-").concat(M)},U)}))});r0.displayName="Text";var xX=["labelRef"];function yX(e,t){if(e==null)return{};var n,s,a=vX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vX(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(n),!0).forEach(function(s){bX(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bX(e,t,n){return(t=wX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ki.apply(null,arguments)}var SL=p.createContext(null),NX=e=>{var{x:t,y:n,width:s,height:a,children:i}=e,o=p.useMemo(()=>({x:t,y:n,width:s,height:a}),[t,n,s,a]);return p.createElement(SL.Provider,{value:o},i)},kL=()=>{var e=p.useContext(SL),t=Mx();return e||t},_X=p.createContext(null),SX=()=>{var e=p.useContext(_X),t=Je(gT);return e||t},kX=e=>{var{value:t,formatter:n}=e,s=vr(e.children)?t:e.children;return typeof n=="function"?n(s):s},_2=e=>e!=null&&typeof e=="function",CX=(e,t)=>{var n=fn(t-e),s=Math.min(Math.abs(t-e),360);return n*s},PX=(e,t,n,s,a)=>{var{offset:i,className:o}=e,{cx:c,cy:d,innerRadius:u,outerRadius:m,startAngle:f,endAngle:g,clockWise:x}=a,v=(u+m)/2,w=CX(f,g),b=w>=0?1:-1,j,S;switch(t){case"insideStart":j=f+b*i,S=x;break;case"insideEnd":j=g-b*i,S=!x;break;case"end":j=g+b*i,S=x;break;default:throw new Error("Unsupported position ".concat(t))}S=w<=0?S:!S;var _=Hr(c,d,v,j),k=Hr(c,d,v,j+(S?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),P=vr(e.id)?Fm("recharts-radial-line-"):e.id;return p.createElement("text",ki({},s,{dominantBaseline:"central",className:It("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:P,d:A})),p.createElement("textPath",{xlinkHref:"#".concat(P)},n))},AX=(e,t,n)=>{var{cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d}=e,u=(c+d)/2;if(n==="outside"){var{x:m,y:f}=Hr(s,a,o+t,u);return{x:m,y:f,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x,y:v}=Hr(s,a,g,u);return{x,y:v,textAnchor:"middle",verticalAnchor:"middle"}},CL=e=>"cx"in e&&st(e.cx),EX=(e,t)=>{var{parentViewBox:n,offset:s,position:a}=e,i;n!=null&&!CL(n)&&(i=n);var{x:o,y:c,width:d,height:u}=t,m=u>=0?1:-1,f=m*s,g=m>0?"end":"start",x=m>0?"start":"end",v=d>=0?1:-1,w=v*s,b=v>0?"end":"start",j=v>0?"start":"end";if(a==="top"){var S={x:o+d/2,y:c-m*s,textAnchor:"middle",verticalAnchor:g};return Rr(Rr({},S),i?{height:Math.max(c-i.y,0),width:d}:{})}if(a==="bottom"){var _={x:o+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:x};return Rr(Rr({},_),i?{height:Math.max(i.y+i.height-(c+u),0),width:d}:{})}if(a==="left"){var k={x:o-w,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Rr(Rr({},k),i?{width:Math.max(k.x-i.x,0),height:u}:{})}if(a==="right"){var A={x:o+d+w,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return Rr(Rr({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:u}:{})}var P=i?{width:d,height:u}:{};return a==="insideLeft"?Rr({x:o+w,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},P):a==="insideRight"?Rr({x:o+d-w,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},P):a==="insideTop"?Rr({x:o+d/2,y:c+f,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?Rr({x:o+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:g},P):a==="insideTopLeft"?Rr({x:o+w,y:c+f,textAnchor:j,verticalAnchor:x},P):a==="insideTopRight"?Rr({x:o+d-w,y:c+f,textAnchor:b,verticalAnchor:x},P):a==="insideBottomLeft"?Rr({x:o+w,y:c+u-f,textAnchor:j,verticalAnchor:g},P):a==="insideBottomRight"?Rr({x:o+d-w,y:c+u-f,textAnchor:b,verticalAnchor:g},P):a&&typeof a=="object"&&(st(a.x)||Gi(a.x))&&(st(a.y)||Gi(a.y))?Rr({x:o+Rn(a.x,d),y:c+Rn(a.y,u),textAnchor:"end",verticalAnchor:"end"},P):Rr({x:o+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},OX={offset:5};function yo(e){var t=Cn(e,OX),{viewBox:n,position:s,value:a,children:i,content:o,className:c="",textBreakAll:d,labelRef:u}=t,m=SX(),f=kL(),g=s==="center"?f:m??f,x=n||g;if(!x||vr(a)&&vr(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var v=Rr(Rr({},t),{},{viewBox:x});if(p.isValidElement(o)){var{labelRef:w}=v,b=yX(v,xX);return p.cloneElement(o,b)}var j;if(typeof o=="function"){if(j=p.createElement(o,v),p.isValidElement(j))return j}else j=kX(t);var S=CL(x),_=es(t);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return PX(t,s,j,_,x);var k=S?AX(x,t.offset,t.position):EX(t,x);return p.createElement(r0,ki({ref:u,className:It("recharts-label",c)},_,k,{breakAll:d}),j)}yo.displayName="Label";var TX=(e,t,n)=>{if(!e)return null;var s={viewBox:t,labelRef:n};return e===!0?p.createElement(yo,ki({key:"label-implicit"},s)):li(e)?p.createElement(yo,ki({key:"label-implicit",value:e},s)):p.isValidElement(e)?e.type===yo?p.cloneElement(e,Rr({key:"label-implicit"},s)):p.createElement(yo,ki({key:"label-implicit",content:e},s)):_2(e)?p.createElement(yo,ki({key:"label-implicit",content:e},s)):e&&typeof e=="object"?p.createElement(yo,ki({},e,{key:"label-implicit"},s)):null};function LX(e){var{label:t,labelRef:n}=e,s=kL();return TX(t,s,n)||null}var PL={},AL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(AL);var EL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(EL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AL,n=EL,s=jx;function a(i){if(s.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(PL);var MX=PL.last;const DX=bs(MX);var RX=["valueAccessor"],IX=["dataKey","clockWise","id","textBreakAll"];function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Og.apply(null,arguments)}function hC(e,t){if(e==null)return{};var n,s,a=FX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function FX(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var BX=e=>Array.isArray(e.value)?DX(e.value):e.value,OL=p.createContext(void 0),TL=OL.Provider,LL=p.createContext(void 0),$X=LL.Provider;function zX(){return p.useContext(OL)}function UX(){return p.useContext(LL)}function pp(e){var{valueAccessor:t=BX}=e,n=hC(e,RX),{dataKey:s,clockWise:a,id:i,textBreakAll:o}=n,c=hC(n,IX),d=zX(),u=UX(),m=d||u;return!m||!m.length?null:p.createElement(kn,{className:"recharts-label-list"},m.map((f,g)=>{var x,v=vr(s)?t(f,g):lr(f&&f.payload,s),w=vr(i)?{}:{id:"".concat(i,"-").concat(g)};return p.createElement(yo,Og({key:"label-".concat(g)},es(f),c,w,{fill:(x=n.fill)!==null&&x!==void 0?x:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:o,viewBox:f.viewBox,index:g}))}))}pp.displayName="LabelList";function S2(e){var{label:t}=e;return t?t===!0?p.createElement(pp,{key:"labelList-implicit"}):p.isValidElement(t)||_2(t)?p.createElement(pp,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(pp,Og({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iw.apply(null,arguments)}var ML=e=>{var{cx:t,cy:n,r:s,className:a}=e,i=It("recharts-dot",a);return t===+t&&n===+n&&s===+s?p.createElement("circle",iw({},Bs(e),Gj(e),{className:i,cx:t,cy:n,r:s})):null},DL=e=>e.graphicalItems.polarItems,GX=de([wr,_h],ZN),n0=de([DL,Er,GX],YN),WX=de([n0],QN),s0=de([WX,FN],JN),HX=de([s0,Er,n0],e2);de([s0,Er,n0],(e,t,n)=>n.length>0?e.flatMap(s=>n.flatMap(a=>{var i,o=lr(s,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:lr(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})));var fC=()=>{},qX=de([s0,Er,n0,Jx,wr],s2),VX=de([Er,r2,n2,fC,qX,fC,Pt,wr],a2),RL=de([Er,Pt,s0,HX,Nh,wr,VX],i2),KX=de([RL,Er,cu],c2);de([Er,RL,KX,wr],u2);var ZX={radiusAxis:{},angleAxis:{}},IL=Gs({name:"polarAxis",initialState:ZX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Lle,removeRadiusAxis:Mle,addAngleAxis:Dle,removeAngleAxis:Rle}=IL.actions,YX=IL.reducer;function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(s){QX(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function QX(e,t,n){return(t=JX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eee=(e,t)=>t,k2=de([DL,eee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),tee=[],C2=(e,t,n)=>(n==null?void 0:n.length)===0?tee:n,FL=de([FN,k2,C2],(e,t,n)=>{var{chartData:s}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=s,(!a||!a.length)&&n!=null&&(a=n.map(i=>gC(gC({},t.presentationProps),i.props))),a!=null)return a}}),ree=de([FL,k2,C2],(e,t,n)=>{if(!(e==null||t==null))return e.map((s,a)=>{var i,o=lr(s,t.nameKey,t.name),c;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=n[a].props.fill:typeof s=="object"&&s!=null&&"fill"in s?c=s.fill:c=t.fill,{value:ru(o,t.dataKey),color:c,payload:s,type:t.legendType}})}),nee=de([FL,k2,C2,tn],(e,t,n,s)=>{if(!(t==null||e==null))return ste({offset:s,pieSettings:t,displayedData:e,cells:n})}),BL={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xn=typeof Symbol=="function"&&Symbol.for,P2=xn?Symbol.for("react.element"):60103,A2=xn?Symbol.for("react.portal"):60106,a0=xn?Symbol.for("react.fragment"):60107,i0=xn?Symbol.for("react.strict_mode"):60108,o0=xn?Symbol.for("react.profiler"):60114,l0=xn?Symbol.for("react.provider"):60109,c0=xn?Symbol.for("react.context"):60110,E2=xn?Symbol.for("react.async_mode"):60111,d0=xn?Symbol.for("react.concurrent_mode"):60111,u0=xn?Symbol.for("react.forward_ref"):60112,m0=xn?Symbol.for("react.suspense"):60113,see=xn?Symbol.for("react.suspense_list"):60120,h0=xn?Symbol.for("react.memo"):60115,f0=xn?Symbol.for("react.lazy"):60116,aee=xn?Symbol.for("react.block"):60121,iee=xn?Symbol.for("react.fundamental"):60117,oee=xn?Symbol.for("react.responder"):60118,lee=xn?Symbol.for("react.scope"):60119;function Ws(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case P2:switch(e=e.type,e){case E2:case d0:case a0:case o0:case i0:case m0:return e;default:switch(e=e&&e.$$typeof,e){case c0:case u0:case f0:case h0:case l0:return e;default:return t}}case A2:return t}}}function $L(e){return Ws(e)===d0}Zt.AsyncMode=E2;Zt.ConcurrentMode=d0;Zt.ContextConsumer=c0;Zt.ContextProvider=l0;Zt.Element=P2;Zt.ForwardRef=u0;Zt.Fragment=a0;Zt.Lazy=f0;Zt.Memo=h0;Zt.Portal=A2;Zt.Profiler=o0;Zt.StrictMode=i0;Zt.Suspense=m0;Zt.isAsyncMode=function(e){return $L(e)||Ws(e)===E2};Zt.isConcurrentMode=$L;Zt.isContextConsumer=function(e){return Ws(e)===c0};Zt.isContextProvider=function(e){return Ws(e)===l0};Zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===P2};Zt.isForwardRef=function(e){return Ws(e)===u0};Zt.isFragment=function(e){return Ws(e)===a0};Zt.isLazy=function(e){return Ws(e)===f0};Zt.isMemo=function(e){return Ws(e)===h0};Zt.isPortal=function(e){return Ws(e)===A2};Zt.isProfiler=function(e){return Ws(e)===o0};Zt.isStrictMode=function(e){return Ws(e)===i0};Zt.isSuspense=function(e){return Ws(e)===m0};Zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===a0||e===d0||e===o0||e===i0||e===m0||e===see||typeof e=="object"&&e!==null&&(e.$$typeof===f0||e.$$typeof===h0||e.$$typeof===l0||e.$$typeof===c0||e.$$typeof===u0||e.$$typeof===iee||e.$$typeof===oee||e.$$typeof===lee||e.$$typeof===aee)};Zt.typeOf=Ws;BL.exports=Zt;var cee=BL.exports,xC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",yC=null,Dy=null,zL=e=>{if(e===yC&&Array.isArray(Dy))return Dy;var t=[];return p.Children.forEach(e,n=>{vr(n)||(cee.isFragment(n)?t=t.concat(zL(n.props.children)):t.push(n))}),Dy=t,yC=e,t};function O2(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(a=>xC(a)):s=[xC(t)],zL(e).forEach(a=>{var i=pc(a,"type.displayName")||pc(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}var UL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,GL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${i}]`}let s=n;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(n)===s}e.isPlainObject=t})(GL);var dee=GL.isPlainObject;const uee=bs(dee);function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function bC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(s){mee(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mee(e,t,n){return(t=hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hee(e){var t=fee(e,"string");return typeof t=="symbol"?t:t+""}function fee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tg.apply(null,arguments)}var wC=(e,t,n,s,a)=>{var i=n-s,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+a),o+="L ".concat(e+n-i/2-s,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},pee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gee=e=>{var t=Cn(e,pee),{x:n,y:s,upperWidth:a,lowerWidth:i,height:o,className:c}=t,{animationEasing:d,animationDuration:u,animationBegin:m,isUpdateAnimationActive:f}=t,g=p.useRef(null),[x,v]=p.useState(-1),w=p.useRef(a),b=p.useRef(i),j=p.useRef(o),S=p.useRef(n),_=p.useRef(s),k=yh(e,"trapezoid-");if(p.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var X=g.current.getTotalLength();X&&v(X)}catch{}},[]),n!==+n||s!==+s||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var A=It("recharts-trapezoid",c);if(!f)return p.createElement("g",null,p.createElement("path",Tg({},es(t),{className:A,d:wC(n,s,a,i,o)})));var P=w.current,E=b.current,T=j.current,M=S.current,U=_.current,D="0px ".concat(x===-1?1:x,"px"),B="".concat(x,"px 0px"),z=rO(["strokeDasharray"],u,d);return p.createElement(xh,{animationId:k,key:k,canBegin:x>0,duration:u,easing:d,isActive:f,begin:m},X=>{var le=Mr(P,a,X),$=Mr(E,i,X),ae=Mr(T,o,X),G=Mr(M,n,X),ie=Mr(U,s,X);g.current&&(w.current=le,b.current=$,j.current=ae,S.current=G,_.current=ie);var ce=X>0?{transition:z,strokeDasharray:B}:{strokeDasharray:D};return p.createElement("path",Tg({},es(t),{className:A,d:wC(G,ie,le,$,ae),ref:g,style:bC(bC({},ce),t.style)}))})},xee=["option","shapeType","propTransformer","activeClassName","isActive"];function yee(e,t){if(e==null)return{};var n,s,a=vee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vee(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Lg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(s){bee(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bee(e,t,n){return(t=wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nee(e,t){return Lg(Lg({},t),e)}function _ee(e,t){return e==="symbols"}function NC(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return p.createElement(iO,n);case"trapezoid":return p.createElement(gee,n);case"sector":return p.createElement(cO,n);case"symbols":if(_ee(t))return p.createElement(Uj,n);break;default:return null}}function See(e){return p.isValidElement(e)?e.props:e}function WL(e){var{option:t,shapeType:n,propTransformer:s=Nee,activeClassName:a="recharts-active-shape",isActive:i}=e,o=yee(e,xee),c;if(p.isValidElement(t))c=p.cloneElement(t,Lg(Lg({},o),See(t)));else if(typeof t=="function")c=t(o);else if(uee(t)&&typeof t!="boolean"){var d=s(t,o);c=p.createElement(NC,{shapeType:n,elementProps:d})}else{var u=o;c=p.createElement(NC,{shapeType:n,elementProps:u})}return i?p.createElement(kn,{className:a},c):c}var T2=(e,t)=>{var n=br();return(s,a)=>i=>{e==null||e(s,a,i),n(KT({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}},L2=e=>{var t=br();return(n,s)=>a=>{e==null||e(n,s,a),t(xQ())}},M2=(e,t)=>{var n=br();return(s,a)=>i=>{e==null||e(s,a,i),n(yQ({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}};function D2(e){var{fn:t,args:n}=e,s=br(),a=as();return p.useLayoutEffect(()=>{if(!a){var i=t(n);return s(fQ(i)),()=>{s(pQ(i))}}},[t,n,s,a]),null}var HL=()=>{};function qL(e){var{legendPayload:t}=e,n=br(),s=as();return p.useLayoutEffect(()=>s?HL:(n(XE(t)),()=>{n(eO(t))}),[n,s,t]),null}function kee(e){var{legendPayload:t}=e,n=br(),s=Je(Pt);return p.useLayoutEffect(()=>s!=="centric"&&s!=="radial"?HL:(n(XE(t)),()=>{n(eO(t))}),[n,s,t]),null}var Ry,Cee=()=>{var[e]=p.useState(()=>Fm("uid-"));return e},Pee=(Ry=E3.useId)!==null&&Ry!==void 0?Ry:Cee;function Aee(e,t){var n=Pee();return t||(e?"".concat(e,"-").concat(n):n)}var Eee=p.createContext(void 0),R2=e=>{var{id:t,type:n,children:s}=e,a=Aee("recharts-".concat(n),t);return p.createElement(Eee.Provider,{value:a},s(a))},Oee={cartesianItems:[],polarItems:[]},VL=Gs({name:"graphicalItems",initialState:Oee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:s}=t.payload,a=Mi(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=s)},prepare:Zn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Mi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Zn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zn()},removePolarGraphicalItem:{reducer(e,t){var n=Mi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Zn()}}}),{addCartesianGraphicalItem:Tee,replaceCartesianGraphicalItem:Lee,removeCartesianGraphicalItem:Mee,addPolarGraphicalItem:Dee,removePolarGraphicalItem:Ree}=VL.actions,Iee=VL.reducer;function KL(e){var t=br(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(Tee(e)):n.current!==e&&t(Lee({prev:n.current,next:e})),n.current=e},[t,e]),p.useLayoutEffect(()=>()=>{n.current&&(t(Mee(n.current)),n.current=null)},[t]),null}function Fee(e){var t=br();return p.useLayoutEffect(()=>(t(Dee(e)),()=>{t(Ree(e))}),[t,e]),null}var Bee=["onMouseEnter","onClick","onMouseLeave"],$ee=["id"],zee=["id"];function I2(e,t){if(e==null)return{};var n,s,a=Uee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Uee(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(n),!0).forEach(function(s){Gee(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Gee(e,t,n){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wee(e){var t=Hee(e,"string");return typeof t=="symbol"?t:t+""}function Hee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sl.apply(null,arguments)}function qee(e){var t=p.useMemo(()=>O2(e.children,Ro),[e.children]),n=Je(s=>ree(s,e.id,t));return n==null?null:p.createElement(kee,{legendPayload:n})}function Vee(e){var{dataKey:t,nameKey:n,sectors:s,stroke:a,strokeWidth:i,fill:o,name:c,hide:d,tooltipType:u}=e;return{dataDefinedOnItem:s.map(m=>m.tooltipPayload),positions:s.map(m=>m.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:ru(c,t),hide:d,type:u,color:o,unit:""}}}var Kee=(e,t)=>e>t?"start":e<t?"end":"middle",Zee=(e,t,n)=>Rn(typeof t=="function"?t(e):t,n,n*.8),Yee=(e,t,n)=>{var{top:s,left:a,width:i,height:o}=t,c=FE(i,o),d=a+Rn(e.cx,i,i/2),u=s+Rn(e.cy,o,o/2),m=Rn(e.innerRadius,c,0),f=Zee(n,e.outerRadius,c),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:u,innerRadius:m,outerRadius:f,maxRadius:g}},Qee=(e,t)=>{var n=fn(t-e),s=Math.min(Math.abs(t-e),360);return n*s};function Jee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Xee=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var n=It("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(fN,sl({},t,{type:"linear",className:n}))},ete=(e,t,n)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var s=n;if(typeof e=="function"&&(s=e(t),p.isValidElement(s)))return s;var a=It("recharts-pie-label-text",Jee(e));return p.createElement(r0,sl({},t,{alignmentBaseline:"middle",className:a}),s)};function tte(e){var{sectors:t,props:n,showLabels:s}=e,{label:a,labelLine:i,dataKey:o}=n;if(!s||!a||!t)return null;var c=Bs(n),d=fc(a),u=fc(i),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((g,x)=>{var v=(g.startAngle+g.endAngle)/2,w=Hr(g.cx,g.cy,g.outerRadius+m,v),b=gr(gr(gr(gr({},c),g),{},{stroke:"none"},d),{},{index:x,textAnchor:Kee(w.x,g.cx)},w),j=gr(gr(gr(gr({},c),g),{},{fill:"none",stroke:g.fill},u),{},{index:x,points:[Hr(g.cx,g.cy,g.outerRadius,v),w],key:"line"});return p.createElement(kn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},i&&Xee(i,j),ete(a,b,lr(g,o)))});return p.createElement(kn,{className:"recharts-pie-labels"},f)}function rte(e){var{sectors:t,props:n,showLabels:s}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?p.createElement(S2,{label:a}):p.createElement(tte,{sectors:t,props:n,showLabels:s})}function nte(e){var{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:a}=e,i=Je(nl),{onMouseEnter:o,onClick:c,onMouseLeave:d}=a,u=I2(a,Bee),m=T2(o,a.dataKey),f=L2(d),g=M2(c,a.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((x,v)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var w=n&&String(v)===i,b=i?s:null,j=w?n:b,S=gr(gr({},x),{},{stroke:x.stroke,tabIndex:-1,[GE]:v,[WE]:a.dataKey});return p.createElement(kn,sl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(v),tabIndex:-1,className:"recharts-pie-sector"},hh(u,x,v),{onMouseEnter:m(x,v),onMouseLeave:f(x,v),onClick:g(x,v)}),p.createElement(WL,sl({option:j,isActive:w,shapeType:"sector"},S)))}))}function ste(e){var t,{pieSettings:n,displayedData:s,cells:a,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:m,tooltipType:f}=n,g=Math.abs(n.minAngle),x=Qee(c,d),v=Math.abs(x),w=s.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=s.filter(P=>lr(P,u,0)!==0).length,j=(v>=360?b:b-1)*w,S=v-b*g-j,_=s.reduce((P,E)=>{var T=lr(E,u,0);return P+(st(T)?T:0)},0),k;if(_>0){var A;k=s.map((P,E)=>{var T=lr(P,u,0),M=lr(P,m,E),U=Yee(n,i,P),D=(st(T)?T:0)/_,B,z=gr(gr({},P),a&&a[E]&&a[E].props);E?B=A.endAngle+fn(x)*w*(T!==0?1:0):B=c;var X=B+fn(x)*((T!==0?g:0)+D*S),le=(B+X)/2,$=(U.innerRadius+U.outerRadius)/2,ae=[{name:M,value:T,payload:z,dataKey:u,type:f}],G=Hr(U.cx,U.cy,$,le);return A=gr(gr(gr(gr({},n.presentationProps),{},{percent:D,cornerRadius:o,name:M,tooltipPayload:ae,midAngle:le,middleRadius:$,tooltipPosition:G},z),U),{},{value:T,startAngle:B,endAngle:X,payload:z,paddingAngle:fn(x)*w}),A})}return k}function ate(e){var{showLabels:t,sectors:n,children:s}=e,a=p.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return p.createElement($X,{value:t?a:void 0},s)}function ite(e){var{props:t,previousSectorsRef:n}=e,{sectors:s,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:m,onAnimationEnd:f}=t,g=yh(t,"recharts-pie-"),x=n.current,[v,w]=p.useState(!1),b=p.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),j=p.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return p.createElement(ate,{showLabels:!v,sectors:s},p.createElement(xh,{animationId:g,begin:i,duration:o,isActive:a,easing:c,onAnimationStart:j,onAnimationEnd:b,key:g},S=>{var _=[],k=s&&s[0],A=k==null?void 0:k.startAngle;return s==null||s.forEach((P,E)=>{var T=x&&x[E],M=E>0?pc(P,"paddingAngle",0):0;if(T){var U=Mr(T.endAngle-T.startAngle,P.endAngle-P.startAngle,S),D=gr(gr({},P),{},{startAngle:A+M,endAngle:A+U+M});_.push(D),A=D.endAngle}else{var{endAngle:B,startAngle:z}=P,X=Mr(0,B-z,S),le=gr(gr({},P),{},{startAngle:A+M,endAngle:A+X+M});_.push(le),A=le.endAngle}}),n.current=_,p.createElement(kn,null,p.createElement(nte,{sectors:_,activeShape:d,inactiveShape:u,allOtherPieProps:t}))}),p.createElement(rte,{showLabels:!v,sectors:s,props:t}),t.children)}var ote={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!fl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function lte(e){var{id:t}=e,n=I2(e,$ee),{hide:s,className:a,rootTabIndex:i}=e,o=p.useMemo(()=>O2(e.children,Ro),[e.children]),c=Je(m=>nee(m,t,o)),d=p.useRef(null),u=It("recharts-pie",a);return s||c==null?(d.current=null,p.createElement(kn,{tabIndex:i,className:u})):p.createElement(p.Fragment,null,p.createElement(D2,{fn:Vee,args:gr(gr({},e),{},{sectors:c})}),p.createElement(kn,{tabIndex:i,className:u},p.createElement(ite,{props:gr(gr({},n),{},{sectors:c}),previousSectorsRef:d})))}function tm(e){var t=Cn(e,ote),{id:n}=t,s=I2(t,zee),a=Bs(s);return p.createElement(R2,{id:n,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(Fee,{type:"pie",id:i,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(qee,sl({},s,{id:i})),p.createElement(lte,sl({},s,{id:i}))))}tm.displayName="Pie";function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function kC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(s){cte(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cte(e,t,n){return(t=dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mte={xAxis:{},yAxis:{},zAxis:{}},ZL=Gs({name:"cartesianAxis",initialState:mte,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zn()},updateYAxisWidth(e,t){var{id:n,width:s}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&s===i[1]&&s!==a.width&&Math.abs(s-i[0])<=1)return;var o=[...i,s].slice(-3);e.yAxis[n]=kC(kC({},e.yAxis[n]),{},{width:s,widthHistory:o})}}}}),{addXAxis:hte,removeXAxis:fte,addYAxis:pte,removeYAxis:gte,addZAxis:Ile,removeZAxis:Fle,updateYAxisWidth:xte}=ZL.actions,yte=ZL.reducer,vte=de([tn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),bte=de([vte,Qi,Ji],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),F2=()=>Je(bte),wte=()=>Je(sJ);function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function PC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(s){jte(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jte(e,t,n){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ste=e=>{var{point:t,childIndex:n,mainColor:s,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=PC(PC({index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},fc(a)),Gj(a)),c;return p.isValidElement(a)?c=p.cloneElement(a,o):typeof a=="function"?c=a(o):c=p.createElement(ML,o),p.createElement(kn,{className:"recharts-active-dot"},c)};function kte(e){var{points:t,mainColor:n,activeDot:s,itemDataKey:a}=e,i=Je(nl),o=wte();if(t==null||o==null)return null;var c=t.find(d=>o.includes(d.payload));return vr(c)?null:Ste({point:c,childIndex:Number(i),mainColor:n,dataKey:a,activeDot:s})}var Cte="Invariant failed";function Pte(e,t){throw new Error(Cte)}var Ate=["x","y"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ow.apply(null,arguments)}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(s){Ete(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ete(e,t,n){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ote(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lte(e,t){if(e==null)return{};var n,s,a=Mte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mte(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Dte(e,t){var{x:n,y:s}=e,a=Lte(e,Ate),i="".concat(n),o=parseInt(i,10),c="".concat(s),d=parseInt(c,10),u="".concat(t.height||a.height),m=parseInt(u,10),f="".concat(t.width||a.width),g=parseInt(f,10);return Bu(Bu(Bu(Bu(Bu({},t),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:g,name:t.name,radius:t.radius})}function B2(e){return p.createElement(WL,ow({shapeType:"rectangle",propTransformer:Dte,activeClassName:"recharts-active-bar"},e))}var Rte=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,a)=>{if(st(t))return t;var i=st(s)||vr(s);return i?t(s,a):(i||Pte(),n)}},Ite={},YL=Gs({name:"errorBars",initialState:Ite,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:s}=t.payload;e[n]||(e[n]=[]),e[n].push(s)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:s,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===s.dataKey&&i.direction===s.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:s}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==s.dataKey||a.direction!==s.direction))}}}),{addErrorBar:Ble,replaceErrorBar:$le,removeErrorBar:zle}=YL.actions,Fte=YL.reducer,Bte=["children"];function $te(e,t){if(e==null)return{};var n,s,a=zte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zte(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Ute={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Gte=p.createContext(Ute);function QL(e){var{children:t}=e,n=$te(e,Bte);return p.createElement(Gte.Provider,{value:n},t)}function $2(e,t){var n,s,a=Je(u=>eo(u,e)),i=Je(u=>to(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:ks.allowDataOverflow,c=(s=i==null?void 0:i.allowDataOverflow)!==null&&s!==void 0?s:Cs.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function JL(e){var{xAxisId:t,yAxisId:n,clipPathId:s}=e,a=F2(),{needClipX:i,needClipY:o,needClip:c}=$2(t,n);if(!c)return null;var{x:d,y:u,width:m,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(s)},p.createElement("rect",{x:i?d:d-m/2,y:o?u:u-f/2,width:i?m:m*2,height:o?f:f*2}))}var Wte=["onMouseEnter","onMouseLeave","onClick"],Hte=["value","background","tooltipPosition"],qte=["id"],Vte=["onMouseEnter","onClick","onMouseLeave"];function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},al.apply(null,arguments)}function EC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(n),!0).forEach(function(s){Kte(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Kte(e,t,n){return(t=Zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mg(e,t){if(e==null)return{};var n,s,a=Qte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qte(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Jte=e=>{var{dataKey:t,name:n,fill:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:ru(n,t),payload:e}]};function Xte(e){var{dataKey:t,stroke:n,strokeWidth:s,fill:a,name:i,hide:o,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:a,dataKey:t,nameKey:void 0,name:ru(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:c}}}function ere(e){var t=Je(nl),{data:n,dataKey:s,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:c,onClick:d}=i,u=Mg(i,Wte),m=T2(o,s),f=L2(c),g=M2(d,s);if(!a||n==null)return null;var x=fc(a);return p.createElement(p.Fragment,null,n.map((v,w)=>{var{value:b,background:j,tooltipPosition:S}=v,_=Mg(v,Hte);if(!j)return null;var k=m(v,w),A=f(v,w),P=g(v,w),E=Yn(Yn(Yn(Yn(Yn({option:a,isActive:String(w)===t},_),{},{fill:"#eee"},j),x),hh(u,v,w)),{},{onMouseEnter:k,onMouseLeave:A,onClick:P,dataKey:s,index:w,className:"recharts-bar-background-rectangle"});return p.createElement(B2,al({key:"background-bar-".concat(w)},E))}))}function tre(e){var{showLabels:t,children:n,rects:s}=e,a=s==null?void 0:s.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Yn(Yn({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(TL,{value:t?a:void 0},n)}function rre(e){var{shape:t,activeBar:n,baseProps:s,entry:a,index:i,dataKey:o}=e,c=Je(nl),d=Je(cL),u=n&&String(i)===c&&(d==null||o===d),m=u?n:t;return p.createElement(B2,al({},s,{name:String(s.name)},a,{isActive:u,option:m,index:i,dataKey:o}))}function nre(e){var{shape:t,baseProps:n,entry:s,index:a,dataKey:i}=e;return p.createElement(B2,al({},n,{name:String(n.name)},s,{isActive:!1,option:t,index:a,dataKey:i}))}function sre(e){var{data:t,props:n}=e,s=Bs(n),{id:a}=s,i=Mg(s,qte),{shape:o,dataKey:c,activeBar:d}=n,{onMouseEnter:u,onClick:m,onMouseLeave:f}=n,g=Mg(n,Vte),x=T2(u,c),v=L2(f),w=M2(m,c);return t?p.createElement(p.Fragment,null,t.map((b,j)=>p.createElement(kn,al({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(j),className:"recharts-bar-rectangle"},hh(g,b,j),{onMouseEnter:x(b,j),onMouseLeave:v(b,j),onClick:w(b,j)}),d?p.createElement(rre,{shape:o,activeBar:d,baseProps:i,entry:b,index:j,dataKey:c}):p.createElement(nre,{shape:o,baseProps:i,entry:b,index:j,dataKey:c})))):null}function are(e){var{props:t,previousRectanglesRef:n}=e,{data:s,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:u,onAnimationStart:m}=t,f=n.current,g=yh(t,"recharts-bar-"),[x,v]=p.useState(!1),w=!x,b=p.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),j=p.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]);return p.createElement(tre,{showLabels:w,rects:s},p.createElement(xh,{animationId:g,begin:o,duration:c,isActive:i,easing:d,onAnimationEnd:b,onAnimationStart:j,key:g},S=>{var _=S===1?s:s==null?void 0:s.map((k,A)=>{var P=f&&f[A];if(P)return Yn(Yn({},k),{},{x:Mr(P.x,k.x,S),y:Mr(P.y,k.y,S),width:Mr(P.width,k.width,S),height:Mr(P.height,k.height,S)});if(a==="horizontal"){var E=Mr(0,k.height,S);return Yn(Yn({},k),{},{y:k.y+k.height-E,height:E})}var T=Mr(0,k.width,S);return Yn(Yn({},k),{},{width:T})});return S>0&&(n.current=_??null),_==null?null:p.createElement(kn,null,p.createElement(sre,{props:t,data:_}))}),p.createElement(S2,{label:t.label}),t.children)}function ire(e){var t=p.useRef(null);return p.createElement(are,{previousRectanglesRef:t,props:e})}var XL=0,ore=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:lr(e,t)}};class lre extends p.PureComponent{render(){var{hide:t,data:n,dataKey:s,className:a,xAxisId:i,yAxisId:o,needClip:c,background:d,id:u}=this.props;if(t||n==null)return null;var m=It("recharts-bar",a),f=u;return p.createElement(kn,{className:m,id:u},c&&p.createElement("defs",null,p.createElement(JL,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(kn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(f,")"):void 0},p.createElement(ere,{data:n,dataKey:s,background:d,allOtherBarProps:this.props}),p.createElement(ire,this.props)))}}var cre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!fl.isSsr,legendType:"rect",minPointSize:XL,xAxisId:0,yAxisId:0};function dre(e){var{xAxisId:t,yAxisId:n,hide:s,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:m}=e,{needClip:f}=$2(t,n),g=Dx(),x=as(),v=O2(e.children,Ro),w=Je(S=>Fre(S,t,n,x,e.id,v));if(g!=="vertical"&&g!=="horizontal")return null;var b,j=w==null?void 0:w[0];return j==null||j.height==null||j.width==null?b=0:b=g==="vertical"?j.height/2:j.width/2,p.createElement(QL,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:ore,errorBarOffset:b},p.createElement(lre,al({},e,{layout:g,needClip:f,data:w,xAxisId:t,yAxisId:n,hide:s,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:m})))}function ure(e){var{layout:t,barSettings:{dataKey:n,minPointSize:s},pos:a,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:u,stackedData:m,displayedData:f,offset:g,cells:x,parentViewBox:v}=e,w=t==="horizontal"?c:o,b=m?w.scale.domain():null,j=vH({numericAxis:w});return f.map((S,_)=>{var k,A,P,E,T,M;m?k=hH(m[_],b):(k=lr(S,n),Array.isArray(k)||(k=[j,k]));var U=Rte(s,XL)(k[1],_);if(t==="horizontal"){var D,[B,z]=[c.scale(k[0]),c.scale(k[1])];A=kk({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:S,index:_}),P=(D=z??B)!==null&&D!==void 0?D:void 0,E=a.size;var X=B-z;if(T=ua(X)?0:X,M={x:A,y:g.top,width:E,height:g.height},Math.abs(U)>0&&Math.abs(T)<Math.abs(U)){var le=fn(T||U)*(Math.abs(U)-Math.abs(T));P-=le,T+=le}}else{var[$,ae]=[o.scale(k[0]),o.scale(k[1])];if(A=$,P=kk({axis:c,ticks:u,bandSize:i,offset:a.offset,entry:S,index:_}),E=ae-$,T=a.size,M={x:g.left,y:P,width:g.width,height:T},Math.abs(U)>0&&Math.abs(E)<Math.abs(U)){var G=fn(E||U)*(Math.abs(U)-Math.abs(E));E+=G}}if(A==null||P==null||E==null||T==null)return null;var ie=Yn(Yn({},S),{},{x:A,y:P,width:E,height:T,value:m?k:k[1],payload:S,background:M,tooltipPosition:{x:A+E/2,y:P+T/2},parentViewBox:v},x&&x[_]&&x[_].props);return ie}).filter(Boolean)}function mre(e){var t=Cn(e,cre),n=as();return p.createElement(R2,{id:t.id,type:"bar"},s=>p.createElement(p.Fragment,null,p.createElement(qL,{legendPayload:Jte(t)}),p.createElement(D2,{fn:Xte,args:t}),p.createElement(KL,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:yH(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(dre,al({},t,{id:s}))))}var El=p.memo(mre);El.displayName="Bar";function OC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(n),!0).forEach(function(s){hre(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hre(e,t,n){return(t=fre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gre=(e,t)=>t,xre=(e,t,n)=>n,yre=(e,t,n,s)=>s,vre=(e,t,n,s,a)=>a,Eh=de([Yx,vre],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),bre=de([Eh],e=>e==null?void 0:e.maxBarSize),wre=(e,t,n,s,a,i)=>i,TC=(e,t,n)=>{var s=n??e;if(!vr(s))return Rn(s,t,0)},jre=de([Pt,Yx,gre,xre,yre],(e,t,n,s,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===s).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Nre=(e,t,n,s)=>{var a=Pt(e);return a==="horizontal"?ew(e,"yAxis",n,s):ew(e,"xAxis",t,s)},_re=(e,t,n)=>{var s=Pt(e);return s==="horizontal"?U5(e,"xAxis",t):U5(e,"yAxis",n)},Sre=(e,t,n)=>{var s={},a=e.filter(Vx),i=e.filter(u=>u.stackId==null),o=a.reduce((u,m)=>(u[m.stackId]||(u[m.stackId]=[]),u[m.stackId].push(m),u),s),c=Object.entries(o).map(u=>{var[m,f]=u,g=f.map(v=>v.dataKey),x=TC(t,n,f[0].barSize);return{stackId:m,dataKeys:g,barSize:x}}),d=i.map(u=>{var m=[u.dataKey].filter(g=>g!=null),f=TC(t,n,u.barSize);return{stackId:void 0,dataKeys:m,barSize:f}});return[...c,...d]},kre=de([jre,dY,_re],Sre),Cre=(e,t,n,s,a)=>{var i,o,c=Eh(e,t,n,s,a);if(c!=null){var d=Pt(e),u=cT(e),{maxBarSize:m}=c,f=vr(m)?u:m,g,x;return d==="horizontal"?(g=rl(e,"xAxis",t,s),x=tl(e,"xAxis",t,s)):(g=rl(e,"yAxis",n,s),x=tl(e,"yAxis",n,s)),(i=(o=Um(g,x,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},eM=(e,t,n,s)=>{var a=Pt(e),i,o;return a==="horizontal"?(i=rl(e,"xAxis",t,s),o=tl(e,"xAxis",t,s)):(i=rl(e,"yAxis",n,s),o=tl(e,"yAxis",n,s)),Um(i,o)};function Pre(e,t,n,s,a){var i=s.length;if(!(i<1)){var o=Rn(e,n,0,!0),c,d=[];if(Fn(s[0].barSize)){var u=!1,m=n/i,f=s.reduce((j,S)=>j+(S.barSize||0),0);f+=(i-1)*o,f>=n&&(f-=(i-1)*o,o=0),f>=n&&m>0&&(u=!0,m*=.9,f=i*m);var g=(n-f)/2>>0,x={offset:g-o,size:0};c=s.reduce((j,S)=>{var _,k={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:x.offset+x.size+o,size:u?m:(_=S.barSize)!==null&&_!==void 0?_:0}},A=[...j,k];return x=A[A.length-1].position,A},d)}else{var v=Rn(t,n,0,!0);n-2*v-(i-1)*o<=0&&(o=0);var w=(n-2*v-(i-1)*o)/i;w>1&&(w>>=0);var b=Fn(a)?Math.min(w,a):w;c=s.reduce((j,S,_)=>[...j,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:v+(w+o)*_+(w-b)/2,size:b}}],d)}return c}}var Are=(e,t,n,s,a,i,o)=>{var c=vr(o)?t:o,d=Pre(n,s,a!==i?a:i,e,c);return a!==i&&d!=null&&(d=d.map(u=>Lf(Lf({},u),{},{position:Lf(Lf({},u.position),{},{offset:u.position.offset-a/2})}))),d},Ere=de([kre,cT,cY,dT,Cre,eM,bre],Are),Ore=(e,t,n,s)=>rl(e,"xAxis",t,s),Tre=(e,t,n,s)=>rl(e,"yAxis",n,s),Lre=(e,t,n,s)=>tl(e,"xAxis",t,s),Mre=(e,t,n,s)=>tl(e,"yAxis",n,s),Dre=de([Ere,Eh],(e,t)=>{if(!(e==null||t==null)){var n=e.find(s=>s.stackId===t.stackId&&t.dataKey!=null&&s.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Rre=(e,t)=>{var n=VN(t);if(!(!e||n==null||t==null)){var{stackId:s}=t;if(s!=null){var a=e[s];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===n)}}}},Ire=de([Nre,Eh],Rre),Fre=de([tn,cN,Ore,Tre,Lre,Mre,Dre,Pt,Gx,eM,Ire,Eh,wre],(e,t,n,s,a,i,o,c,d,u,m,f,g)=>{var{chartData:x,dataStartIndex:v,dataEndIndex:w}=d;if(!(f==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||s==null||a==null||i==null||u==null)){var{data:b}=f,j;if(b!=null&&b.length>0?j=b:j=x==null?void 0:x.slice(v,w+1),j!=null)return ure({layout:c,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:n,yAxis:s,xAxisTicks:a,yAxisTicks:i,stackedData:m,displayedData:j,offset:e,cells:g})}}),tM=e=>{var{chartData:t}=e,n=br(),s=as();return p.useEffect(()=>s?()=>{}:(n(Q5(t)),()=>{n(Q5(void 0))}),[t,n,s]),null},LC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rM=Gs({name:"brush",initialState:LC,reducers:{setBrushSettings(e,t){return t.payload==null?LC:t.payload}}}),{setBrushSettings:Ule}=rM.actions,Bre=rM.reducer;function $re(e,t,n){return(t=zre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class z2{static create(t){return new z2(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?t>=s&&t<=a:t>=a&&t<=s}}$re(z2,"EPS",1e-4);function Gre(e){return(e%180+180)%180}var Wre=function(t){var{width:n,height:s}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Gre(a),o=i*Math.PI/180,c=Math.atan(s/n),d=o>c&&o<Math.PI-c?s/Math.sin(o):n/Math.cos(o);return Math.abs(d)},Hre={dots:[],areas:[],lines:[]},nM=Gs({name:"referenceElements",initialState:Hre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Mi(e).dots.findIndex(s=>s===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Mi(e).areas.findIndex(s=>s===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Mi(e).lines.findIndex(s=>s===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Gle,removeDot:Wle,addArea:Hle,removeArea:qle,addLine:Vle,removeLine:Kle}=nM.actions,qre=nM.reducer,Vre=p.createContext(void 0),Kre=e=>{var{children:t}=e,[n]=p.useState("".concat(Fm("recharts"),"-clip")),s=F2();if(s==null)return null;var{x:a,y:i,width:o,height:c}=s;return p.createElement(Vre.Provider,{value:n},p.createElement("defs",null,p.createElement("clipPath",{id:n},p.createElement("rect",{x:a,y:i,height:c,width:o}))),t)};function Wd(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function sM(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function Zre(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return Wre(s,n)}function Yre(e,t,n){var s=n==="width",{x:a,y:i,width:o,height:c}=e;return t===1?{start:s?a:i,end:s?a+o:i+c}:{start:s?a+o:i+c,end:s?a:i}}function Dg(e,t,n,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function Qre(e,t){return sM(e,t+1)}function Jre(e,t,n,s,a){for(var i=(s||[]).slice(),{start:o,end:c}=t,d=0,u=1,m=o,f=function(){var v=s==null?void 0:s[d];if(v===void 0)return{v:sM(s,u)};var w=d,b,j=()=>(b===void 0&&(b=n(v,w)),b),S=v.coordinate,_=d===0||Dg(e,S,j,m,c);_||(d=0,m=o,u+=1),_&&(m=S+e*(j()/2+a),d+=u)},g;u<=i.length;)if(g=f(),g)return g.v;return[]}function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(s){Xre(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xre(e,t,n){return(t=ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ene(e){var t=tne(e,"string");return typeof t=="symbol"?t:t+""}function tne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rne(e,t,n,s,a){for(var i=(s||[]).slice(),o=i.length,{start:c}=t,{end:d}=t,u=function(g){var x=i[g],v,w=()=>(v===void 0&&(v=n(x,g)),v);if(g===o-1){var b=e*(x.coordinate+e*w()/2-d);i[g]=x=On(On({},x),{},{tickCoord:b>0?x.coordinate-b*e:x.coordinate})}else i[g]=x=On(On({},x),{},{tickCoord:x.coordinate});var j=Dg(e,x.tickCoord,w,c,d);j&&(d=x.tickCoord-e*(w()/2+a),i[g]=On(On({},x),{},{isShow:!0}))},m=o-1;m>=0;m--)u(m);return i}function nne(e,t,n,s,a,i){var o=(s||[]).slice(),c=o.length,{start:d,end:u}=t;if(i){var m=s[c-1],f=n(m,c-1),g=e*(m.coordinate+e*f/2-u);o[c-1]=m=On(On({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate});var x=Dg(e,m.tickCoord,()=>f,d,u);x&&(u=m.tickCoord-e*(f/2+a),o[c-1]=On(On({},m),{},{isShow:!0}))}for(var v=i?c-1:c,w=function(S){var _=o[S],k,A=()=>(k===void 0&&(k=n(_,S)),k);if(S===0){var P=e*(_.coordinate-e*A()/2-d);o[S]=_=On(On({},_),{},{tickCoord:P<0?_.coordinate-P*e:_.coordinate})}else o[S]=_=On(On({},_),{},{tickCoord:_.coordinate});var E=Dg(e,_.tickCoord,A,d,u);E&&(d=_.tickCoord+e*(A()/2+a),o[S]=On(On({},_),{},{isShow:!0}))},b=0;b<v;b++)w(b);return o}function U2(e,t,n){var{tick:s,ticks:a,viewBox:i,minTickGap:o,orientation:c,interval:d,tickFormatter:u,unit:m,angle:f}=e;if(!a||!a.length||!s)return[];if(st(d)||fl.isSsr){var g;return(g=Qre(a,st(d)?d:0))!==null&&g!==void 0?g:[]}var x=[],v=c==="top"||c==="bottom"?"width":"height",w=m&&v==="width"?pm(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(_,k)=>{var A=typeof u=="function"?u(_.value,k):_.value;return v==="width"?Zre(pm(A,{fontSize:t,letterSpacing:n}),w,f):pm(A,{fontSize:t,letterSpacing:n})[v]},j=a.length>=2?fn(a[1].coordinate-a[0].coordinate):1,S=Yre(i,j,v);return d==="equidistantPreserveStart"?Jre(j,S,b,a,o):(d==="preserveStart"||d==="preserveStartEnd"?x=nne(j,S,b,a,o,d==="preserveStartEnd"):x=rne(j,S,b,a,o),x.filter(_=>_.isShow))}var sne=e=>{var{ticks:t,label:n,labelGapWithTick:s=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var f=m.getBoundingClientRect();f.width>o&&(o=f.width)}});var c=n?n.getBoundingClientRect().width:0,d=a+i,u=o+d+c+(n?s:0);return Math.round(u)}return 0},ane=["axisLine","width","height","className","hide","ticks"],ine=["viewBox"],one=["viewBox"];function lw(e,t){if(e==null)return{};var n,s,a=lne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lne(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bc.apply(null,arguments)}function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(s){cne(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cne(e,t,n){return(t=dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G2={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function mne(e){var{x:t,y:n,width:s,height:a,orientation:i,mirror:o,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var u=Yr(Yr(Yr({},d),Bs(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);u=Yr(Yr({},u),{},{x1:t,y1:n+m*a,x2:t+s,y2:n+m*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Yr(Yr({},u),{},{x1:t+f*s,y1:n,x2:t+f*s,y2:n+a})}return p.createElement("line",bc({},u,{className:It("recharts-cartesian-axis-line",pc(c,"className"))}))}function hne(e,t,n,s,a,i,o,c,d){var u,m,f,g,x,v,w=c?-1:1,b=e.tickSize||o,j=st(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=m=e.coordinate,g=n+ +!c*a,f=g-w*b,v=f-w*d,x=j;break;case"left":f=g=e.coordinate,m=t+ +!c*s,u=m-w*b,x=u-w*d,v=j;break;case"right":f=g=e.coordinate,m=t+ +c*s,u=m+w*b,x=u+w*d,v=j;break;default:u=m=e.coordinate,g=n+ +c*a,f=g+w*b,v=f+w*d,x=j;break}return{line:{x1:u,y1:f,x2:m,y2:g},tick:{x,y:v}}}function fne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function pne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function gne(e){var{option:t,tickProps:n,value:s}=e,a,i=It(n.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,Yr(Yr({},n),{},{className:i}));else if(typeof t=="function")a=t(Yr(Yr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=It(o,t==null?void 0:t.className)),a=p.createElement(r0,bc({},n,{className:o}),s)}return a}function xne(e){var{ticks:t=[],tick:n,tickLine:s,stroke:a,tickFormatter:i,unit:o,padding:c,tickTextProps:d,orientation:u,mirror:m,x:f,y:g,width:x,height:v,tickSize:w,tickMargin:b,fontSize:j,letterSpacing:S,getTicksConfig:_,events:k}=e,A=U2(Yr(Yr({},_),{},{ticks:t}),j,S),P=fne(u,m),E=pne(u,m),T=Bs(_),M=fc(n),U={};typeof s=="object"&&(U=s);var D=Yr(Yr({},T),{},{fill:"none"},U),B=A.map((z,X)=>{var{line:le,tick:$}=hne(z,f,g,x,v,u,w,m,b),ae=Yr(Yr(Yr(Yr({textAnchor:P,verticalAnchor:E},T),{},{stroke:"none",fill:a},M),$),{},{index:X,payload:z,visibleTicksCount:A.length,tickFormatter:i,padding:c},d);return p.createElement(kn,bc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},hh(k,z,X)),s&&p.createElement("line",bc({},D,le,{className:It("recharts-cartesian-axis-tick-line",pc(s,"className"))})),n&&p.createElement(gne,{option:n,tickProps:ae,value:"".concat(typeof i=="function"?i(z.value,X):z.value).concat(o||"")}))});return B.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},B):null}var yne=p.forwardRef((e,t)=>{var{axisLine:n,width:s,height:a,className:i,hide:o,ticks:c}=e,d=lw(e,ane),[u,m]=p.useState(""),[f,g]=p.useState(""),x=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return sne({ticks:x.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=p.useCallback(w=>{if(w){var b=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=b;var j=b[0];if(j){var S=window.getComputedStyle(j),_=S.fontSize,k=S.letterSpacing;(_!==u||k!==f)&&(m(_),g(k))}}},[u,f]);return o||s!=null&&s<=0||a!=null&&a<=0?null:p.createElement(kn,{className:It("recharts-cartesian-axis",i),ref:v},p.createElement(mne,{x:e.x,y:e.y,width:s,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Bs(e)}),p.createElement(xne,{ticks:c,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:d}),p.createElement(NX,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(LX,{label:e.label,labelRef:e.labelRef}),e.children))}),vne=p.memo(yne,(e,t)=>{var{viewBox:n}=e,s=lw(e,ine),{viewBox:a}=t,i=lw(t,one);return Wd(n,a)&&Wd(s,i)}),W2=p.forwardRef((e,t)=>{var n=Cn(e,G2);return p.createElement(vne,bc({},n,{ref:t}))});W2.displayName="CartesianAxis";var bne=["x1","y1","x2","y2","key"],wne=["offset"],jne=["xAxisId","yAxisId"],Nne=["xAxisId","yAxisId"];function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(s){_ne(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _ne(e,t,n){return(t=Sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bl.apply(null,arguments)}function Rg(e,t){if(e==null)return{};var n,s,a=Cne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cne(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Pne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:s,y:a,width:i,height:o,ry:c}=e;return p.createElement("rect",{x:s,y:a,ry:c,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aM(e,t){var n;if(p.isValidElement(e))n=p.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:s,y1:a,x2:i,y2:o,key:c}=t,d=Rg(t,bne),u=Bs(d),{offset:m}=u,f=Rg(u,wne);n=p.createElement("line",Bl({},f,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:c}))}return n}function Ane(e){var{x:t,width:n,horizontal:s=!0,horizontalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=Rg(e,jne),d=a.map((u,m)=>{var f=Ln(Ln({},c),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(m),index:m});return aM(s,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Ene(e){var{y:t,height:n,vertical:s=!0,verticalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=Rg(e,Nne),d=a.map((u,m)=>{var f=Ln(Ln({},c),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(m),index:m});return aM(s,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function One(e){var{horizontalFill:t,fillOpacity:n,x:s,y:a,width:i,height:o,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,g)=>f-g);a!==u[0]&&u.unshift(0);var m=u.map((f,g)=>{var x=!u[g+1],v=x?a+o-f:u[g+1]-f;if(v<=0)return null;var w=g%t.length;return p.createElement("rect",{key:"react-".concat(g),y:f,x:s,height:v,width:i,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Tne(e){var{vertical:t=!0,verticalFill:n,fillOpacity:s,x:a,y:i,width:o,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var u=d.map(f=>Math.round(f+a-a)).sort((f,g)=>f-g);a!==u[0]&&u.unshift(0);var m=u.map((f,g)=>{var x=!u[g+1],v=x?a+o-f:u[g+1]-f;if(v<=0)return null;var w=g%n.length;return p.createElement("rect",{key:"react-".concat(g),x:f,y:i,width:v,height:c,stroke:"none",fill:n[w],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Lne=(e,t)=>{var{xAxis:n,width:s,height:a,offset:i}=e;return $E(U2(Ln(Ln(Ln({},G2),n),{},{ticks:zE(n),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,t)},Mne=(e,t)=>{var{yAxis:n,width:s,height:a,offset:i}=e;return $E(U2(Ln(Ln(Ln({},G2),n),{},{ticks:zE(n),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,t)},Dne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function mo(e){var t=uN(),n=mN(),s=QE(),a=Ln(Ln({},Cn(e,Dne)),{},{x:st(e.x)?e.x:s.left,y:st(e.y)?e.y:s.top,width:st(e.width)?e.width:s.width,height:st(e.height)?e.height:s.height}),{xAxisId:i,yAxisId:o,x:c,y:d,width:u,height:m,syncWithTicks:f,horizontalValues:g,verticalValues:x}=a,v=as(),w=Je(M=>G5(M,"xAxis",i,v)),b=Je(M=>G5(M,"yAxis",o,v));if(!st(u)||u<=0||!st(m)||m<=0||!st(c)||c!==+c||!st(d)||d!==+d)return null;var j=a.verticalCoordinatesGenerator||Lne,S=a.horizontalCoordinatesGenerator||Mne,{horizontalPoints:_,verticalPoints:k}=a;if((!_||!_.length)&&typeof S=="function"){var A=g&&g.length,P=S({yAxis:b?Ln(Ln({},b),{},{ticks:A?g:b.ticks}):void 0,width:t,height:n,offset:s},A?!0:f);fg(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(_=P)}if((!k||!k.length)&&typeof j=="function"){var E=x&&x.length,T=j({xAxis:w?Ln(Ln({},w),{},{ticks:E?x:w.ticks}):void 0,width:t,height:n,offset:s},E?!0:f);fg(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(k=T)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Pne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(One,Bl({},a,{horizontalPoints:_})),p.createElement(Tne,Bl({},a,{verticalPoints:k})),p.createElement(Ane,Bl({},a,{offset:s,horizontalPoints:_,xAxis:w,yAxis:b})),p.createElement(Ene,Bl({},a,{offset:s,verticalPoints:k,xAxis:w,yAxis:b})))}mo.displayName="CartesianGrid";var iM=(e,t,n,s)=>rl(e,"xAxis",t,s),oM=(e,t,n,s)=>tl(e,"xAxis",t,s),lM=(e,t,n,s)=>rl(e,"yAxis",n,s),cM=(e,t,n,s)=>tl(e,"yAxis",n,s),Rne=de([Pt,iM,lM,oM,cM],(e,t,n,s,a)=>hl(e,"xAxis")?Um(t,s,!1):Um(n,a,!1)),Ine=(e,t,n,s,a)=>a;function Fne(e){return e.type==="line"}var Bne=de([Yx,Ine],(e,t)=>e.filter(Fne).find(n=>n.id===t)),$ne=de([Pt,iM,lM,oM,cM,Bne,Rne,Gx],(e,t,n,s,a,i,o,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:m}=c;if(!(i==null||t==null||n==null||s==null||a==null||s.length===0||a.length===0||o==null)){var{dataKey:f,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=d==null?void 0:d.slice(u,m+1),x!=null)return cse({layout:e,xAxis:t,yAxis:n,xAxisTicks:s,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:x})}});function zne(e){var t=fc(e),n=3,s=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),c=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=s),{r:o,strokeWidth:c}}return{r:n,strokeWidth:s}}var Une=["id"],Gne=["type","layout","connectNulls","needClip"],Wne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(n),!0).forEach(function(s){Hne(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hne(e,t,n){return(t=qne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H2(e,t){if(e==null)return{};var n,s,a=Kne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Kne(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wc.apply(null,arguments)}var Zne=e=>{var{dataKey:t,name:n,stroke:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:ru(n,t),payload:e}]};function Yne(e){var{dataKey:t,data:n,stroke:s,strokeWidth:a,fill:i,name:o,hide:c,unit:d}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ru(o,t),hide:c,type:e.tooltipType,color:e.stroke,unit:d}}}var dM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Qne(e,t){for(var n=e.length%2!==0?[...e,0]:e,s=[],a=0;a<t;++a)s=[...s,...n];return s}var Jne=(e,t,n)=>{var s=n.reduce((f,g)=>f+g);if(!s)return dM(t,e);for(var a=Math.floor(e/s),i=e%s,o=t-e,c=[],d=0,u=0;d<n.length;u+=n[d],++d)if(u+n[d]>i){c=[...n.slice(0,d),i-u];break}var m=c.length%2===0?[0,o]:[o];return[...Qne(n,a),...c,...m].map(f=>"".concat(f,"px")).join(", ")};function Xne(e,t){var n;if(p.isValidElement(e))n=p.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var s=It("recharts-line-dot",typeof e!="boolean"?e.className:"");n=p.createElement(ML,wc({},t,{className:s}))}return n}function ese(e,t){return e==null?!1:t?!0:e.length===1}function tse(e){var{clipPathId:t,points:n,props:s}=e,{dot:a,dataKey:i,needClip:o}=s;if(!ese(n,a))return null;var{id:c}=s,d=H2(s,Une),u=UL(a),m=Bs(d),f=pU(a),g=n.map((v,w)=>{var b=Os(Os(Os({key:"dot-".concat(w),r:3},m),f),{},{index:w,cx:v.x,cy:v.y,dataKey:i,value:v.value,payload:v.payload,points:n});return Xne(a,b)}),x={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return p.createElement(kn,wc({className:"recharts-line-dots",key:"dots"},x),g)}function rse(e){var{showLabels:t,children:n,points:s}=e,a=p.useMemo(()=>s==null?void 0:s.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Os(Os({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[s]);return p.createElement(TL,{value:t?a:null},n)}function FC(e){var{clipPathId:t,pathRef:n,points:s,strokeDasharray:a,props:i}=e,{type:o,layout:c,connectNulls:d,needClip:u}=i,m=H2(i,Gne),f=Os(Os({},es(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:s,type:o,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return p.createElement(p.Fragment,null,(s==null?void 0:s.length)>1&&p.createElement(fN,wc({},f,{pathRef:n})),p.createElement(tse,{points:s,clipPathId:t,props:i}))}function nse(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function sse(e){var{clipPathId:t,props:n,pathRef:s,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:u,animationDuration:m,animationEasing:f,animateNewValues:g,width:x,height:v,onAnimationEnd:w,onAnimationStart:b}=n,j=a.current,S=yh(n,"recharts-line-"),[_,k]=p.useState(!1),A=!_,P=p.useCallback(()=>{typeof w=="function"&&w(),k(!1)},[w]),E=p.useCallback(()=>{typeof b=="function"&&b(),k(!0)},[b]),T=nse(s.current),M=i.current;return p.createElement(rse,{points:o,showLabels:A},n.children,p.createElement(xh,{animationId:S,begin:u,duration:m,isActive:d,easing:f,onAnimationEnd:P,onAnimationStart:E,key:S},U=>{var D=Mr(M,T+M,U),B=Math.min(D,T),z;if(d)if(c){var X="".concat(c).split(/[,\s]+/gim).map(ae=>parseFloat(ae));z=Jne(B,T,X)}else z=dM(T,B);else z=c==null?void 0:String(c);if(j){var le=j.length/o.length,$=U===1?o:o.map((ae,G)=>{var ie=Math.floor(G*le);if(j[ie]){var ce=j[ie];return Os(Os({},ae),{},{x:Mr(ce.x,ae.x,U),y:Mr(ce.y,ae.y,U)})}return g?Os(Os({},ae),{},{x:Mr(x*2,ae.x,U),y:Mr(v/2,ae.y,U)}):Os(Os({},ae),{},{x:ae.x,y:ae.y})});return a.current=$,p.createElement(FC,{props:n,points:$,clipPathId:t,pathRef:s,strokeDasharray:z})}return U>0&&T>0&&(a.current=o,i.current=B),p.createElement(FC,{props:n,points:o,clipPathId:t,pathRef:s,strokeDasharray:z})}),p.createElement(S2,{label:n.label}))}function ase(e){var{clipPathId:t,props:n}=e,s=p.useRef(null),a=p.useRef(0),i=p.useRef(null);return p.createElement(sse,{props:n,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:i})}var ise=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:lr(e.payload,t)});class ose extends p.Component{render(){var{hide:t,dot:n,points:s,className:a,xAxisId:i,yAxisId:o,top:c,left:d,width:u,height:m,id:f,needClip:g}=this.props;if(t)return null;var x=It("recharts-line",a),v=f,{r:w,strokeWidth:b}=zne(n),j=UL(n),S=w*2+b;return p.createElement(p.Fragment,null,p.createElement(kn,{className:x},g&&p.createElement("defs",null,p.createElement(JL,{clipPathId:v,xAxisId:i,yAxisId:o}),!j&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:d-S/2,y:c-S/2,width:u+S,height:m+S}))),p.createElement(QL,{xAxisId:i,yAxisId:o,data:s,dataPointFormatter:ise,errorBarOffset:0},p.createElement(ase,{props:this.props,clipPathId:v}))),p.createElement(kte,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var uM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!fl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function lse(e){var t=Cn(e,uM),{activeDot:n,animateNewValues:s,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:c,dot:d,hide:u,isAnimationActive:m,label:f,legendType:g,xAxisId:x,yAxisId:v,id:w}=t,b=H2(t,Wne),{needClip:j}=$2(x,v),S=F2(),_=Dx(),k=as(),A=Je(U=>$ne(U,x,v,k,w));if(_!=="horizontal"&&_!=="vertical"||A==null||S==null)return null;var{height:P,width:E,x:T,y:M}=S;return p.createElement(ose,wc({},b,{id:w,connectNulls:c,dot:d,activeDot:n,animateNewValues:s,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:m,hide:u,label:f,legendType:g,xAxisId:x,yAxisId:v,points:A,layout:_,height:P,width:E,left:T,top:M,needClip:j}))}function cse(e){var{layout:t,xAxis:n,yAxis:s,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:c,displayedData:d}=e;return d.map((u,m)=>{var f=lr(u,o);if(t==="horizontal"){var g=Sk({axis:n,ticks:a,bandSize:c,entry:u,index:m}),x=vr(f)?null:s.scale(f);return{x:g,y:x,value:f,payload:u}}var v=vr(f)?null:n.scale(f),w=Sk({axis:s,ticks:i,bandSize:c,entry:u,index:m});return v==null||w==null?null:{x:v,y:w,value:f,payload:u}}).filter(Boolean)}function dse(e){var t=Cn(e,uM),n=as();return p.createElement(R2,{id:t.id,type:"line"},s=>p.createElement(p.Fragment,null,p.createElement(qL,{legendPayload:Zne(t)}),p.createElement(D2,{fn:Yne,args:t}),p.createElement(KL,{type:"line",id:s,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),p.createElement(lse,wc({},t,{id:s}))))}var mM=p.memo(dse);mM.displayName="Line";var use=["dangerouslySetInnerHTML","ticks"],mse=["id"],hse=["domain"],fse=["domain"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cw.apply(null,arguments)}function Ig(e,t){if(e==null)return{};var n,s,a=pse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pse(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function gse(e){var t=br();return p.useLayoutEffect(()=>(t(hte(e)),()=>{t(fte(e))}),[e,t]),null}var xse=e=>{var{xAxisId:t,className:n}=e,s=Je(cN),a=as(),i="xAxis",o=Je(b=>du(b,i,t,a)),c=Je(b=>UT(b,i,t,a)),d=Je(b=>FT(b,t)),u=Je(b=>sQ(b,t)),m=Je(b=>vT(b,t));if(d==null||u==null||m==null)return null;var{dangerouslySetInnerHTML:f,ticks:g}=e,x=Ig(e,use),{id:v}=m,w=Ig(m,mse);return p.createElement(W2,cw({},x,w,{scale:o,x:u.x,y:u.y,width:d.width,height:d.height,className:It("recharts-".concat(i," ").concat(i),n),viewBox:s,ticks:c}))},yse={allowDataOverflow:ks.allowDataOverflow,allowDecimals:ks.allowDecimals,allowDuplicatedCategory:ks.allowDuplicatedCategory,height:ks.height,hide:!1,mirror:ks.mirror,orientation:ks.orientation,padding:ks.padding,reversed:ks.reversed,scale:ks.scale,tickCount:ks.tickCount,type:ks.type,xAxisId:0},vse=e=>{var t,n,s,a,i,o=Cn(e,yse);return p.createElement(p.Fragment,null,p.createElement(gse,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(s=o.angle)!==null&&s!==void 0?s:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(xse,o))},bse=(e,t)=>{var{domain:n}=e,s=Ig(e,hse),{domain:a}=t,i=Ig(t,fse);return Wd(s,i)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Wd({domain:n},{domain:a}):!1},ho=p.memo(vse,bse);ho.displayName="XAxis";var wse=["dangerouslySetInnerHTML","ticks"],jse=["id"],Nse=["domain"],_se=["domain"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dw.apply(null,arguments)}function Fg(e,t){if(e==null)return{};var n,s,a=Sse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Sse(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function kse(e){var t=br();return p.useLayoutEffect(()=>(t(pte(e)),()=>{t(gte(e))}),[e,t]),null}var Cse=e=>{var{yAxisId:t,className:n,width:s,label:a}=e,i=p.useRef(null),o=p.useRef(null),c=Je(cN),d=as(),u=br(),m="yAxis",f=Je(A=>du(A,m,t,d)),g=Je(A=>BT(A,t)),x=Je(A=>iQ(A,t)),v=Je(A=>UT(A,m,t,d)),w=Je(A=>bT(A,t));if(p.useLayoutEffect(()=>{if(!(s!=="auto"||!g||_2(a)||p.isValidElement(a)||w==null)){var A=i.current;if(A){var P=A.getCalculatedWidth();Math.round(g.width)!==Math.round(P)&&u(xte({id:t,width:P}))}}},[v,g,u,a,t,s,w]),g==null||x==null||w==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,S=Fg(e,wse),{id:_}=w,k=Fg(w,jse);return p.createElement(W2,dw({},S,k,{ref:i,labelRef:o,scale:f,x:x.x,y:x.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:g.width,height:g.height,className:It("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:v}))},Pse={allowDataOverflow:Cs.allowDataOverflow,allowDecimals:Cs.allowDecimals,allowDuplicatedCategory:Cs.allowDuplicatedCategory,hide:!1,mirror:Cs.mirror,orientation:Cs.orientation,padding:Cs.padding,reversed:Cs.reversed,scale:Cs.scale,tickCount:Cs.tickCount,type:Cs.type,width:Cs.width,yAxisId:0},Ase=e=>{var t,n,s,a,i,o=Cn(e,Pse);return p.createElement(p.Fragment,null,p.createElement(kse,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(s=o.angle)!==null&&s!==void 0?s:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(Cse,o))},Ese=(e,t)=>{var{domain:n}=e,s=Fg(e,Nse),{domain:a}=t,i=Fg(t,_se);return Wd(s,i)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Wd({domain:n},{domain:a}):!1},fo=p.memo(Ase,Ese);fo.displayName="YAxis";var Ose={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh=p;function Tse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lse=typeof Object.is=="function"?Object.is:Tse,Mse=Oh.useSyncExternalStore,Dse=Oh.useRef,Rse=Oh.useEffect,Ise=Oh.useMemo,Fse=Oh.useDebugValue;Ose.useSyncExternalStoreWithSelector=function(e,t,n,s,a){var i=Dse(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Ise(function(){function d(x){if(!u){if(u=!0,m=x,x=s(x),a!==void 0&&o.hasValue){var v=o.value;if(a(v,x))return f=v}return f=x}if(v=f,Lse(m,x))return v;var w=s(x);return a!==void 0&&a(v,w)?(m=x,v):(m=x,f=w)}var u=!1,m,f,g=n===void 0?null:n;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,n,s,a]);var c=Mse(e,i[0],i[1]);return Rse(function(){o.hasValue=!0,o.value=c},[c]),Fse(c),c};function Bse(e){e()}function $se(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Bse(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=e;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var BC={notify(){},get:()=>[]};function zse(e,t){let n,s=BC,a=0,i=!1;function o(w){m();const b=s.subscribe(w);let j=!1;return()=>{j||(j=!0,b(),f())}}function c(){s.notify()}function d(){v.onStateChange&&v.onStateChange()}function u(){return i}function m(){a++,n||(n=e.subscribe(d),s=$se())}function f(){a--,n&&a===0&&(n(),n=void 0,s.clear(),s=BC)}function g(){i||(i=!0,m())}function x(){i&&(i=!1,f())}const v={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:u,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>s};return v}var Use=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gse=Use(),Wse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hse=Wse(),qse=()=>Gse||Hse?p.useLayoutEffect:p.useEffect,Vse=qse(),Iy=Symbol.for("react-redux-context"),Fy=typeof globalThis<"u"?globalThis:{};function Kse(){if(!p.createContext)return{};const e=Fy[Iy]??(Fy[Iy]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var Zse=Kse();function Yse(e){const{children:t,context:n,serverState:s,store:a}=e,i=p.useMemo(()=>{const d=zse(a);return{store:a,subscription:d,getServerState:s?()=>s:void 0}},[a,s]),o=p.useMemo(()=>a.getState(),[a]);Vse(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const c=n||Zse;return p.createElement(c.Provider,{value:i},t)}var Qse=Yse,Jse=(e,t)=>t,q2=de([Jse,Pt,gT,nn,aL,ro,uJ,tn],gJ),V2=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,s=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/s)}},hM=ma("mouseClick"),fM=ph();fM.startListening({actionCreator:hM,effect:(e,t)=>{var n=e.payload,s=q2(t.getState(),V2(n));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(vQ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var uw=ma("mouseMove"),pM=ph();pM.startListening({actionCreator:uw,effect:(e,t)=>{var n=e.payload,s=t.getState(),a=f2(s,s.tooltip.settings.shared),i=q2(s,V2(n));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(YT({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(ZT()))}});var $C={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},gM=Gs({name:"rootProps",initialState:$C,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:$C.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Xse=gM.reducer,{updateOptions:eae}=gM.actions,xM=Gs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tae}=xM.actions,rae=xM.reducer,yM=ma("keyDown"),vM=ma("focus"),K2=ph();K2.startListening({actionCreator:yM,effect:(e,t)=>{var n=t.getState(),s=n.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(p2(a,mu(n))),c=ro(n);if(i==="Enter"){var d=Eg(n,"axis","hover",String(a.index));t.dispatch(rw({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var u=dQ(n),m=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,g=o+f*m;if(!(c==null||g>=c.length||g<0)){var x=Eg(n,"axis","hover",String(g));t.dispatch(rw({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});K2.startListening({actionCreator:vM,effect:(e,t)=>{var n=t.getState(),s=n.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=Eg(n,"axis","hover",String(i));t.dispatch(rw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Qs=ma("externalEvent"),bM=ph();bM.startListening({actionCreator:Qs,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),s={activeCoordinate:tJ(n),activeDataKey:cL(n),activeIndex:nl(n),activeLabel:lL(n),activeTooltipIndex:nl(n),isTooltipActive:rJ(n)};e.payload.handler(s,e.payload.reactEvent)}}});var nae=de([uu],e=>e.tooltipItemPayloads),sae=de([nae,Ph,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,s)=>{var a=e.find(c=>c.settings.dataKey===s);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),wM=ma("touchMove"),jM=ph();jM.startListening({actionCreator:wM,effect:(e,t)=>{var n=e.payload,s=t.getState(),a=f2(s,s.tooltip.settings.shared);if(a==="axis"){var i=q2(s,V2({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(YT({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var u=d.getAttribute(GE),m=(o=d.getAttribute(WE))!==null&&o!==void 0?o:void 0,f=sae(t.getState(),u,m);t.dispatch(KT({activeDataKey:m,activeIndex:u,activeCoordinate:f}))}}});var aae=hE({brush:Bre,cartesianAxis:yte,chartData:OJ,errorBars:Fte,graphicalItems:Iee,layout:QW,legend:XH,options:kJ,polarAxis:YX,polarOptions:rae,referenceElements:qre,rootProps:Xse,tooltip:bQ}),iae=function(t){return jW({reducer:aae,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([fM.middleware,pM.middleware,K2.middleware,bM.middleware,jM.middleware]),enhancers:n=>{var s=n;return typeof n=="function"&&(s=n()),s.concat(SE({type:"raf"}))},devTools:fl.devToolsEnabled})};function NM(e){var{preloadedState:t,children:n,reduxStoreName:s}=e,a=as(),i=p.useRef(null);if(a)return n;i.current==null&&(i.current=iae(t));var o=tN;return p.createElement(Qse,{context:o,store:i.current},n)}function _M(e){var{layout:t,margin:n}=e,s=br(),a=as();return p.useEffect(()=>{a||(s(KW(t)),s(VW(n)))},[s,a,t,n]),null}function SM(e){var t=br();return p.useEffect(()=>{t(eae(e))},[t,e]),null}var oae=["children"];function lae(e,t){if(e==null)return{};var n,s,a=cae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cae(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bg.apply(null,arguments)}var dae={width:"100%",height:"100%",display:"block"},uae=p.forwardRef((e,t)=>{var n=uN(),s=mN(),a=tO();if(!Bd(n)||!Bd(s))return null;var{children:i,otherAttributes:o,title:c,desc:d}=e,u,m;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?m=o.role:m=a?"application":void 0,p.createElement(Ij,Bg({},o,{title:c,desc:d,role:m,tabIndex:u,width:n,height:s,style:dae,ref:t}),i)}),mae=e=>{var{children:t}=e,n=Je(Lx);if(!n)return null;var{width:s,height:a,y:i,x:o}=n;return p.createElement(Ij,{width:s,height:a,x:o,y:i},t)},zC=p.forwardRef((e,t)=>{var{children:n}=e,s=lae(e,oae),a=as();return a?p.createElement(mae,null,n):p.createElement(uae,Bg({ref:t},s),n)});function hae(){var e=br(),[t,n]=p.useState(null),s=Je(kH);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Fn(i)&&i!==s&&e(YW(i))}},[t,e,s]),n}function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function fae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(s){pae(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function pae(e,t,n){return(t=gae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jc.apply(null,arguments)}var yae=()=>($J(),null);function $g(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var vae=p.forwardRef((e,t)=>{var n,s,a=p.useRef(null),[i,o]=p.useState({containerWidth:$g((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:$g((s=e.style)===null||s===void 0?void 0:s.height)}),c=p.useCallback((u,m)=>{o(f=>{var g=Math.round(u),x=Math.round(m);return f.containerWidth===g&&f.containerHeight===x?f:{containerWidth:g,containerHeight:x}})},[]),d=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:m,height:f}=u.getBoundingClientRect();c(m,f);var g=v=>{var{width:w,height:b}=v[0].contentRect;c(w,b)},x=new ResizeObserver(g);x.observe(u),a.current=x}},[t,c]);return p.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[c]),p.createElement(p.Fragment,null,p.createElement(Rx,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",jc({ref:d},e)))}),bae=p.forwardRef((e,t)=>{var{width:n,height:s}=e,[a,i]=p.useState({containerWidth:$g(n),containerHeight:$g(s)}),o=p.useCallback((d,u)=>{i(m=>{var f=Math.round(d),g=Math.round(u);return m.containerWidth===f&&m.containerHeight===g?m:{containerWidth:f,containerHeight:g}})},[]),c=p.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:u,height:m}=d.getBoundingClientRect();o(u,m)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(Rx,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",jc({ref:c},e)))}),wae=p.forwardRef((e,t)=>{var{width:n,height:s}=e;return p.createElement(p.Fragment,null,p.createElement(Rx,{width:n,height:s}),p.createElement("div",jc({ref:t},e)))}),jae=p.forwardRef((e,t)=>{var{width:n,height:s}=e;return Gi(n)||Gi(s)?p.createElement(bae,jc({},e,{ref:t})):p.createElement(wae,jc({},e,{ref:t}))});function Nae(e){return e===!0?vae:jae}var _ae=p.forwardRef((e,t)=>{var{children:n,className:s,height:a,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:u,onMouseLeave:m,onMouseMove:f,onMouseUp:g,onTouchEnd:x,onTouchMove:v,onTouchStart:w,style:b,width:j,responsive:S,dispatchTouchEvents:_=!0}=e,k=p.useRef(null),A=br(),[P,E]=p.useState(null),[T,M]=p.useState(null),U=hae(),D=dN(),B=(D==null?void 0:D.width)>0?D.width:j,z=(D==null?void 0:D.height)>0?D.height:a,X=p.useCallback(J=>{U(J),typeof t=="function"&&t(J),E(J),M(J),J!=null&&(k.current=J)},[U,t,E,M]),le=p.useCallback(J=>{A(hM(J)),A(Qs({handler:i,reactEvent:J}))},[A,i]),$=p.useCallback(J=>{A(uw(J)),A(Qs({handler:u,reactEvent:J}))},[A,u]),ae=p.useCallback(J=>{A(ZT()),A(Qs({handler:m,reactEvent:J}))},[A,m]),G=p.useCallback(J=>{A(uw(J)),A(Qs({handler:f,reactEvent:J}))},[A,f]),ie=p.useCallback(()=>{A(vM())},[A]),ce=p.useCallback(J=>{A(yM(J.key))},[A]),I=p.useCallback(J=>{A(Qs({handler:o,reactEvent:J}))},[A,o]),pe=p.useCallback(J=>{A(Qs({handler:c,reactEvent:J}))},[A,c]),Q=p.useCallback(J=>{A(Qs({handler:d,reactEvent:J}))},[A,d]),xe=p.useCallback(J=>{A(Qs({handler:g,reactEvent:J}))},[A,g]),je=p.useCallback(J=>{A(Qs({handler:w,reactEvent:J}))},[A,w]),Re=p.useCallback(J=>{_&&A(wM(J)),A(Qs({handler:v,reactEvent:J}))},[A,_,v]),rt=p.useCallback(J=>{A(Qs({handler:x,reactEvent:J}))},[A,x]),Z=Nae(S);return p.createElement(pL.Provider,{value:P},p.createElement(fA.Provider,{value:T},p.createElement(Z,{width:B??(b==null?void 0:b.width),height:z??(b==null?void 0:b.height),className:It("recharts-wrapper",s),style:fae({position:"relative",cursor:"default",width:B,height:z},b),onClick:le,onContextMenu:I,onDoubleClick:pe,onFocus:ie,onKeyDown:ce,onMouseDown:Q,onMouseEnter:$,onMouseLeave:ae,onMouseMove:G,onMouseUp:xe,onTouchEnd:rt,onTouchMove:Re,onTouchStart:je,ref:X},p.createElement(yae,null),n)))}),Sae=["width","height","responsive","children","className","style","compact","title","desc"];function kae(e,t){if(e==null)return{};var n,s,a=Cae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cae(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var kM=p.forwardRef((e,t)=>{var{width:n,height:s,responsive:a,children:i,className:o,style:c,compact:d,title:u,desc:m}=e,f=kae(e,Sae),g=Bs(f);return d?p.createElement(p.Fragment,null,p.createElement(Rx,{width:n,height:s}),p.createElement(zC,{otherAttributes:g,title:u,desc:m},i)):p.createElement(_ae,{className:o,style:c,width:n,height:s,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(zC,{otherAttributes:g,title:u,desc:m,ref:t},p.createElement(Kre,null,i)))});function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mw.apply(null,arguments)}var Pae={top:5,right:5,bottom:5,left:5},Aae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pae,reverseStackOrder:!1,syncMethod:"index",responsive:!1},CM=p.forwardRef(function(t,n){var s,a=Cn(t.categoricalChartProps,Aae),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:u}=t,m={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return p.createElement(NM,{preloadedState:{options:m},reduxStoreName:(s=u.id)!==null&&s!==void 0?s:i},p.createElement(tM,{chartData:u.data}),p.createElement(_M,{layout:a.layout,margin:a.margin}),p.createElement(SM,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(kM,mw({},a,{ref:n})))}),Eae=["axis"],Oae=p.forwardRef((e,t)=>p.createElement(CM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eae,tooltipPayloadSearcher:N2,categoricalChartProps:e,ref:t})),Tae=["axis","item"],zc=p.forwardRef((e,t)=>p.createElement(CM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tae,tooltipPayloadSearcher:N2,categoricalChartProps:e,ref:t}));function Lae(e){var t=br();return p.useEffect(()=>{t(tae(e))},[t,e]),null}var Mae=["layout"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hw.apply(null,arguments)}function Dae(e,t){if(e==null)return{};var n,s,a=Rae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rae(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Iae={top:5,right:5,bottom:5,left:5},Fae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Iae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Bae=p.forwardRef(function(t,n){var s,a=Cn(t.categoricalChartProps,Fae),{layout:i}=a,o=Dae(a,Mae),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m}=t,f={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return p.createElement(NM,{preloadedState:{options:f},reduxStoreName:(s=a.id)!==null&&s!==void 0?s:c},p.createElement(tM,{chartData:a.data}),p.createElement(_M,{layout:i,margin:a.margin}),p.createElement(SM,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(Lae,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(kM,hw({},o,{ref:n})))}),$ae=["item"],zae={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Mf=p.forwardRef((e,t)=>{var n=Cn(e,zae);return p.createElement(Bae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:$ae,tooltipPayloadSearcher:N2,categoricalChartProps:n,ref:t})});function Uae(){var ce,I,pe,Q,xe,je,Re,rt;const[e,t]=p.useState(!0),[n,s]=p.useState(null),[a,i]=p.useState([]),[o,c]=p.useState([]),[d,u]=p.useState([]),[m,f]=p.useState([]),[g,x]=p.useState([]),[v,w]=p.useState([]),[b,j]=p.useState([]),[S,_]=p.useState([]),[k,A]=p.useState([]),[P,E]=p.useState([]),[T,M]=p.useState([]),[U,D]=p.useState("monthly"),[B,z]=p.useState(null),[X,le]=p.useState(null),[$,ae]=p.useState(!1),G=()=>{switch(U){case"weekly":return{metric:"papers_per_week",time_range:"90d"};case"monthly":return{metric:"papers_per_week",time_range:"365d"};case"yearly":return{metric:"papers_per_week",time_range:"1825d"};default:return{metric:"papers_per_week",time_range:"365d"}}};p.useEffect(()=>{async function Z(){try{t(!0);const{metric:J,time_range:De}=G(),[Fe,ge,te,Te,Le]=await Promise.all([Nt.get(Sr("/api/analytics/database-stats")),Nt.get(Sr(`/api/analytics/temporal-trends?metric=${J}&time_range=${De}`)),Nt.get(Sr("/api/analytics/trending-topics")),Nt.get(Sr("/api/analytics/collaborations?min_papers=3&time_range=24m")),Nt.get(Sr(`/api/analytics/latest-papers?limit=100&time_range=${De}`))]);if(console.log(" Analytics API Responses:",{stats:Fe.data,trends:ge.data,topics:te.data,latestPapers:Le.data}),s(Fe.data),i(ge.data.trends||[]),Le.data&&Le.data.papers){const Qe=Le.data.papers,Tt=Qe.filter(ue=>ue.citations&&ue.citations>0).sort((ue,ye)=>ye.citations-ue.citations).slice(0,10).map(ue=>({id:ue.id,title:ue.title,authors:ue.authors||[],journal:ue.journal,year:ue.publication_year,publication_year:ue.publication_year,citations:ue.citations}));u(Tt);const At={};Qe.forEach(ue=>{ue.journal&&(At[ue.journal]=(At[ue.journal]||0)+1)});const W=Object.entries(At).map(([ue,ye])=>({name:ue,count:ye})).sort((ue,ye)=>ye.count-ue.count).slice(0,10);c(W);const R={};Qe.forEach(ue=>{ue.methods&&Array.isArray(ue.methods)&&ue.methods.forEach(ye=>{ye&&(R[ye]=(R[ye]||0)+1)})});const ee=Object.entries(R).map(([ue,ye])=>({name:ue,count:ye})).sort((ue,ye)=>ye.count-ue.count).slice(0,10);x(ee);const se={};Qe.forEach(ue=>{ue.species&&Array.isArray(ue.species)&&ue.species.forEach(ye=>{ye&&(se[ye]=(se[ye]||0)+1)})});const we=Object.entries(se).map(([ue,ye])=>({name:ue,count:ye})).sort((ue,ye)=>ye.count-ue.count).slice(0,10);w(we)}Te.data&&Te.data.networks&&Te.data.networks.prolific_authors&&f(Te.data.networks.prolific_authors.slice(0,10).map(Qe=>({name:Qe.name,count:Qe.paper_count})));const ze=te.data.byCategory||{};ze.frameworks&&j(ze.frameworks.slice(0,10).map(Qe=>({name:Qe.title,count:parseInt(Qe.activity.split(" ")[0])}))),ze.taxa&&_(ze.taxa.slice(0,10).map(Qe=>({name:Qe.title,count:parseInt(Qe.activity.split(" ")[0])}))),ze.ecosystems&&A(ze.ecosystems.slice(0,10).map(Qe=>({name:Qe.title,count:parseInt(Qe.activity.split(" ")[0])}))),ze.methods&&E(ze.methods.slice(0,10).map(Qe=>({name:Qe.title,count:parseInt(Qe.activity.split(" ")[0])}))),ze.regions&&M(ze.regions.slice(0,20).map(Qe=>({name:Qe.title,count:parseInt(Qe.activity.split(" ")[0])})))}catch(J){console.error("Failed to fetch analytics:",J)}finally{t(!1)}}Z()},[U]),p.useEffect(()=>{async function Z(){var J,De;try{ae(!0);const[Fe,ge]=await Promise.all([Nt.get(Sr("/api/analytics/research-gaps?premium=false")).catch(te=>({data:null})),Nt.get(Sr("/api/analytics/trending-discoveries?premium=false")).catch(te=>({data:null}))]);(J=Fe.data)!=null&&J.success&&z(Fe.data),(De=ge.data)!=null&&De.success&&le(ge.data),console.log(" AI Insights:",{gaps:Fe.data,trends:ge.data})}catch(Fe){console.error("Failed to fetch AI insights:",Fe)}finally{ae(!1)}}Z()},[]);const ie=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#14b8a6","#f97316"];return e?r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"max-w-3xl",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl text-gray-900 mb-6 font-bold tracking-tight",children:"Research Analytics"}),r.jsxs("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:["Explore trends, patterns, and insights across ",((I=(ce=n==null?void 0:n.stats)==null?void 0:ce.totalPapers)==null?void 0:I.toLocaleString())||"1,950"," conservation research papers."]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Free tier: 5 analyses/month  Buy credit packs as needed  Institutional partnerships available"})]})})}),r.jsx("section",{className:"py-8 px-4 bg-gradient-to-b from-white to-gray-50",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all shadow-sm hover:shadow-md group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(bt,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Growing"]})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:((Q=(pe=n==null?void 0:n.stats)==null?void 0:pe.totalPapers)==null?void 0:Q.toLocaleString())||"0"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Research Papers"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Updated continuously"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all shadow-sm hover:shadow-md group",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(Jr,{className:"w-6 h-6 text-purple-600"})})}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:((je=(xe=n==null?void 0:n.stats)==null?void 0:xe.last7Days)==null?void 0:je.toLocaleString())||"0"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Papers This Week"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Last 7 days"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all shadow-sm hover:shadow-md group",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(Qo,{className:"w-6 h-6 text-green-600"})})}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:b.length||"0"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Conservation Frameworks"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"SDGs & agreements"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all shadow-sm hover:shadow-md group",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(cr,{className:"w-6 h-6 text-orange-600"})})}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:T.length||"0"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Countries with Research"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Global coverage"})]})]})})}),r.jsx("section",{className:"py-16 px-4 bg-white",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Publication Trends"}),r.jsxs("p",{className:"text-gray-600",children:[U==="weekly"&&"Weekly publication volume over the last 90 days",U==="monthly"&&"Monthly publication volume over the last 12 months",U==="yearly"&&"Yearly publication volume over the last 5 years"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>D("weekly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${U==="weekly"?"bg-gray-900 text-white shadow-sm":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300"}`,children:"Weekly"}),r.jsx("button",{onClick:()=>D("monthly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${U==="monthly"?"bg-gray-900 text-white shadow-sm":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300"}`,children:"Monthly"}),r.jsx("button",{onClick:()=>D("yearly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${U==="yearly"?"bg-gray-900 text-white shadow-sm":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300"}`,children:"Yearly"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:r.jsx(wa,{width:"100%",height:350,children:r.jsxs(Oae,{data:a,children:[r.jsx(mo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ho,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(fo,{stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(jo,{}),r.jsx(mM,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:3,name:"Publications",dot:{fill:"#3b82f6",r:5}})]})})})]})}),r.jsx("section",{className:"py-16 px-4 bg-gray-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Research Distribution"}),r.jsx("p",{className:"text-gray-600",children:"Top categories across frameworks, species, ecosystems, and conservation methods"})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Conservation Frameworks"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Distribution across SDGs and agreements (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(Mf,{children:[r.jsx(tm,{data:b,cx:"50%",cy:"45%",outerRadius:120,fill:"#8884d8",dataKey:"count",children:b.map((Z,J)=>r.jsx(Ro,{fill:ie[J%ie.length]},`cell-${J}`))}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(jo,{layout:"horizontal",align:"center",verticalAlign:"bottom",wrapperStyle:{fontSize:"12px",paddingTop:"20px"}})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ecosystem Coverage"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Research across different ecosystem types (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(Mf,{children:[r.jsx(tm,{data:k,cx:"50%",cy:"45%",outerRadius:120,fill:"#8884d8",dataKey:"count",children:k.map((Z,J)=>r.jsx(Ro,{fill:ie[J%ie.length]},`cell-${J}`))}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(jo,{layout:"horizontal",align:"center",verticalAlign:"bottom",wrapperStyle:{fontSize:"12px",paddingTop:"20px"}})]})})]}),S.length>0&&r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Species Distribution"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Top studied species and taxonomic groups (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(Mf,{children:[r.jsx(tm,{data:S,cx:"50%",cy:"45%",outerRadius:120,fill:"#8884d8",dataKey:"count",children:S.map((Z,J)=>r.jsx(Ro,{fill:ie[J%ie.length]},`cell-${J}`))}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(jo,{layout:"horizontal",align:"center",verticalAlign:"bottom",wrapperStyle:{fontSize:"12px",paddingTop:"20px"}})]})})]}),P.length>0&&r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Conservation Methods"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Research methodologies and approaches (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(Mf,{children:[r.jsx(tm,{data:P,cx:"50%",cy:"45%",outerRadius:120,fill:"#8884d8",dataKey:"count",children:P.map((Z,J)=>r.jsx(Ro,{fill:ie[J%ie.length]},`cell-${J}`))}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(jo,{layout:"horizontal",align:"center",verticalAlign:"bottom",wrapperStyle:{fontSize:"12px",paddingTop:"20px"}})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8 lg:col-span-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Geographic Distribution"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Top 20 countries by research activity"}),r.jsx(wa,{width:"100%",height:350,children:r.jsxs(zc,{data:T,children:[r.jsx(mo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ho,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:120}),r.jsx(fo,{stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(El,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0]})]})})]})]})]})}),r.jsx("section",{className:"py-16 px-4 bg-white",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Top Research Insights"}),r.jsx("p",{className:"text-gray-600",children:"Most impactful papers, leading authors, and top journals in conservation research"})]}),r.jsxs("div",{className:"grid lg:grid-cols-1 gap-8",children:[d.length>0&&r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Top 10 Most Cited Papers"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Highest impact research in our database"}),r.jsx("div",{className:"space-y-4",children:d.map((Z,J)=>r.jsx("div",{className:"border-b border-gray-100 pb-4 last:border-0",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-600 text-sm font-bold",children:J+1}),r.jsx("h4",{className:"text-base font-semibold text-gray-900 leading-tight",children:Z.title})]}),r.jsxs("p",{className:"text-sm text-gray-600 ml-9",children:[Z.authors&&Z.authors.length>0?Z.authors.slice(0,3).map(De=>De.name||De).join(", "):"Unknown authors",Z.authors&&Z.authors.length>3&&" et al."]}),r.jsxs("p",{className:"text-xs text-gray-500 ml-9 mt-1",children:[Z.journal,"  ",Z.year||Z.publication_year]})]}),r.jsxs("div",{className:"flex-shrink-0 text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Z.citations||0}),r.jsx("div",{className:"text-xs text-gray-500",children:"citations"})]})]})},Z.id))})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.length>0&&r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Top Authors"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Most prolific researchers (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(zc,{data:m,layout:"vertical",children:[r.jsx(mo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ho,{type:"number",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(fo,{type:"category",dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"},width:120}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(El,{dataKey:"count",fill:"#10b981",radius:[0,8,8,0]})]})})]}),o.length>0&&r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Top Journals"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Leading conservation journals (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(zc,{data:o,layout:"vertical",children:[r.jsx(mo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ho,{type:"number",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(fo,{type:"category",dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"},width:150}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(El,{dataKey:"count",fill:"#f59e0b",radius:[0,8,8,0]})]})})]}),g.length>0&&r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Top Research Methods"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Most used research approaches (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(zc,{data:g,layout:"vertical",children:[r.jsx(mo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ho,{type:"number",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(fo,{type:"category",dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"},width:150}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(El,{dataKey:"count",fill:"#8b5cf6",radius:[0,8,8,0]})]})})]}),T.length>0&&r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Top Research Regions"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Most active geographic regions (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(zc,{data:T.slice(0,10),layout:"vertical",children:[r.jsx(mo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ho,{type:"number",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(fo,{type:"category",dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"},width:120}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(El,{dataKey:"count",fill:"#ef4444",radius:[0,8,8,0]})]})})]}),v.length>0&&r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Top Species Studied"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Most researched species and taxa (Top 10)"}),r.jsx(wa,{width:"100%",height:400,children:r.jsxs(zc,{data:v,layout:"vertical",children:[r.jsx(mo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ho,{type:"number",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(fo,{type:"category",dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"},width:140}),r.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(El,{dataKey:"count",fill:"#14b8a6",radius:[0,8,8,0]})]})})]})]})]})]})}),r.jsx("section",{className:"py-16 px-4 bg-gradient-to-br from-purple-50 via-blue-50 to-teal-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-purple-100 text-purple-700 text-sm font-semibold rounded-full mb-4",children:[r.jsx(Ct,{className:"w-4 h-4"}),"AI-Powered Insights"]}),r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Intelligent Research Analytics"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Advanced AI analyzes our research corpus to identify gaps, synthesize strategies, and detect emerging patterns"})]}),$?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"AI is analyzing research patterns..."})]}):r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl p-8 border-2 border-purple-200 hover:border-purple-400 transition-all shadow-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(Rm,{className:"w-6 h-6 text-purple-600"})}),(B==null?void 0:B.preview)&&r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded",children:"Free Preview"})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Research Gap Detector"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Identifies understudied method  species  region combinations"}),B!=null&&B.gaps&&B.gaps.length>0?r.jsxs("div",{className:"space-y-3",children:[B.gaps.slice(0,2).map((Z,J)=>r.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-100",children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-xs",children:Z.title}),r.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded ${Z.priority==="critical"?"bg-red-100 text-red-700":Z.priority==="high"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:Z.priority})]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[Z.gapSizePercentage,"% understudied"]})]},J)),B.preview&&r.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg border border-purple-200",children:[r.jsxs("p",{className:"text-xs text-gray-700 mb-2",children:[r.jsx(uo,{className:"w-4 h-4 inline mr-1"}),B.message]}),r.jsx("button",{className:"w-full px-3 py-2 bg-purple-600 text-white text-sm font-semibold rounded-lg hover:bg-purple-700 transition",children:"Upgrade to Premium"})]})]}):r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("p",{className:"mb-2",children:" Feature temporarily unavailable"}),r.jsx("p",{className:"text-xs",children:"API configuration in progress. Check back soon!"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-8 border-2 border-blue-200 hover:border-blue-400 transition-all shadow-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Cr,{className:"w-6 h-6 text-blue-600"})}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded",children:"Coming Soon"})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Strategy Synthesizer"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Evidence-based conservation strategies synthesized from research corpus"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-xs mb-1",children:"Natural Language Queries"}),r.jsx("p",{className:"text-xs text-gray-600",children:'"Best practices for arid ecosystem restoration"'})]}),r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-xs mb-1",children:"Evidence Strength Ratings"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Strong, moderate, or limited evidence classifications"})]}),r.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg border border-blue-200",children:[r.jsxs("p",{className:"text-xs text-gray-700 mb-2",children:[r.jsx(uo,{className:"w-4 h-4 inline mr-1"}),"Premium feature launching soon"]}),r.jsx("button",{className:"w-full px-3 py-2 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition",children:"Get Notified"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-8 border-2 border-teal-200 hover:border-teal-400 transition-all shadow-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center",children:r.jsx($P,{className:"w-6 h-6 text-teal-600"})}),(X==null?void 0:X.preview)&&r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded",children:"Free Preview"})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Trending Discoveries"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Emerging patterns in last 90 days vs historical baseline"}),X!=null&&X.discoveries&&X.discoveries.length>0?r.jsxs("div",{className:"space-y-3",children:[X.discoveries.slice(0,2).map((Z,J)=>r.jsxs("div",{className:"p-3 bg-teal-50 rounded-lg border border-teal-100",children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-xs mb-1",children:Z.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsxs("span",{className:"text-teal-600 font-semibold",children:["+",Z.growthPercentage,"%"]}),r.jsxs("span",{className:"text-gray-500",children:[Z.recentPaperCount," papers"]})]})]},J)),X.preview&&r.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-teal-100 to-blue-100 rounded-lg border border-teal-200",children:[r.jsxs("p",{className:"text-xs text-gray-700 mb-2",children:[r.jsx(uo,{className:"w-4 h-4 inline mr-1"}),X.message]}),r.jsx("button",{className:"w-full px-3 py-2 bg-teal-600 text-white text-sm font-semibold rounded-lg hover:bg-teal-700 transition",children:"Upgrade to Premium"})]})]}):r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("p",{className:"mb-2",children:" Feature temporarily unavailable"}),r.jsx("p",{className:"text-xs",children:"API configuration in progress. Check back soon!"})]})]})]})]})}),r.jsx("section",{className:"py-16 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full mb-4",children:[r.jsx(Ct,{className:"w-4 h-4"}),"Premium Analytics"]}),r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Premium Analytics"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Free tier: 5 analyses/month  Buy credit packs ($10/$25/$75) for more  Institutional partnerships for unlimited access"})]}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-12",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(en,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Citation Impact Tracking"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Track citation patterns, h-index metrics, and research impact across frameworks and regions"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:"Premium Feature"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Collaboration Networks"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Visualize researcher networks, identify potential partners, and discover collaboration opportunities"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:"Premium Feature"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Research Gap Analysis"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Identify underrepresented topics, regions, and taxa to guide strategic research planning and funding priorities"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:"Premium Feature"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(bt,{className:"w-6 h-6 text-purple-600"})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Custom Reports"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Generate custom analytics reports, export data, and create tailored visualizations for your institution"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:"Premium Feature"})]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-xl p-8 border-2 border-gray-200",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Free Tier"}),r.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"$0"}),r.jsx("span",{className:"text-gray-600",children:"/month"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Fair use limits for all users"})]}),r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700",children:"20 AI searches/month"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700",children:"5 analyses/month"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700",children:"3 grant assists/month"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700",children:"10 syntheses/month"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["Access to all ",((rt=(Re=n==null?void 0:n.stats)==null?void 0:Re.totalPapers)==null?void 0:rt.toLocaleString())||"1,950"," papers"]})]})]}),r.jsx(ne,{to:"/signup",className:"block w-full text-center bg-white text-gray-900 px-6 py-3 rounded-lg text-base font-medium border-2 border-gray-200 hover:border-gray-300 transition-all",children:"Get Started"})]}),r.jsxs("div",{className:"bg-gray-900 rounded-xl p-8 border-2 border-gray-900 relative",children:[r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("span",{className:"px-3 py-1 bg-blue-500 text-white text-xs font-semibold rounded-full",children:"No Subscriptions"})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Credit Packs"}),r.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[r.jsx("span",{className:"text-4xl font-bold text-white",children:"$10-$75"}),r.jsx("span",{className:"text-gray-400",children:"/pack"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Pay only for what you use"})]}),r.jsxs("ul",{className:"space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-300",children:"$10 pack: 50 searches, 20 analyses, 10 assists, 30 syntheses"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-300",children:"$25 pack: 150 searches, 60 analyses, 30 assists, 100 syntheses"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-300",children:"$75 pack: 500 searches, 200 analyses, 100 assists, 350 syntheses"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Credits never expire"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Institutional partnerships available"})]})]}),r.jsx(ne,{to:"/credits",className:"block w-full text-center bg-blue-500 text-white px-6 py-3 rounded-lg text-base font-medium hover:bg-blue-600 transition-all",children:"Buy Credits"})]})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsxs("p",{className:"text-sm text-gray-500",children:["Existing users grandfathered with unlimited access  ",r.jsx(ne,{to:"/contact",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact us"})," for institutional partnerships"]})})]})})]})}function Gae(){var f;const[e,t]=p.useState(!0),[n,s]=p.useState(null),[a,i]=p.useState(5),[o,c]=p.useState("all");if(p.useEffect(()=>{async function g(){try{t(!0);const x=await eu.getResearchGaps({min_papers:a});s(x.data)}catch(x){console.error("Failed to fetch research gaps:",x)}finally{t(!1)}}g()},[a]),e)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Analyzing research gaps..."})]})});const d=[{key:"all",label:"All Gaps",icon:Yp,color:"gray"},{key:"taxa",label:"Species & Taxa",icon:en,color:"green"},{key:"regions",label:"Geographic",icon:cr,color:"purple"},{key:"frameworks",label:"Frameworks",icon:Cr,color:"blue"},{key:"ecosystems",label:"Ecosystems",icon:en,color:"teal"},{key:"methods",label:"Methods",icon:Cr,color:"orange"}],m=n?o==="all"?[...n.gaps.taxa.map(g=>({...g,category:"Taxa",color:"green"})),...n.gaps.regions.map(g=>({...g,category:"Geographic",color:"purple"})),...n.gaps.frameworks.map(g=>({...g,category:"Framework",color:"blue"})),...n.gaps.ecosystems.map(g=>({...g,category:"Ecosystem",color:"teal"})),...n.gaps.methods.map(g=>({...g,category:"Method",color:"orange"}))].sort((g,x)=>g.paper_count-x.paper_count):n.gaps[o].map(g=>{var x;return{...g,category:o.charAt(0).toUpperCase()+o.slice(1),color:((x=d.find(v=>v.key===o))==null?void 0:x.color)||"gray"}}):[];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("section",{className:"py-12 px-4 bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(ne,{to:"/analytics",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Yi,{className:"w-5 h-5"}),"Back to Analytics"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Rm,{className:"w-10 h-10 text-yellow-500"}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:"Research Gap Identification"})]}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"AI-powered analysis to identify underresearched topics, species, and regions in conservation science"}),n&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.summary.total_gaps}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Gaps"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:n.summary.taxa_gaps}),r.jsx("div",{className:"text-sm text-green-700",children:"Taxa Gaps"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:n.summary.region_gaps}),r.jsx("div",{className:"text-sm text-purple-700",children:"Region Gaps"})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:n.summary.framework_gaps}),r.jsx("div",{className:"text-sm text-blue-700",children:"Framework Gaps"})]}),r.jsxs("div",{className:"bg-teal-50 rounded-lg p-4 border border-teal-200",children:[r.jsx("div",{className:"text-2xl font-bold text-teal-900",children:n.summary.ecosystem_gaps}),r.jsx("div",{className:"text-sm text-teal-700",children:"Ecosystem Gaps"})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:n.summary.method_gaps}),r.jsx("div",{className:"text-sm text-orange-700",children:"Method Gaps"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Gap Threshold (max papers):"}),r.jsxs("select",{value:a,onChange:g=>i(parseInt(g.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"3",children:"3 papers or fewer"}),r.jsx("option",{value:"5",children:"5 papers or fewer"}),r.jsx("option",{value:"10",children:"10 papers or fewer"}),r.jsx("option",{value:"20",children:"20 papers or fewer"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Showing areas with ",a," or fewer papers"]})]})]})}),r.jsx("section",{className:"py-6 px-4 bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx("div",{className:"flex flex-wrap gap-3",children:d.map(g=>{const x=g.icon;return r.jsxs("button",{onClick:()=>c(g.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${o===g.key?`bg-${g.color}-600 text-white shadow-md`:`bg-${g.color}-50 text-${g.color}-700 hover:bg-${g.color}-100`}`,children:[r.jsx(x,{className:"w-5 h-5"}),g.label,g.key!=="all"&&n&&r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${o===g.key?"bg-white bg-opacity-20":`bg-${g.color}-200`}`,children:n.summary[`${g.key}_gaps`]})]},g.key)})})})}),r.jsx("section",{className:"py-12 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o==="all"?"All Research Gaps":`${(f=d.find(g=>g.key===o))==null?void 0:f.label} Gaps`}),r.jsxs("p",{className:"text-gray-600 mt-2",children:[m.length," ",o==="all"?"total":""," research gaps identified with fewer than ",a," papers"]})]}),m.length>0?r.jsx("div",{className:"grid gap-4",children:m.map((g,x)=>r.jsxs("div",{className:`bg-white border-2 border-${g.color}-200 rounded-xl p-6 hover:shadow-lg transition-all`,children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:g.name}),r.jsx("span",{className:`px-3 py-1 bg-${g.color}-100 text-${g.color}-700 text-sm font-medium rounded-full`,children:g.category})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:g.gap_description})]})}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 bg-${g.color}-500 rounded-full`}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:g.paper_count})," papers"]})]}),g.region_count!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:g.region_count||0})," regions"]})]}),g.ecosystem_count!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(en,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:g.ecosystem_count||0})," ecosystems"]})]})]})]},x))}):r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[r.jsx(Yp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No research gaps found in this category with current threshold."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Try increasing the threshold to see more gaps."})]})]})}),r.jsx("section",{className:"py-12 px-4 bg-blue-50 border-t border-blue-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"How We Identify Research Gaps"}),r.jsxs("div",{className:"space-y-3 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Analysis Method:"})," We analyze all ",n!=null&&n.threshold?`papers with ${n.threshold} or fewer publications`:"papers in the database"," across 5 COMPASS dimensions to identify underresearched areas."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Gap Criteria:"}),' An area is considered a "research gap" if it has fewer than ',a," papers in our database. This threshold is adjustable."]}),r.jsx("p",{children:r.jsx("strong",{children:"Categories Analyzed:"})}),r.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Species & Taxa:"})," Underresearched species and taxonomic groups"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Geographic Regions:"})," Countries and areas with limited conservation research"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Conservation Frameworks:"})," SDGs and policy frameworks needing more attention"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Ecosystems:"})," Ecosystem types requiring additional study"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Research Methods:"})," Underutilized research methodologies"]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Why This Matters:"})," Identifying research gaps helps direct future conservation efforts and funding toward underresearched but potentially critical areas."]})]})]})}),r.jsx("section",{className:"py-12 px-4 bg-gradient-to-br from-purple-50 to-blue-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx(Rm,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Help Fill These Research Gaps"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Submit your research on underresearched topics to help build comprehensive conservation knowledge"}),r.jsx(ne,{to:"/submit",className:"inline-flex items-center gap-2 px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Submit Research"})]})})]})}function Wae(){const[e,t]=p.useState(!0),[n,s]=p.useState(null),[a,i]=p.useState("12m");if(p.useEffect(()=>{async function c(){try{t(!0);const d=await eu.getPredictiveAnalytics({time_range:a});s(d.data)}catch(d){console.error("Failed to fetch predictions:",d)}finally{t(!1)}}c()},[a]),e)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Analyzing trends and generating predictions..."})]})});const o=[{value:"6m",label:"6 Months"},{value:"12m",label:"12 Months"},{value:"24m",label:"24 Months"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("section",{className:"py-12 px-4 bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(ne,{to:"/analytics",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Yi,{className:"w-5 h-5"}),"Back to Analytics"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(en,{className:"w-10 h-10 text-blue-600"}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:"Predictive Analytics"})]}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"AI-powered trend forecasting and emerging topic detection in conservation research"}),n&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:n.summary.emerging_count}),r.jsx("div",{className:"text-sm text-green-700",children:"Emerging Topics"})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:n.summary.declining_count}),r.jsx("div",{className:"text-sm text-orange-700",children:"Declining Topics"})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[n.summary.avg_growth>0?"+":"",n.summary.avg_growth,"%"]}),r.jsx("div",{className:"text-sm text-blue-700",children:"Avg Growth Rate"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:n.predictions.forecast.next_month}),r.jsx("div",{className:"text-sm text-purple-700",children:"Predicted Next Month"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Analysis Period:"}),r.jsx("div",{className:"flex gap-2",children:o.map(c=>r.jsx("button",{onClick:()=>i(c.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${a===c.value?"bg-primary-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:c.label},c.value))})]})]})}),n&&r.jsx("section",{className:"py-8 px-4 bg-gradient-to-br from-purple-50 to-blue-50 border-b border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Jr,{className:"w-8 h-8 text-purple-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Publication Forecast"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-purple-200",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Next Month"}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["~",n.predictions.forecast.next_month]}),r.jsx("div",{className:"text-sm text-gray-500",children:"predicted papers"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-purple-200",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Next Quarter"}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["~",n.predictions.forecast.next_quarter]}),r.jsx("div",{className:"text-sm text-gray-500",children:"predicted papers"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-purple-200",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Next Year"}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["~",n.predictions.forecast.next_year]}),r.jsx("div",{className:"text-sm text-gray-500",children:"predicted papers"})]})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm",children:[r.jsx(fb,{className:"w-5 h-5 text-purple-600"}),r.jsxs("span",{className:"text-gray-600",children:["Confidence Level: ",r.jsx("span",{className:"font-semibold",children:n.predictions.forecast.confidence})," ","(based on ",a==="6m"?"6":a==="12m"?"12":"24"," months of data)"]})]})]})}),n&&n.predictions.emerging.length>0&&r.jsx("section",{className:"py-12 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx($P,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Emerging Topics"}),r.jsx("p",{className:"text-gray-600",children:"Topics with accelerating publication rates"})]})]}),r.jsx("div",{className:"grid gap-4",children:n.predictions.emerging.map((c,d)=>r.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.name}),r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-full flex items-center gap-1",children:[r.jsx(um,{className:"w-4 h-4"}),c.growth_rate>0?"+":"",c.growth_rate,"%"]})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:c.description})]})}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:c.recent_count})," recent papers"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:c.earlier_count})," earlier papers"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(en,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:c.total_count})," total"]})]})]})]},d))})]})}),n&&n.predictions.declining.length>0&&r.jsx("section",{className:"py-12 px-4 bg-orange-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(MS,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Declining Topics"}),r.jsx("p",{className:"text-gray-600",children:"Topics with decreasing publication rates"})]})]}),r.jsx("div",{className:"grid gap-4",children:n.predictions.declining.map((c,d)=>r.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.name}),r.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-medium rounded-full flex items-center gap-1",children:[r.jsx(MS,{className:"w-4 h-4"}),c.growth_rate,"%"]})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:c.description})]})}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:c.recent_count})," recent papers"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:c.earlier_count})," earlier papers"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(en,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:c.total_count})," total"]})]})]})]},d))})]})}),n&&n.predictions.growth_trends&&n.predictions.growth_trends.length>0&&r.jsx("section",{className:"py-12 px-4 bg-blue-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(en,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Monthly Publication Trends"}),r.jsx("p",{className:"text-gray-600",children:"Publication volume over time"})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-blue-200",children:r.jsx("div",{className:"space-y-3",children:n.predictions.growth_trends.slice(0,12).map((c,d)=>{const u=Math.max(...n.predictions.growth_trends.map(f=>f.paper_count)),m=c.paper_count/u*100;return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 w-24",children:new Date(c.month).toLocaleDateString("en-US",{year:"numeric",month:"short"})}),r.jsxs("div",{className:"flex-1 bg-gray-100 rounded-full h-8 relative overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 h-full rounded-full flex items-center justify-end px-3 transition-all",style:{width:`${m}%`},children:m>20&&r.jsx("span",{className:"text-sm font-semibold text-white",children:c.paper_count})}),m<=20&&r.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm font-semibold text-gray-700",children:c.paper_count})]}),c.moving_avg&&r.jsxs("div",{className:"text-sm text-gray-500 w-24 text-right",children:["Avg: ",Math.round(c.moving_avg)]})]},d)})})})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"How We Generate Predictions"}),r.jsxs("div",{className:"space-y-3 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Trend Detection:"})," We analyze publication patterns over the selected time period (",a==="6m"?"6":a==="12m"?"12":"24"," months) to identify topics with accelerating or declining research activity."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Emerging Topics:"})," Identified when recent publication rate (last 3 months) exceeds earlier publication rate, indicating growing research interest."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Declining Topics:"})," Identified when recent publication rate is lower than earlier rate, suggesting decreased research focus."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Forecasting Method:"})," We use a 3-month moving average to smooth short-term fluctuations and project future publication volumes."]}),r.jsx("p",{children:r.jsx("strong",{children:"Confidence Levels:"})}),r.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"High:"})," Based on 24+ months of consistent data"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Medium:"})," Based on 12-24 months of data"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Low:"})," Based on 6-12 months of data (shorter trends, more uncertainty)"]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Why This Matters:"})," Predictive analytics help researchers and funders identify emerging research areas, anticipate future trends, and make strategic decisions about where to focus conservation efforts."]})]})]})}),r.jsx("section",{className:"py-12 px-4 bg-gradient-to-br from-green-50 to-blue-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx(Rm,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Contribute to Emerging Research"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Submit your research on trending topics to help advance conservation science"}),r.jsx(ne,{to:"/submit",className:"inline-flex items-center gap-2 px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Submit Research"})]})})]})}function Hae(){const[e,t]=p.useState(!0),[n,s]=p.useState(null),[a,i]=p.useState("24m"),[o,c]=p.useState(3);if(p.useEffect(()=>{async function u(){try{t(!0);const m=await eu.getCollaborationNetworks({time_range:a,min_papers:o});s(m.data)}catch(m){console.error("Failed to fetch collaboration networks:",m)}finally{t(!1)}}u()},[a,o]),e)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Analyzing collaboration networks..."})]})});const d=[{value:"6m",label:"6 Months"},{value:"12m",label:"12 Months"},{value:"24m",label:"24 Months"},{value:"60m",label:"5 Years"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("section",{className:"py-12 px-4 bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(ne,{to:"/analytics",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Yi,{className:"w-5 h-5"}),"Back to Analytics"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Qn,{className:"w-10 h-10 text-purple-600"}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:"Collaboration Networks"})]}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Discover co-authorship patterns and research collaboration networks in conservation science"}),n&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:n.summary.total_prolific_authors}),r.jsx("div",{className:"text-sm text-purple-700",children:"Prolific Authors"})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:n.summary.total_collaboration_pairs}),r.jsx("div",{className:"text-sm text-blue-700",children:"Collaboration Pairs"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:n.summary.avg_papers_per_author}),r.jsx("div",{className:"text-sm text-green-700",children:"Avg Papers/Author"})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:n.summary.recent_emerging_count}),r.jsx("div",{className:"text-sm text-orange-700",children:"New Collaborations"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Time Period:"}),r.jsx("div",{className:"flex gap-2",children:d.map(u=>r.jsx("button",{onClick:()=>i(u.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${a===u.value?"bg-primary-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:u.label},u.value))})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Min Papers:"}),r.jsxs("select",{value:o,onChange:u=>c(parseInt(u.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"2",children:"2+ papers"}),r.jsx("option",{value:"3",children:"3+ papers"}),r.jsx("option",{value:"5",children:"5+ papers"}),r.jsx("option",{value:"10",children:"10+ papers"})]})]})]})]})}),n&&n.networks.prolific_authors.length>0&&r.jsx("section",{className:"py-12 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(K$,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Most Prolific Authors"}),r.jsx("p",{className:"text-gray-600",children:"Researchers with the highest publication output"})]})]}),r.jsx("div",{className:"grid gap-4",children:n.networks.prolific_authors.map((u,m)=>r.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:u.name}),r.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-sm font-medium rounded-full",children:[u.paper_count," papers"]})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:u.description})]})}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:u.paper_count})," publications"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:u.region_count})," regions"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cr,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:u.framework_count})," frameworks"]})]}),u.latest_publication&&r.jsx("div",{className:"flex items-center gap-2 ml-auto",children:r.jsxs("span",{className:"text-gray-500 text-xs",children:["Latest: ",new Date(u.latest_publication).getFullYear()]})})]})]},m))})]})}),n&&n.networks.collaborative_authors.length>0&&r.jsx("section",{className:"py-12 px-4 bg-blue-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Qn,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Most Collaborative Authors"}),r.jsx("p",{className:"text-gray-600",children:"Researchers with the largest collaboration networks"})]})]}),r.jsx("div",{className:"grid gap-4",children:n.networks.collaborative_authors.map((u,m)=>r.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:u.name}),r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:[u.unique_collaborators," collaborators"]})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:u.description})]})}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qn,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:u.unique_collaborators})," unique collaborators"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:u.paper_count})," collaborative papers"]})]})]})]},m))})]})}),n&&n.networks.frequent_pairs.length>0&&r.jsx("section",{className:"py-12 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Ma,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Frequent Collaboration Pairs"}),r.jsx("p",{className:"text-gray-600",children:"Author pairs who frequently co-author papers together"})]})]}),r.jsx("div",{className:"grid gap-4",children:n.networks.frequent_pairs.map((u,m)=>r.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.author_1}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.author_2})]}),r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-full",children:[u.collaboration_count," papers"]})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:u.description})]})}),u.recent_papers&&u.recent_papers.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Recent Collaborative Papers:"}),r.jsx("ul",{className:"space-y-1",children:u.recent_papers.map((f,g)=>r.jsxs("li",{className:"text-sm text-gray-700 pl-4 relative before:content-[''] before:absolute before:left-0",children:[f,"..."]},g))})]})]},m))})]})}),n&&n.networks.recent_collaborations.length>0&&r.jsx("section",{className:"py-12 px-4 bg-orange-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Ct,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Emerging Collaborations"}),r.jsx("p",{className:"text-gray-600",children:"New co-authorship pairs in the last 6 months"})]})]}),r.jsx("div",{className:"grid gap-4",children:n.networks.recent_collaborations.map((u,m)=>r.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.author_1}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.author_2})]}),r.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-medium rounded-full flex items-center gap-1",children:[r.jsx(Ct,{className:"w-4 h-4"}),"New"]})]}),r.jsx("p",{className:"text-gray-600 mb-2",children:u.description}),u.latest_paper&&r.jsxs("p",{className:"text-sm text-gray-500",children:["Latest: ",u.latest_paper]})]})}),u.latest_date&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-3",children:r.jsxs("span",{children:["Published: ",u.latest_date]})})]},m))})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"How We Analyze Collaboration Networks"}),r.jsxs("div",{className:"space-y-3 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Data Source:"})," We analyze author information from all ",a==="6m"?"6":a==="12m"?"12":a==="24m"?"24":"60"," months of papers in the database to identify collaboration patterns."]}),r.jsx("p",{children:r.jsx("strong",{children:"Network Metrics:"})}),r.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Prolific Authors:"})," Researchers ranked by total number of publications"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Collaborative Authors:"})," Researchers ranked by number of unique co-authors"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Frequent Pairs:"})," Author pairs who have co-authored multiple papers together"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Emerging Collaborations:"})," New co-authorship pairs appearing in the last 6 months"]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Minimum Papers Filter:"})," You can adjust the minimum number of papers required for authors and pairs to appear in the results (currently set to ",o,"+ papers)."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Why This Matters:"})," Understanding collaboration networks helps identify research communities, potential collaboration opportunities, and influential researchers in conservation science."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Network Visualization:"})," Future versions will include interactive network graphs showing the connections between researchers and collaboration clusters."]})]})]})}),r.jsx("section",{className:"py-12 px-4 bg-gradient-to-br from-purple-50 to-blue-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx(Qn,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Build Your Research Network"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Connect with collaborators and submit your research to COMPASS ID"}),r.jsx(ne,{to:"/submit",className:"inline-flex items-center gap-2 px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Submit Research"})]})})]})}function qae(){const{user:e}=Ot(),t=Yt(),[n,s]=p.useState(""),[a,i]=p.useState("all"),[o,c]=p.useState("all"),[d,u]=p.useState("all"),[m,f]=p.useState("all"),[g,x]=p.useState(!1),[v,w]=p.useState("relevance"),[b,j]=p.useState(new Set),S=kz(),[_,k]=p.useState(!1),[A,P]=p.useState({name:"",description:"",category:"",scope:"",officialUrl:"",adoptionYear:"",leadOrganization:"",keyObjectives:"",submitterName:"",submitterEmail:"",submitterAffiliation:""}),E=(e==null?void 0:e.subscription_tier)==="premium"||(e==null?void 0:e.subscription_tier)==="enterprise"||(e==null?void 0:e.is_admin),T=[{id:"all",name:"All Categories",count:S.total},{id:"climate",name:"Climate Action",count:S.byCategory.climate},{id:"biodiversity",name:"Biodiversity",count:S.byCategory.biodiversity},{id:"development",name:"Development",count:S.byCategory.development},{id:"marine",name:"Marine & Oceans",count:S.byCategory.marine},{id:"forest",name:"Forests & Land Use",count:S.byCategory.forest}],M=[{id:"all",name:"All Levels",count:S.total},{id:"international",name:"International",count:S.byLevel.international},{id:"regional",name:"Regional",count:S.byLevel.regional},{id:"national",name:"National",count:S.byLevel.national},{id:"subnational",name:"Subnational/State",count:S.byLevel.subnational}],U=(z,X)=>{if(!e){t("/login");return}const le=new Set(b);le.has(z)?le.delete(z):le.add(z),j(le)},D=ar.filter(z=>{const X=n.toLowerCase(),le=n===""||z.name.toLowerCase().includes(X)||z.description.toLowerCase().includes(X)||z.keyObjectives.some(ce=>ce.toLowerCase().includes(X))||z.leadOrganizations.some(ce=>ce.toLowerCase().includes(X)),$=a==="all"||z.category===a,ae=o==="all"||z.level===o,G=d==="all"||z.geographicScope.countries.includes(d)||z.geographicScope.isGlobal&&d==="all",ie=m==="all"||z.geographicScope.regions.includes(m);return le&&$&&ae&&G&&ie}),B=z=>{z.preventDefault(),k(!1),P({name:"",description:"",category:"",scope:"",officialUrl:"",adoptionYear:"",leadOrganization:"",keyObjectives:"",submitterName:"",submitterEmail:"",submitterAffiliation:""})};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Policy Frameworks"}),r.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Explore global policy frameworks, treaties, and agreements that shape research priorities and implementation"}),r.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-gray-500",children:[r.jsxs("span",{children:[ar.length," frameworks indexed"]}),r.jsx("span",{children:""}),r.jsx("span",{children:"International to Subnational"}),r.jsx("span",{children:""}),r.jsx("span",{children:"Community verified"})]})]}),r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[r.jsx(sa,{className:"w-5 h-5"}),"Suggest Framework"]})})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("div",{className:"lg:w-64 flex-shrink-0",children:r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 sticky top-24",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search by COMPASS Metadata"}),r.jsxs("div",{className:"relative",children:[r.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:n,onChange:z=>s(z.target.value),placeholder:"Search frameworks, objectives, methods, geography...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Search across framework details, COMPASS metadata, targets, and mechanisms"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Categories"}),r.jsx("div",{className:"space-y-2",children:T.map(z=>r.jsxs("button",{onClick:()=>i(z.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${a===z.id?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50"}`,children:[r.jsx("span",{children:z.name}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full",children:z.count})]},z.id))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Framework Level"}),r.jsx("div",{className:"space-y-2",children:M.map(z=>r.jsxs("button",{onClick:()=>c(z.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${o===z.id?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50"}`,children:[r.jsx("span",{children:z.name}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full",children:z.count})]},z.id))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Country"}),r.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[r.jsx("button",{onClick:()=>{u("all"),f("all")},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${d==="all"?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50"}`,children:r.jsx("span",{children:"All Countries"})}),_z.map(z=>r.jsx("button",{onClick:()=>{u(z.id),f("all")},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${d===z.id?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50"}`,children:r.jsx("span",{children:z.name})},z.id))]})]}),d!=="all"&&BS.filter(z=>z.country===d).length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"State/Province"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("button",{onClick:()=>f("all"),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${m==="all"?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50"}`,children:r.jsx("span",{children:"All Regions"})}),BS.filter(z=>z.country===d).map(z=>r.jsx("button",{onClick:()=>f(z.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${m===z.id?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50"}`,children:r.jsx("span",{children:z.name})},z.id))]})]}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(mp,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Community Driven"}),r.jsx("p",{className:"text-xs text-blue-700",children:"Missing a framework? Submit it for community review and verification."})]})]})})]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",D.length," frameworks"]}),(n||a!=="all"||o!=="all"||d!=="all"||m!=="all")&&r.jsx("button",{onClick:()=>{s(""),i("all"),c("all"),u("all"),f("all")},className:"text-sm text-primary-600 hover:text-primary-700",children:"Clear filters"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Sort by:"}),r.jsxs("select",{value:v,onChange:z=>w(z.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"relevance",children:"Relevance"}),r.jsx("option",{value:"name",children:"Name A-Z"}),r.jsx("option",{value:"year",children:"Adoption Year"}),r.jsx("option",{value:"research",children:"Research Papers"})]})]})]})}),r.jsx("div",{className:"space-y-6",children:D.map(z=>r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(ti,{className:"w-6 h-6 text-primary-600 flex-shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:z.name}),z.verificationStatus==="verified"&&r.jsx(Ae,{className:"w-5 h-5 text-green-600",title:"Verified Framework"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[r.jsx("span",{children:z.leadOrganizations[0]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Adopted ",z.adoptionYear]}),r.jsx("span",{children:""}),r.jsx("span",{className:"capitalize",children:z.level})]}),r.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:z.description}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Key Objectives:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:z.keyObjectives.map((X,le)=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:X},le))})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cr,{className:"w-4 h-4"}),r.jsx("span",{className:"capitalize",children:z.level})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Qn,{className:"w-4 h-4"}),r.jsxs("span",{children:[z.participantCount," participants"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(hc,{className:"w-4 h-4"}),r.jsxs("span",{children:["Updated ",new Date(z.lastUpdated).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rd,{className:"w-4 h-4"}),r.jsx("span",{className:"capitalize",children:z.category})]})]})]})]})}),r.jsxs("div",{className:"ml-6 flex flex-col gap-2",children:[e&&r.jsx("button",{onClick:()=>U(z.id,z.name),className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors text-sm font-medium ${b.has(z.id)?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-primary-600 text-white hover:bg-primary-700"}`,children:b.has(z.id)?r.jsxs(r.Fragment,{children:[r.jsx(Ps,{className:"w-4 h-4"}),"Following"]}):r.jsxs(r.Fragment,{children:[r.jsx(ii,{className:"w-4 h-4"}),"Follow"]})}),r.jsxs("a",{href:z.officialUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[r.jsx(mb,{className:"w-4 h-4"}),"Official Site"]}),r.jsxs(ne,{to:`/search?framework=${encodeURIComponent(z.name)}`,className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[r.jsx(Dn,{className:"w-4 h-4"}),"Find Research"]}),r.jsxs(ne,{to:`/frameworks/${z.slug}`,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",title:"View detailed framework information",children:[r.jsx(mp,{className:"w-4 h-4"}),"Details"]}),r.jsxs(ne,{to:`/ai-assistant?framework=${encodeURIComponent(z.name)}&id=${z.id}`,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all text-sm font-medium",title:E?"Use AI Assistant for this framework":"Premium Feature - AI Assistant",onClick:X=>{e?E||(X.preventDefault(),t("/premium")):(X.preventDefault(),t("/login"))},children:[r.jsx(Ct,{className:"w-4 h-4"}),"AI Assistant",!E&&r.jsx("span",{className:"ml-1 text-xs bg-yellow-400 text-yellow-900 px-1.5 py-0.5 rounded-full font-bold",children:"PRO"})]})]})]})},z.id))}),D.length===0&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[r.jsx(ti,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No frameworks found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search terms or filters, or suggest a new framework."}),r.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[r.jsx(sa,{className:"w-5 h-5"}),"Suggest Framework"]})]})]})]})}),_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Suggest a Framework"}),r.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Rt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(mp,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Community Review Process"}),r.jsx("p",{className:"text-sm text-yellow-700",children:"Submitted frameworks undergo community review and verification before being added to the database. Please provide accurate and complete information."})]})]})}),r.jsxs("form",{onSubmit:B,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Framework Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Framework Name *"}),r.jsx("input",{type:"text",required:!0,value:A.name,onChange:z=>P({...A,name:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Paris Agreement"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),r.jsxs("select",{required:!0,value:A.category,onChange:z=>P({...A,category:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"Select category"}),r.jsx("option",{value:"climate",children:"Climate Action"}),r.jsx("option",{value:"biodiversity",children:"Biodiversity Conservation"}),r.jsx("option",{value:"development",children:"Sustainable Development"}),r.jsx("option",{value:"marine",children:"Marine & Oceans"}),r.jsx("option",{value:"forest",children:"Forests & Land Use"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Geographic Scope *"}),r.jsxs("select",{required:!0,value:A.scope,onChange:z=>P({...A,scope:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"Select scope"}),r.jsx("option",{value:"international",children:"International"}),r.jsx("option",{value:"regional",children:"Regional"}),r.jsx("option",{value:"national",children:"National"}),r.jsx("option",{value:"subnational",children:"Subnational"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adoption Year"}),r.jsx("input",{type:"number",min:"1900",max:"2024",value:A.adoptionYear,onChange:z=>P({...A,adoptionYear:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"2015"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Organization *"}),r.jsx("input",{type:"text",required:!0,value:A.leadOrganization,onChange:z=>P({...A,leadOrganization:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., United Nations"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Official URL"}),r.jsx("input",{type:"url",value:A.officialUrl,onChange:z=>P({...A,officialUrl:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://..."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsx("textarea",{required:!0,rows:4,value:A.description,onChange:z=>P({...A,description:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Provide a clear description of the framework's purpose and scope..."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Objectives"}),r.jsx("textarea",{rows:3,value:A.keyObjectives,onChange:z=>P({...A,keyObjectives:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"List main objectives, separated by commas..."})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),r.jsx("input",{type:"text",required:!0,value:A.submitterName,onChange:z=>P({...A,submitterName:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),r.jsx("input",{type:"email",required:!0,value:A.submitterEmail,onChange:z=>P({...A,submitterEmail:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Affiliation"}),r.jsx("input",{type:"text",value:A.submitterAffiliation,onChange:z=>P({...A,submitterAffiliation:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"University, organization, or company"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Submit for Review"})]})]})]})})})]})}const Vae={"paris-agreement":{targets:[{title:"Temperature Goal",description:"Keep global temperature rise this century well below 2C and pursue efforts to limit to 1.5C",deadline:"2100",progress:35},{title:"Emissions Peak",description:"Reach global peaking of greenhouse gas emissions as soon as possible",deadline:"2025",progress:60},{title:"Net Zero",description:"Achieve climate neutrality (net-zero emissions) in the second half of this century",deadline:"2050",progress:25},{title:"Climate Finance",description:"Mobilize $100 billion per year by 2020 for developing countries",deadline:"2020",progress:80}],mechanisms:[{name:"Nationally Determined Contributions (NDCs)",description:"Country-specific climate action plans updated every 5 years with progressively ambitious targets"},{name:"Global Stocktake",description:"Assessment of collective progress toward goals every 5 years starting in 2023"},{name:"Enhanced Transparency Framework",description:"Unified system for reporting emissions and tracking progress"},{name:"Adaptation Communications",description:"Regular updates on adaptation priorities, plans, and needs"}],reportingRequirements:["Biennial Transparency Reports on emissions and progress","National Inventory Reports on greenhouse gas emissions","Nationally Determined Contributions (NDCs) every 5 years","Long-term Low Emission Development Strategies"],compassMetadata:{geographic:["Global","All countries","National implementation","Subnational actions"],taxonomic:["All ecosystems","Human systems","Climate systems","Agricultural systems","Forest ecosystems","Ocean systems"],temporal:["2015-2030 (First cycle)","2030-2050 (Net-zero pathway)","Long-term to 2100"],methods:["Climate modeling","Emissions analysis","Policy evaluation","Economic assessment","Impact assessment","Vulnerability studies","Mitigation research","Adaptation planning"]},relatedFrameworks:[{id:5,name:"UN Framework Convention on Climate Change",slug:"unfccc"},{id:3,name:"UN Sustainable Development Goals",slug:"sdgs"},{id:2,name:"Convention on Biological Diversity",slug:"cbd"}],researchGaps:["Regional adaptation strategies for small island states","Carbon sequestration in tropical forests","Just transition pathways for fossil fuel dependent economies"],implementationCaseStudies:[{title:"European Union Green Deal",country:"EU",description:"Comprehensive policy framework to achieve climate neutrality by 2050"},{title:"Costa Rica Carbon Neutrality",country:"Costa Rica",description:"National strategy to achieve carbon neutrality by 2050 through reforestation and renewable energy"}],officialDocuments:[{title:"Paris Agreement Full Text",url:"https://unfccc.int/files/essential_background/convention/application/pdf/english_paris_agreement.pdf"},{title:"NDC Registry",url:"https://unfccc.int/NDCREG"},{title:"Technical Dialogue Summary",url:"#"}]},cbd:{targets:[{title:"30x30 Target",description:"Protect and conserve 30% of land and sea areas by 2030",deadline:"2030",progress:17},{title:"Ecosystem Restoration",description:"Restore 30% of degraded ecosystems by 2030",deadline:"2030",progress:12},{title:"Extinction Prevention",description:"Reduce extinction risk and rate by 2030",deadline:"2030",progress:25},{title:"Genetic Diversity",description:"Maintain genetic diversity of wild and domesticated species",deadline:"2030",progress:40}],mechanisms:[{name:"National Biodiversity Strategies and Action Plans (NBSAPs)",description:"Country-level implementation plans for biodiversity conservation"},{name:"Cartagena Protocol on Biosafety",description:"Regulation of living modified organisms from modern biotechnology"},{name:"Nagoya Protocol",description:"Access and benefit-sharing from genetic resources"},{name:"Protected Area Networks",description:"Establishment and management of protected areas"}],reportingRequirements:["National Reports every 4 years","National Biodiversity Strategies and Action Plans","Financial reporting on biodiversity expenditure","Clearing-House Mechanism updates"],compassMetadata:{geographic:["Global","National","Protected areas","Ecosystem-specific","Transboundary"],taxonomic:["All species","Endangered species","Ecosystems","Genetic diversity","Microorganisms"],temporal:["1992-2010 (Initial)","2011-2020 (Aichi Targets)","2022-2030 (GBF)","2050 Vision"],methods:["Biodiversity assessment","Conservation planning","Ecosystem monitoring","Species surveys","Genetic analysis","Protected area management","Restoration ecology"]},relatedFrameworks:[{id:4,name:"Kunming-Montreal Global Biodiversity Framework",slug:"gbf"},{id:7,name:"CITES",slug:"cites"},{id:3,name:"UN Sustainable Development Goals",slug:"sdgs"}],researchGaps:["Biodiversity-climate change interactions","Indigenous knowledge integration in conservation","Valuation of ecosystem services"],implementationCaseStudies:[{title:"Amazon Conservation Corridor",country:"Brazil",description:"Network of protected areas and sustainable use zones in the Amazon"},{title:"Great Green Wall",country:"Africa",description:"Pan-African initiative to restore degraded landscapes across the Sahel"}],officialDocuments:[{title:"CBD Convention Text",url:"https://www.cbd.int/doc/legal/cbd-en.pdf"},{title:"Kunming-Montreal Framework",url:"https://www.cbd.int/gbf/"},{title:"Aichi Targets Assessment",url:"#"}]},sdgs:{targets:[{title:"Zero Poverty",description:"End poverty in all its forms everywhere (SDG 1)",deadline:"2030",progress:45},{title:"Climate Action",description:"Take urgent action to combat climate change (SDG 13)",deadline:"2030",progress:30},{title:"Life on Land",description:"Protect, restore and promote sustainable use of terrestrial ecosystems (SDG 15)",deadline:"2030",progress:35},{title:"Life Below Water",description:"Conserve and sustainably use the oceans, seas and marine resources (SDG 14)",deadline:"2030",progress:28}],mechanisms:[{name:"Voluntary National Reviews",description:"Country-led evaluations of progress on SDG implementation"},{name:"High-level Political Forum",description:"Central UN platform for follow-up and review of the 2030 Agenda"},{name:"Indicator Framework",description:"231 unique indicators to measure progress across 169 targets"}],reportingRequirements:["Annual progress reports","Statistical indicators","National reviews","Voluntary National Reviews at HLPF"],compassMetadata:{geographic:["Global","National","Regional","Local"],taxonomic:["Human systems","Natural ecosystems","Agricultural systems","Urban systems"],temporal:["2015-2030","Annual targets"],methods:["Statistical analysis","Policy evaluation","Impact assessment","Systems analysis","Socio-economic modeling"]},relatedFrameworks:[{id:1,name:"Paris Agreement",slug:"paris-agreement"},{id:2,name:"Convention on Biological Diversity",slug:"cbd"}],researchGaps:["Interlinkages between SDGs","Trade-offs in SDG implementation","Localization of SDGs"],implementationCaseStudies:[{title:"Rwanda SDG Integration",country:"Rwanda",description:"Integrating SDGs into national development plans"},{title:"Denmark SDG Dashboard",country:"Denmark",description:"Digital monitoring and tracking system for SDG progress"}],officialDocuments:[{title:"2030 Agenda for Sustainable Development",url:"https://sdgs.un.org/2030agenda"},{title:"SDG Indicators",url:"https://unstats.un.org/sdgs/indicators/indicators-list/"}]},gbf:{targets:[{title:"4 Goals and 23 Targets for 2030",description:"Comprehensive biodiversity goals",deadline:"2030",progress:15}],mechanisms:[{name:"National action plans",description:"Country-level biodiversity strategies"},{name:"30x30 protection target",description:"Protect 30% of land and sea by 2030"}],reportingRequirements:["National reports","Progress monitoring","Financial tracking"],compassMetadata:{geographic:["Global","National","Indigenous territories"],taxonomic:["All biodiversity","Threatened species","Ecosystem services"],temporal:["2022-2030","2050 vision"],methods:["Conservation biology","Restoration ecology","Social-ecological systems"]},relatedFrameworks:[{id:2,name:"Convention on Biological Diversity",slug:"cbd"}],researchGaps:["Implementation pathways","Financing mechanisms"],implementationCaseStudies:[],officialDocuments:[{title:"GBF Text",url:"https://www.cbd.int/gbf/"}]},unfccc:{targets:[{title:"Stabilize GHG concentrations",description:"Prevent dangerous anthropogenic interference with climate system",deadline:"Ongoing",progress:40}],mechanisms:[{name:"Conference of Parties (COP)",description:"Annual climate negotiations"},{name:"Kyoto Protocol",description:"Legally binding emission reduction targets"},{name:"Paris Agreement",description:"Universal climate agreement"}],reportingRequirements:["National communications","Biennial reports","Inventory submissions"],compassMetadata:{geographic:["Global","National","Regional cooperation"],taxonomic:["Climate systems","All ecosystems","Human settlements"],temporal:["1992-ongoing","Long-term stabilization"],methods:["Climate modeling","Emissions analysis","Vulnerability assessment"]},relatedFrameworks:[{id:1,name:"Paris Agreement",slug:"paris-agreement"}],researchGaps:["Adaptation finance","Loss and damage mechanisms"],implementationCaseStudies:[],officialDocuments:[{title:"UNFCCC Text",url:"https://unfccc.int/"}]},"us-esa":{targets:[{title:"Prevent Extinction",description:"Protect and recover endangered and threatened species",deadline:"Ongoing",progress:55},{title:"Critical Habitat Protection",description:"Designate and protect critical habitats",deadline:"Ongoing",progress:60}],mechanisms:[{name:"Listing Process",description:"Formal process to list species as endangered or threatened"},{name:"Recovery Plans",description:"Species-specific recovery strategies"},{name:"Section 7 Consultation",description:"Federal agency consultation for actions affecting listed species"}],reportingRequirements:["5-year status reviews","Annual recovery reports","Candidate species assessments"],compassMetadata:{geographic:["United States","US territories"],taxonomic:["Endangered species","Threatened species","Critical habitats"],temporal:["1973-ongoing"],methods:["Population monitoring","Habitat assessment","Threat analysis","Recovery planning"]},relatedFrameworks:[{id:7,name:"CITES",slug:"cites"}],researchGaps:["Climate change impacts on recovery","Ecosystem-level recovery approaches"],implementationCaseStudies:[{title:"Bald Eagle Recovery",country:"USA",description:"Successful recovery from near extinction to delisting"}],officialDocuments:[{title:"ESA Full Text",url:"https://www.fws.gov/law/endangered-species-act"}]},"california-ceqa":{targets:[{title:"Environmental Review",description:"Assess environmental impacts of state and local agency actions",deadline:"Ongoing",progress:70}],mechanisms:[{name:"Environmental Impact Reports (EIRs)",description:"Detailed analysis of significant environmental effects"},{name:"Mitigation Measures",description:"Requirements to reduce or avoid environmental impacts"},{name:"Public Review Process",description:"Public participation in environmental review"}],reportingRequirements:["EIRs for significant projects","Mitigation monitoring","Public notices"],compassMetadata:{geographic:["California"],taxonomic:["All environmental resources"],temporal:["1970-ongoing"],methods:["Environmental impact assessment","Cumulative impact analysis","Alternatives analysis"]},relatedFrameworks:[{id:42,name:"National Environmental Policy Act",slug:"us-nepa"}],researchGaps:["Climate change in CEQA review","Cumulative impact methodologies"],implementationCaseStudies:[],officialDocuments:[{title:"CEQA Guidelines",url:"https://opr.ca.gov/ceqa/"}]}},Kae=e=>Vae[e]||{targets:[],mechanisms:[],reportingRequirements:[],compassMetadata:{geographic:[],taxonomic:[],temporal:[],methods:[]},relatedFrameworks:[],researchGaps:[],implementationCaseStudies:[],officialDocuments:[]},Z2=Nt.create({baseURL:Sr("/api/ai"),headers:{"Content-Type":"application/json"}}),Zae=async({prompt:e,context:t,section:n,template:s,maxTokens:a=1024})=>{var i;try{return(await Z2.post("/generate",{prompt:e,context:t,section:n,template:s,maxTokens:a})).data}catch(o){throw console.error("AI Generation Error:",o),((i=o.response)==null?void 0:i.data)||{success:!1,error:"Failed to generate text"}}},Y2=async({title:e,abstract:t,existingTags:n=[]})=>{var s;try{return(await Z2.post("/suggestions",{title:e,abstract:t,existingTags:n})).data}catch(a){throw console.error("AI Suggestions Error:",a),((s=a.response)==null?void 0:s.data)||{success:!1,error:"Failed to generate suggestions"}}},Q2=async({question:e,papers:t=[],frameworks:n=[],geography:s=[],taxonomy:a=[],conversationHistory:i=[]})=>{var o;try{return(await Z2.post("/chat",{question:e,papers:t,frameworks:n,geography:s,taxonomy:a,conversationHistory:i})).data}catch(c){throw console.error("AI Chat Error:",c),((o=c.response)==null?void 0:o.data)||{success:!1,error:"Failed to generate chat response"}}};function Yae({bounds:e}){const t=JP();return p.useEffect(()=>{e&&(t.setMaxBounds(e),t.fitBounds(e),t.setMinZoom(2),t.setMaxZoom(10))},[e,t]),null}function Qae({framework:e}){const[t,n]=p.useState([]),[s,a]=p.useState(!0),[i,o]=p.useState("all");p.useEffect(()=>{const v=c(e);n(v),a(!1)},[e]);const c=v=>{const w=[];return v.slug==="paris-agreement"?[{name:"China",lat:35.8617,lng:104.1954,status:"active",commitment:"Peak emissions before 2030, carbon neutrality before 2060",ndc:"Enhanced 2021",emissions:"27% of global"},{name:"United States",lat:37.0902,lng:-95.7129,status:"active",commitment:"50-52% reduction by 2030 (vs 2005), net-zero by 2050",ndc:"Rejoined 2021, updated NDC",emissions:"11% of global"},{name:"European Union",lat:50.8503,lng:4.3517,status:"active",commitment:"55% reduction by 2030 (vs 1990), climate neutral by 2050",ndc:"European Climate Law",emissions:"6.4% of global"},{name:"India",lat:20.5937,lng:78.9629,status:"active",commitment:"45% emission intensity reduction by 2030, net-zero by 2070",ndc:"Enhanced 2022",emissions:"6.6% of global"},{name:"Russia",lat:61.524,lng:105.3188,status:"active",commitment:"30% reduction by 2030 (vs 1990), carbon neutrality by 2060",ndc:"Submitted 2020",emissions:"4.7% of global"},{name:"Japan",lat:36.2048,lng:138.2529,status:"active",commitment:"46% reduction by 2030 (vs 2013), carbon neutral by 2050",ndc:"Updated 2021",emissions:"2.5% of global"},{name:"Brazil",lat:-14.235,lng:-51.9253,status:"active",commitment:"50% reduction by 2030 (vs 2005), net-zero by 2050",ndc:"Updated 2022",notes:"Focus on deforestation"},{name:"Indonesia",lat:-.7893,lng:113.9213,status:"active",commitment:"31.89% reduction by 2030, net-zero by 2060",ndc:"Enhanced 2022",notes:"Conditional targets with support"},{name:"Canada",lat:56.1304,lng:-106.3468,status:"active",commitment:"40-45% reduction by 2030 (vs 2005), net-zero by 2050",ndc:"Updated 2021",emissions:"1.5% of global"},{name:"South Korea",lat:35.9078,lng:127.7669,status:"active",commitment:"40% reduction by 2030 (vs 2018), carbon neutral by 2050",ndc:"Enhanced 2021",emissions:"1.4% of global"},{name:"United Kingdom",lat:55.3781,lng:-3.436,status:"active",commitment:"68% reduction by 2030 (vs 1990), net-zero by 2050 (legally binding)",ndc:"Climate Change Act 2008",emissions:"0.9% of global"},{name:"South Africa",lat:-30.5595,lng:22.9375,status:"active",commitment:"Peak emissions 2025, net-zero by 2050",ndc:"Updated 2021",notes:"Just Energy Transition Partnership"},{name:"Mexico",lat:23.6345,lng:-102.5528,status:"active",commitment:"35% reduction by 2030 (unconditional), net-zero by 2050",ndc:"Updated 2022",emissions:"1.3% of global"},{name:"Australia",lat:-25.2744,lng:133.7751,status:"active",commitment:"43% reduction by 2030 (vs 2005), net-zero by 2050",ndc:"Updated 2022",emissions:"1.1% of global"},{name:"Saudi Arabia",lat:23.8859,lng:45.0792,status:"active",commitment:"Net-zero by 2060 (via circular carbon economy)",ndc:"Updated 2021",emissions:"1.6% of global"}]:v.slug==="cbd"?[{name:"Brazil",lat:-14.235,lng:-51.9253,status:"megadiverse",biodiversity:"20% of world species, Amazon rainforest",targets:"30x30 commitment, current: 30.6% protected"},{name:"Indonesia",lat:-.7893,lng:113.9213,status:"megadiverse",biodiversity:"12% of mammals, 16% of reptiles",targets:"30x30 commitment, Coral Triangle Initiative"},{name:"Colombia",lat:4.5709,lng:-74.2973,status:"megadiverse",biodiversity:"#1 bird diversity (1,900+ species)",targets:"30x30 commitment, 31% protected areas"},{name:"Mexico",lat:23.6345,lng:-102.5528,status:"megadiverse",biodiversity:"10-12% of world biodiversity",targets:"30x30 commitment, current: 24% protected"},{name:"Peru",lat:-9.19,lng:-75.0152,status:"megadiverse",biodiversity:"2nd in birds, 4th in butterflies",targets:"30x30 commitment, Amazon conservation"},{name:"Ecuador",lat:-1.8312,lng:-78.1834,status:"megadiverse",biodiversity:"Galpagos, 10% of vascular plants",targets:"30x30 commitment, Yasun protection"},{name:"India",lat:20.5937,lng:78.9629,status:"megadiverse",biodiversity:"4 biodiversity hotspots, 7-8% species",targets:"30x30 commitment, current: 17% protected"},{name:"China",lat:35.8617,lng:104.1954,status:"megadiverse",biodiversity:"10% of plant species, 14% vertebrates",targets:"30x30 commitment, GBF host country"},{name:"Australia",lat:-25.2744,lng:133.7751,status:"megadiverse",biodiversity:"600K+ species, 80%+ endemic",targets:"30x30 commitment, current: 21% protected"},{name:"Madagascar",lat:-18.7669,lng:46.8691,status:"megadiverse",biodiversity:"90% species endemic, 5% world species",targets:"30x30 commitment, REDD+ projects"},{name:"Philippines",lat:12.8797,lng:121.774,status:"megadiverse",biodiversity:"5% world species, island endemism",targets:"30x30 commitment, marine protection"},{name:"Malaysia",lat:4.2105,lng:101.9758,status:"megadiverse",biodiversity:"20% world animal species",targets:"30x30 commitment, Heart of Borneo"},{name:"South Africa",lat:-30.5595,lng:22.9375,status:"megadiverse",biodiversity:"3 biodiversity hotspots, 10% plants",targets:"30x30 commitment, current: 9% protected"},{name:"Democratic Republic of Congo",lat:-4.0383,lng:21.7587,status:"megadiverse",biodiversity:"Congo Basin, 2nd largest rainforest",targets:"30x30 commitment, CAFI partner"}]:v.slug==="sustainable-development-goals"?[{name:"Finland",lat:61.9241,lng:25.7482,status:"leading",score:"86.8",rank:"#1 globally (2024)",goals:"Strong on climate, education, institutions"},{name:"Sweden",lat:60.1282,lng:18.6435,status:"leading",score:"85.9",rank:"#2 globally (2024)",goals:"Leading in gender equality, innovation"},{name:"Denmark",lat:56.2639,lng:9.5018,status:"leading",score:"85.6",rank:"#3 globally (2024)",goals:"Strong renewable energy, low inequality"},{name:"Germany",lat:51.1657,lng:10.4515,status:"leading",score:"83.4",rank:"#6 globally (2024)",goals:"Industrial innovation, green transition"},{name:"Norway",lat:60.472,lng:8.4689,status:"leading",score:"82.3",rank:"#10 globally (2024)",goals:"High HDI, clean energy leader"},{name:"Japan",lat:36.2048,lng:138.2529,status:"leading",score:"80.1",rank:"#21 globally (2024)",goals:"Innovation, infrastructure, challenges on gender"},{name:"United States",lat:37.0902,lng:-95.7129,status:"progressing",score:"76.2",rank:"#41 globally (2024)",goals:"Challenges on inequality, climate action"},{name:"China",lat:35.8617,lng:104.1954,status:"progressing",score:"72.6",rank:"#63 globally (2024)",goals:"Poverty reduction success, renewable growth"},{name:"Brazil",lat:-14.235,lng:-51.9253,status:"progressing",score:"71.5",rank:"#71 globally (2024)",goals:"Deforestation challenges, social programs"},{name:"South Africa",lat:-30.5595,lng:22.9375,status:"progressing",score:"66.8",rank:"#110 globally (2024)",goals:"High inequality, unemployment challenges"},{name:"India",lat:20.5937,lng:78.9629,status:"challenges",score:"64.0",rank:"#117 globally (2024)",goals:"Rapid growth, nutrition & gender gaps"},{name:"Nigeria",lat:9.082,lng:8.6753,status:"challenges",score:"53.0",rank:"#167 globally (2024)",goals:"Major poverty, health, education challenges"},{name:"Kenya",lat:-.0236,lng:37.9062,status:"challenges",score:"61.3",rank:"#130 globally (2024)",goals:"Climate adaptation, health system gaps"}]:v.slug==="ramsar"?[{name:"United Kingdom",lat:55.3781,lng:-3.436,status:"active",sites:"175 sites",area:"1.3M ha",type:"Coastal, peatlands, estuaries"},{name:"Mexico",lat:23.6345,lng:-102.5528,status:"active",sites:"142 sites",area:"8.6M ha",type:"Mangroves, lagoons, coral reefs"},{name:"Spain",lat:40.4637,lng:-3.7492,status:"active",sites:"75 sites",area:"304K ha",type:"Mediterranean wetlands, deltas"},{name:"Australia",lat:-25.2744,lng:133.7751,status:"active",sites:"67 sites",area:"8.5M ha",type:"Kakadu, Great Barrier Reef lagoons"},{name:"Canada",lat:56.1304,lng:-106.3468,status:"active",sites:"37 sites",area:"13.1M ha",type:"Prairie potholes, Arctic wetlands"},{name:"Bolivia",lat:-16.2902,lng:-63.5887,status:"active",sites:"11 sites",area:"14.8M ha",type:"Pantanal, Andean high-altitude lakes"},{name:"China",lat:35.8617,lng:104.1954,status:"active",sites:"82 sites",area:"7.3M ha",type:"Yangtze floodplains, coastal wetlands"},{name:"India",lat:20.5937,lng:78.9629,status:"active",sites:"82 sites",area:"1.4M ha",type:"Mangroves, lakes, river deltas"},{name:"Brazil",lat:-14.235,lng:-51.9253,status:"active",sites:"27 sites",area:"25.3M ha",type:"Pantanal (world's largest), Amazon"},{name:"Netherlands",lat:52.1326,lng:5.2913,status:"active",sites:"55 sites",area:"820K ha",type:"Wadden Sea, polders, coastal"}]:v.implementationCaseStudies&&v.implementationCaseStudies.length>0?v.implementationCaseStudies.map(b=>{const j=d(b.country||b.location);return j?{name:b.country||b.location,lat:j.lat,lng:j.lng,status:"implementation",title:b.title,description:b.description,year:b.year}:null}).filter(Boolean):w},d=v=>({Brazil:{lat:-14.235,lng:-51.9253},China:{lat:35.8617,lng:104.1954},India:{lat:20.5937,lng:78.9629},"United States":{lat:37.0902,lng:-95.7129},Kenya:{lat:-.0236,lng:37.9062},"Costa Rica":{lat:9.7489,lng:-83.7534},Australia:{lat:-25.2744,lng:133.7751},Germany:{lat:51.1657,lng:10.4515},Various:{lat:20,lng:0}})[v]||null,u=()=>{if(t.length===0)return[[-60,-180],[75,180]];const v=t.map(k=>k.lat),w=t.map(k=>k.lng),b=Math.min(...v)-10,j=Math.max(...v)+10,S=Math.min(...w)-15,_=Math.max(...w)+15;return[[b,S],[j,_]]},m=v=>{switch(v){case"active":return"#10B981";case"megadiverse":return"#8B5CF6";case"leading":return"#3B82F6";case"progressing":return"#F59E0B";case"challenges":return"#EF4444";case"implementation":return"#06B6D4";default:return"#6B7280"}},f=v=>{switch(v){case"megadiverse":return 10;case"leading":return 12;case"active":return 8;case"progressing":return 8;case"challenges":return 6;default:return 7}},g=i==="all"?t:t.filter(v=>v.status===i),x=[...new Set(t.map(v=>v.status))];return s?r.jsx("div",{className:"w-full h-96 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx("div",{className:"text-gray-500",children:"Loading map..."})}):t.length===0?r.jsx("div",{className:"w-full h-96 bg-gray-50 rounded-lg border border-gray-200 flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-2",children:"No geographic data available for this framework yet."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Check the Implementation and Resources tabs for case studies and documentation."})]})}):r.jsxs("div",{className:"space-y-4",children:[x.length>1&&r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsxs("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Countries (",t.length,")"]}),x.map(v=>r.jsxs("button",{onClick:()=>o(v),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${i===v?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:i===v?{backgroundColor:m(v)}:{},children:[v," (",t.filter(w=>w.status===v).length,")"]},v))]}),r.jsx("div",{className:"w-full h-[600px] rounded-lg overflow-hidden border border-gray-200 shadow-lg",children:r.jsxs(Xo,{center:[20,0],zoom:2,minZoom:2,maxZoom:10,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,maxBoundsViscosity:1,children:[r.jsx(el,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(Yae,{bounds:u()}),g.map((v,w)=>r.jsx(Pj,{center:[v.lat,v.lng],radius:f(v.status),fillColor:m(v.status),color:"#fff",weight:2,opacity:1,fillOpacity:.8,children:r.jsx(Aj,{children:r.jsxs("div",{className:"p-2 min-w-[200px]",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-base",children:v.name}),v.commitment&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Climate Commitment"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.commitment})]}),v.ndc&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"NDC Status"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.ndc})]}),v.emissions&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Global Emissions"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.emissions})]}),v.biodiversity&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Key Biodiversity"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.biodiversity})]}),v.targets&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Conservation Target"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.targets})]}),v.score&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"SDG Index Score"}),r.jsxs("p",{className:"text-sm text-gray-900",children:[v.score,"/100 (",v.rank,")"]})]}),v.goals&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Key Progress Areas"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.goals})]}),v.sites&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Wetland Sites"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.sites}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Total area: ",v.area]})]}),v.type&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Wetland Types"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.type})]}),v.title&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Implementation"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.title}),v.description&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:v.description})]}),r.jsx("div",{className:"mt-2 px-2 py-1 rounded text-xs font-medium text-white inline-block capitalize",style:{backgroundColor:m(v.status)},children:v.status})]})})},w))]})}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Map Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[e.slug==="paris-agreement"&&r.jsx("p",{className:"text-gray-700",children:"Shows major countries party to the Paris Agreement with their net-zero commitments and NDC (Nationally Determined Contributions) status. Click on each country to see their specific climate targets and implementation timeline."}),e.slug==="cbd"&&r.jsx("p",{className:"text-gray-700",children:"Highlights megadiverse countries that are critical to global biodiversity conservation. These nations contain the majority of Earth's species and are key to achieving the 30x30 target (protect 30% of land and sea by 2030)."}),e.slug==="sustainable-development-goals"&&r.jsx("p",{className:"text-gray-700",children:"Displays countries by their SDG implementation progress based on the latest SDG Index scores. Colors indicate progress level: leading (blue), progressing (amber), or facing challenges (red)."}),e.slug==="ramsar"&&r.jsx("p",{className:"text-gray-700",children:"Shows countries with significant Ramsar wetland sites. Numbers indicate designated sites and total protected wetland area."}),!["paris-agreement","cbd","sustainable-development-goals","ramsar"].includes(e.slug)&&r.jsxs("p",{className:"text-gray-700",children:["Displays countries with documented implementation activities for ",e.name,". Click markers for detailed information about each implementation case."]})]})]})]})}const Jae=(e,t)=>{var n;return{...e,targets:t.targets.length>0?t.targets:[{title:"Primary Goal",description:e.keyObjectives[0]||"Framework implementation",deadline:"2030",progress:50}],mechanisms:t.mechanisms.length>0?t.mechanisms:[{name:"Implementation Framework",description:"National and regional implementation strategies"}],reportingRequirements:t.reportingRequirements.length>0?t.reportingRequirements:["Regular progress reports","Compliance monitoring"],compassMetadata:((n=t.compassMetadata.geographic)==null?void 0:n.length)>0?t.compassMetadata:{geographic:e.geographicScope.isGlobal?["Global"]:["National"],taxonomic:["Conservation targets"],temporal:[`${e.adoptionYear}-ongoing`],methods:["Policy analysis","Implementation monitoring"]},relatedFrameworks:t.relatedFrameworks.length>0?t.relatedFrameworks:[],researchGaps:t.researchGaps.length>0?t.researchGaps:["Implementation pathways","Effectiveness evaluation"],implementationCaseStudies:t.implementationCaseStudies.length>0?t.implementationCaseStudies:[{title:"Implementation Example",country:"Various",description:"National and regional implementation approaches"}],officialDocuments:t.officialDocuments.length>0?t.officialDocuments:[{title:"Official Website",url:e.officialUrl}]}};function Xae(){var A,P;const{slug:e}=ul(),t=Yt(),{user:n}=Ot(),[s,a]=p.useState(!1),[i,o]=p.useState("overview"),[c,d]=p.useState(!1),[u,m]=p.useState([]),[f,g]=p.useState(""),[x,v]=p.useState(!1),w=Sz(e),b=Kae(e),j=w?Jae(w,b):null;if(!j)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Framework Not Found"}),r.jsx(ne,{to:"/frameworks",className:"text-primary-600 hover:text-primary-700",children:"Back to Frameworks"})]})});const S=()=>{if(!n){t("/login");return}a(!s)},_=async()=>{var T;if(!f.trim()||x)return;const E=f.trim();g(""),m(M=>[...M,{role:"user",content:E}]),v(!0);try{const M=`Framework: ${j.name}
Description: ${j.description}
Targets: ${(T=j.targets)==null?void 0:T.map(D=>D.title).join(", ")}`,U=await Q2(E,M);m(D=>[...D,{role:"assistant",content:U}])}catch(M){console.error("Error sending chat message:",M),m(U=>[...U,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{v(!1)}},k=[{id:"overview",name:"Overview",icon:ti},{id:"map",name:"Map",icon:cr},{id:"targets",name:"Targets & Progress",icon:en},{id:"research",name:"Research",icon:Cr},{id:"implementation",name:"Implementation",icon:Wt},{id:"methodology",name:"Methodology",icon:Ae},{id:"resources",name:"Resources",icon:bt}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsxs(ne,{to:"/frameworks",className:"hover:text-primary-600 flex items-center gap-1",children:[r.jsx(Yi,{className:"w-4 h-4"}),"Frameworks"]}),r.jsx("span",{children:"/"}),r.jsx("span",{className:"text-gray-900",children:j.name})]})})}),r.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-700 text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-8",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("h1",{className:"text-4xl font-bold",children:j.name}),j.verificationStatus==="verified"&&r.jsx(Ae,{className:"w-8 h-8 text-green-300",title:"Verified Framework"})]}),r.jsx("p",{className:"text-xl text-primary-50 mb-6 leading-relaxed",children:j.description}),r.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-primary-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ec,{className:"w-5 h-5"}),r.jsx("span",{children:j.leadOrganizations[0]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"w-5 h-5"}),r.jsxs("span",{children:["Adopted ",j.adoptionYear]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qn,{className:"w-5 h-5"}),r.jsxs("span",{children:[j.participantCount," participants"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"w-5 h-5"}),r.jsx("span",{className:"capitalize",children:j.level})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[n&&r.jsx("button",{onClick:S,className:`flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors font-medium ${s?"bg-white/20 hover:bg-white/30 text-white":"bg-white text-primary-700 hover:bg-primary-50"}`,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Ps,{className:"w-5 h-5"}),"Following"]}):r.jsxs(r.Fragment,{children:[r.jsx(ii,{className:"w-5 h-5"}),"Follow"]})}),r.jsxs("a",{href:j.officialUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-white font-medium",children:[r.jsx(mb,{className:"w-5 h-5"}),"Official Website"]}),r.jsxs(ne,{to:`/search?framework=${encodeURIComponent(j.name)}`,className:"flex items-center justify-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-white font-medium",children:[r.jsx(Cr,{className:"w-5 h-5"}),"Find Research"]}),r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-white font-medium",children:[r.jsx(zi,{className:"w-5 h-5"}),"AI Assistant"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8 pt-8 border-t border-primary-500",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold",children:((A=j.mechanisms)==null?void 0:A.length)||0}),r.jsx("div",{className:"text-primary-200 text-sm",children:"Implementation Mechanisms"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold",children:((P=j.targets)==null?void 0:P.length)||0}),r.jsx("div",{className:"text-primary-200 text-sm",children:"Primary Targets"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold",children:j.participantCount||0}),r.jsx("div",{className:"text-primary-200 text-sm",children:"Participants"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold capitalize",children:j.status||"Active"}),r.jsx("div",{className:"text-primary-200 text-sm",children:"Status"})]})]})]})}),r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex gap-1 overflow-x-auto",children:k.map(E=>r.jsxs("button",{onClick:()=>o(E.id),className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${i===E.id?"border-primary-600 text-primary-700":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[r.jsx(E.icon,{className:"w-5 h-5"}),E.name]},E.id))})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i==="overview"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Key Objectives"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:j.keyObjectives.map((E,T)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Ae,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-gray-700",children:E})]},T))})]}),r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Implementation Mechanisms"}),r.jsx("div",{className:"space-y-4",children:j.mechanisms.map((E,T)=>r.jsxs("div",{className:"border-l-4 border-primary-600 pl-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:E.name}),r.jsx("p",{className:"text-gray-600",children:E.description})]},T))})]}),r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"COMPASS Metadata"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Wt,{className:"w-5 h-5 text-green-600"}),"Geographic Scope"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.compassMetadata.geographic.map((E,T)=>r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:E},T))})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Cr,{className:"w-5 h-5 text-purple-600"}),"Taxonomic Coverage"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.compassMetadata.taxonomic.map((E,T)=>r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm",children:E},T))})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(hc,{className:"w-5 h-5 text-blue-600"}),"Temporal Framework"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.compassMetadata.temporal.map((E,T)=>r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:E},T))})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(bt,{className:"w-5 h-5 text-orange-600"}),"Research Methods"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.compassMetadata.methods.map((E,T)=>r.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:E},T))})]})]})]}),r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Reporting Requirements"}),r.jsx("ul",{className:"space-y-2",children:j.reportingRequirements.map((E,T)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(bt,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-gray-700",children:E})]},T))})]}),r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Related Frameworks"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:j.relatedFrameworks.map(E=>r.jsxs(ne,{to:`/frameworks/${E.slug}`,className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Ma,{className:"w-5 h-5 text-primary-600"}),r.jsx("span",{className:"text-gray-900 font-medium",children:E.name})]},E.id))})]})]}),i==="map"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Geographic Distribution & Implementation"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Explore the geographic distribution of ",j.name," activities, including implementation case studies, lead organizations, and research regions. Click on markers to view detailed information."]}),r.jsx(Qae,{framework:j}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[r.jsx(Wt,{className:"w-5 h-5"}),"About This Map"]}),r.jsxs("p",{className:"text-sm text-blue-800",children:["This interactive map displays real data from ",j.name,", including implementation case studies, lead organizations, and geographic regions covered by this framework. Use the filters above the map to focus on specific types of locations. Each marker provides detailed information when clicked."]})]})]})}),i==="targets"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Targets & Progress"}),r.jsx("div",{className:"space-y-6",children:j.targets.map((E,T)=>r.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.title}),r.jsx("p",{className:"text-gray-600 mt-1",children:E.description})]}),r.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm whitespace-nowrap ml-4",children:["Due ",E.deadline]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),r.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[E.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${E.progress}%`}})})]})]},T))})]})}),i==="research"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Research Overview"}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:r.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Explore research papers aligned with ",j.name,". Use COMPASS ID's search to find studies that address framework objectives, monitor progress toward targets, and identify implementation challenges."]})}),r.jsx(ne,{to:`/search?framework=${encodeURIComponent(j.name)}`,className:"block w-full py-3 px-4 bg-primary-600 text-white text-center rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Search Research Papers"})]}),j.researchGaps&&r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Research Gaps & Opportunities"}),r.jsx("div",{className:"space-y-3",children:j.researchGaps.map((E,T)=>r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg",children:[r.jsx(Rd,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-gray-700",children:E})]},T))})]})]}),i==="implementation"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Implementation Case Studies"}),r.jsx("div",{className:"space-y-4",children:j.implementationCaseStudies.map((E,T)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.title}),r.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:E.country})]}),r.jsx("p",{className:"text-gray-600",children:E.description})]},T))})]})}),i==="methodology"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"How We Measure Progress & Impact"}),r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:"COMPASS ID uses a transparent, multi-source methodology to track framework progress, identify research gaps, and measure policy alignment. Our approach combines official data, peer-reviewed research, and AI-powered analysis."}),r.jsxs("div",{className:"space-y-6 mt-8",children:[r.jsxs("div",{className:"border-l-4 border-blue-600 pl-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(en,{className:"w-6 h-6 text-blue-600"}),"Progress Metrics Calculation"]}),r.jsx("p",{className:"text-gray-700 mb-3",children:"Progress percentages are calculated using:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Official Framework Reports:"})," Annual and biennial reports from treaty secretariats, national governments, and implementing agencies"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Quantitative Indicators:"})," Measurable metrics defined in the framework (e.g., emissions reduction %, protected area coverage, species population trends)"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Expert Assessments:"})," IPCC, IPBES, and other authoritative scientific body evaluations"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Real-time Data:"})," Satellite monitoring, biodiversity databases, emissions inventories"]})]})]})]}),r.jsxs("div",{className:"border-l-4 border-purple-600 pl-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Cr,{className:"w-6 h-6 text-purple-600"}),"Research Gap Identification"]}),r.jsx("p",{className:"text-gray-700 mb-3",children:"We identify research gaps through:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Literature Analysis:"})," AI-powered analysis of research aligned with this framework to identify under-researched topics and knowledge gaps"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Geographic Coverage:"})," Mapping research distribution across regions to identify geographic gaps"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Taxonomic Analysis:"})," Identifying species, ecosystems, or taxa with limited research coverage"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Framework Requirements:"})," Comparing framework objectives against available research to find evidence gaps"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Expert Consultation:"})," Input from framework working groups and scientific advisors"]})]})]})]}),r.jsxs("div",{className:"border-l-4 border-green-600 pl-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(cr,{className:"w-6 h-6 text-green-600"}),"COMPASS Metadata Alignment"]}),r.jsx("p",{className:"text-gray-700 mb-3",children:"Research papers are aligned to frameworks using:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Geographic Matching:"})," Study locations matched to framework geographic scope"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Taxonomic Tagging:"})," Species and ecosystems linked to framework biodiversity targets"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Temporal Alignment:"})," Research timeframes matched to framework implementation periods"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Methodological Relevance:"})," Research methods aligned with framework monitoring needs"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Keyword & Citation Analysis:"})," Direct framework citations and objective-related keywords"]})]})]})]}),r.jsxs("div",{className:"border-l-4 border-orange-600 pl-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(bt,{className:"w-6 h-6 text-orange-600"}),"Data Sources & Updates"]}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Official Framework Websites:"})," Direct data from treaty secretariats and implementing bodies"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Scientific Databases:"})," Web of Science, Scopus, PubMed, Google Scholar"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Government Databases:"})," National reporting systems, environmental agencies"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"NGO & Research Institutions:"})," Conservation organizations, universities, research centers"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Update Frequency:"})," Monthly automated updates + quarterly expert review"]})]})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Quality Assurance & Verification"}),r.jsxs("p",{className:"text-gray-700",children:["All metrics undergo a three-stage verification process: (1) automated data validation against source documents, (2) peer review by subject matter experts, and (3) community feedback integration. Discrepancies or updates can be flagged by users, and the COMPASS ID team investigates within 48 hours. Last verified: ",new Date(j.lastUpdated).toLocaleDateString()]})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"How to Contribute"}),r.jsx("p",{className:"text-gray-700 mb-3",children:"Help improve framework tracking accuracy:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(rd,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Submit research papers aligned with this framework"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(rd,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Report data discrepancies or suggest methodology improvements"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(rd,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Share implementation case studies from your region"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(rd,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Participate in expert review panels for your area of expertise"})]})]})]})]})]})]})}),i==="resources"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Official Documents & Resources"}),r.jsx("div",{className:"space-y-3",children:j.officialDocuments.map((E,T)=>r.jsxs("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bt,{className:"w-5 h-5 text-primary-600"}),r.jsx("span",{className:"text-gray-900 font-medium",children:E.title})]}),r.jsx(mb,{className:"w-5 h-5 text-gray-400"})]},T))})]}),r.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verification Information"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600"}),r.jsxs("span",{children:["Verified by: ",j.verifiedBy]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"w-5 h-5 text-gray-400"}),r.jsxs("span",{children:["Verified on: ",new Date(j.verifiedDate).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hc,{className:"w-5 h-5 text-gray-400"}),r.jsxs("span",{children:["Last updated: ",new Date(j.lastUpdated).toLocaleDateString()]})]})]})]})]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 pt-24 z-[100]",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[calc(100vh-8rem)] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zi,{className:"w-6 h-6 text-white"}),r.jsxs("h2",{className:"text-xl font-bold text-white",children:["AI Research Assistant - ",j.name]})]}),r.jsx("button",{onClick:()=>d(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:""})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-50",children:[u.length===0&&r.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[r.jsxs("p",{className:"text-lg font-medium mb-2",children:["Ask me anything about ",j.name]}),r.jsx("p",{className:"text-sm",children:"I can help you understand the framework's goals, targets, implementation, and research opportunities."})]}),u.map((E,T)=>r.jsx("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${E.role==="user"?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:E.content})},T)),x&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),r.jsx("div",{className:"border-t border-gray-200 p-4 bg-white flex-shrink-0",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:f,onChange:E=>g(E.target.value),onKeyPress:E=>E.key==="Enter"&&_(),placeholder:`Ask about ${j.name}...`,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{onClick:_,disabled:!f.trim()||x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Send"})]})})]})})]})}function p0({type:e,itemId:t,isSaved:n=!1,onSave:s,onUnsave:a,className:i=""}){const[o,c]=p.useState(n),[d,u]=p.useState(!1),[m,f]=p.useState(null),g=async x=>{x.preventDefault(),x.stopPropagation(),u(!0),f(null);try{o?(a&&await a(t),c(!1)):(s&&await s(t),c(!0))}catch(v){console.error(`Error ${o?"removing":"saving"} ${e}:`,v),f(`Failed to ${o?"remove":"save"} ${e}. Please try again.`),setTimeout(()=>f(null),3e3)}finally{u(!1)}};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:g,disabled:d,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${m?"bg-red-50 text-red-600 border-2 border-red-200 hover:bg-red-100":o?"bg-blue-50 text-blue-600 hover:bg-blue-100 border-2 border-blue-200":"bg-white text-gray-700 hover:bg-gray-50 border-2 border-gray-300"} ${d?"opacity-50 cursor-not-allowed":""} ${i}`,title:m||(o?`Remove ${e} from saved`:`Save ${e}`),children:[o?r.jsx(Pz,{className:`w-5 h-5 ${d?"animate-pulse":""}`}):r.jsx(Vo,{className:`w-5 h-5 ${d?"animate-pulse":""}`}),r.jsx("span",{children:m?"Error":o?"Saved":"Save"})]}),m&&r.jsx("div",{className:"absolute top-full left-0 mt-2 px-3 py-2 bg-red-100 text-red-700 text-xs rounded-lg shadow-lg whitespace-nowrap z-10 animate-fade-in",children:m})]})}function g0(e){return e.split(" ").map(t=>t[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}function eie(){const{isAuthenticated:e}=Ot(),[t,n]=p.useState(""),[s,a]=p.useState(""),[i,o]=p.useState("All Types"),[c,d]=p.useState("All Deadlines"),[u,m]=p.useState([]),f=async j=>{try{(await fetch(`http://localhost:3001/api/grants/${j}/bookmark`,{method:"POST",credentials:"include"})).ok&&m([...u,j])}catch(S){console.error("Failed to save grant:",S)}},g=async j=>{try{(await fetch(`http://localhost:3001/api/grants/${j}/bookmark`,{method:"DELETE",credentials:"include"})).ok&&m(u.filter(_=>_!==j))}catch(S){console.error("Failed to unsave grant:",S)}},v=[].filter(j=>{const S=j.title.toLowerCase().includes(t.toLowerCase())||j.funder.toLowerCase().includes(t.toLowerCase())||j.description.toLowerCase().includes(t.toLowerCase()),_=!s||j.location.toLowerCase().includes(s.toLowerCase()),k=i==="All Types"||j.type===i;let A=!0;if(c!=="All Deadlines"){const P=new Date(j.deadline),T=Math.ceil((P-new Date)/(1e3*60*60*24));c==="Due in 7 Days"?A=T<=7&&T>=0:c==="Due in 30 Days"?A=T<=30&&T>=0:c==="Due in 90 Days"&&(A=T<=90&&T>=0)}return S&&_&&k&&A}),w=["All Types","Research","Fellowship","Development"],b=["All Deadlines","Due in 7 Days","Due in 30 Days","Due in 90 Days"];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Grant Opportunities"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Funding for conservation and sustainability research aligned with global policy frameworks"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[r.jsx("input",{type:"text",placeholder:"Search by title, funder, or keyword...",value:t,onChange:j=>n(j.target.value),className:"w-full px-6 py-4 text-lg border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("input",{type:"text",placeholder:"Filter by location or region...",value:s,onChange:j=>a(j.target.value),className:"w-full px-6 py-4 text-lg border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:w.map(j=>r.jsx("button",{onClick:()=>o(j),className:`px-5 py-2 rounded-full text-sm font-medium transition-all ${i===j?"bg-[#009edb] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j},j))}),r.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:b.map(j=>r.jsx("button",{onClick:()=>d(j),className:`px-5 py-2 rounded-full text-sm font-medium transition-all ${c===j?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j},j))})]}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"text-base text-gray-600",children:[v.length," ",v.length===1?"grant":"grants"," found"]}),e&&r.jsx(ne,{to:"/grants/submit",className:"bg-gray-900 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-gray-800 transition-all",children:"Submit Grant"})]})]})}),r.jsx("section",{className:"py-12 px-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:v.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No grant opportunities yet"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back soon or submit a grant opportunity to help the community"})]}):r.jsx("div",{className:"space-y-6",children:v.map(j=>r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 hover:border-[#009edb] transition-all",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j.type==="Research"?"bg-blue-100 text-blue-700":j.type==="Fellowship"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:j.type}),r.jsx("span",{className:"text-sm text-green-600 font-semibold",children:j.amount})]}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:j.title}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-4",children:[j.funderLogo?r.jsx("img",{src:j.funderLogo,alt:`${j.funder} logo`,className:"w-10 h-10 rounded-lg object-cover border border-gray-200"}):r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-semibold text-sm",children:g0(j.funder)}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:j.funder}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:j.duration})]})]}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:j.description}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:j.frameworks.map((S,_)=>r.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium",children:S},_))}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[r.jsxs("span",{children:["Deadline: ",new Date(j.deadline).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:j.eligibility})]})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx(p0,{type:"grant",itemId:j.id,isSaved:u.includes(j.id),onSave:f,onUnsave:g}),r.jsx(ne,{to:`/grants/${j.id}`,className:"inline-flex items-center justify-center bg-[#009edb] text-white px-6 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all whitespace-nowrap",children:"View Details"})]})]})},j.id))})})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-white rounded-2xl p-8 md:p-12 border border-blue-100",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Know of a funding opportunity?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Help the research community by sharing grant opportunities aligned with conservation and sustainability frameworks"}),e?r.jsx(ne,{to:"/grants/submit",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Submit a Grant"}):r.jsx(ne,{to:"/login",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Sign in to Submit"})]})})})})]})}function tie(){const{id:e}=ul(),t=Yt(),[n,s]=p.useState([]),a=async g=>{try{(await fetch(`http://localhost:3001/api/grants/${g}/bookmark`,{method:"POST",credentials:"include"})).ok&&s([...n,g])}catch(x){console.error("Failed to save grant:",x)}},i=async g=>{try{(await fetch(`http://localhost:3001/api/grants/${g}/bookmark`,{method:"DELETE",credentials:"include"})).ok&&s(n.filter(v=>v!==g))}catch(x){console.error("Failed to unsave grant:",x)}},o={1:{id:1,title:"Climate Adaptation Research Grant",funder:"National Science Foundation",type:"Research",amount:"Up to $500,000",deadline:"2024-12-15",duration:"36 months",location:"United States",description:"We are seeking proposals for innovative research on climate adaptation strategies in vulnerable ecosystems. This grant supports the development of evidence-based solutions aligned with SDG 13 (Climate Action) and Paris Agreement targets. The ideal projects will demonstrate clear pathways from research findings to policy implementation, with emphasis on actionable recommendations for ecosystem management and climate resilience.",requirements:["Principal Investigator must hold a PhD in Environmental Science, Ecology, Climate Science, or related field","Minimum 5 years of research experience in climate adaptation or ecosystem resilience","Demonstrated track record of publications in peer-reviewed journals","Experience working with policy stakeholders or government agencies","Commitment to open-access publication of findings","Institutional affiliation required"],objectives:["Develop climate adaptation frameworks applicable to vulnerable ecosystems","Generate evidence-based policy recommendations aligned with international frameworks","Build capacity for climate resilience assessment and monitoring","Foster collaboration between researchers and policy decision-makers","Advance understanding of ecosystem responses to climate change"],frameworks:["SDG 13: Climate Action","Paris Agreement","IPCC Framework"],eligibility:"Early to mid-career researchers at accredited institutions",applicationUrl:"https://nsf.gov/apply",contactEmail:"climategrants@nsf.gov"},2:{id:2,title:"Marine Biodiversity Conservation Fellowship",funder:"Ocean Conservancy Foundation",type:"Fellowship",amount:"$75,000 - $100,000",deadline:"2024-11-30",duration:"24 months",location:"Global",description:"This postdoctoral fellowship program supports marine conservation research that directly contributes to CBD post-2020 framework implementation and SDG 14 targets. Fellows will investigate coral reef resilience, ecosystem restoration strategies, and the biological and ecological factors that promote marine ecosystem recovery in the face of climate change and human pressures.",requirements:["PhD in Marine Biology, Oceanography, or related field completed within last 5 years","Field research experience in tropical or temperate marine ecosystems","Proficiency in statistical analysis and ecological modeling","Strong publication record relative to career stage","Demonstrated ability to work independently and collaboratively","SCUBA diving certification preferred but not required"],objectives:["Conduct field research on marine ecosystem resilience and restoration","Develop practical restoration strategies for degraded marine habitats","Publish research in high-impact peer-reviewed journals","Collaborate with conservation practitioners and policymakers","Contribute to CBD biodiversity target monitoring and reporting","Mentor students and build research capacity"],frameworks:["SDG 14: Life Below Water","CBD Post-2020 Framework","Ocean Decade"],eligibility:"Recent PhD graduates (within 5 years of completion)",applicationUrl:"https://oceanconservancy.org/fellowships",contactEmail:"fellowships@oceanconservancy.org"},3:{id:3,title:"Renewable Energy Policy Research Fund",funder:"Global Energy Transition Initiative",type:"Research",amount:"$200,000 - $350,000",deadline:"2025-01-20",duration:"30 months",location:"European Union",description:"Supporting policy research on renewable energy transitions and their effectiveness in meeting Paris Agreement commitments. This grant seeks to bridge the gap between energy policy analysis and climate action, with focus on evaluating policy effectiveness, identifying barriers to renewable energy adoption, and developing evidence-based recommendations for accelerating the global energy transition.",requirements:["Master's or PhD in Public Policy, Environmental Studies, Energy Policy, or related field","Minimum 3 years of experience in policy research or analysis","Deep knowledge of renewable energy technologies and markets","Strong quantitative and qualitative research skills","Excellent written and verbal communication abilities","Experience with policy evaluation methodologies"],objectives:["Evaluate renewable energy policy effectiveness across different contexts","Identify barriers and enablers to renewable energy transitions","Develop evidence-based policy recommendations","Engage with government officials and industry stakeholders","Monitor developments in energy policy at national and international levels","Disseminate findings to policymakers and research communities"],frameworks:["Paris Agreement","SDG 7: Affordable Clean Energy","SDG 13: Climate Action"],eligibility:"Researchers at accredited institutions in EU member states",applicationUrl:"https://geti.org/apply",contactEmail:"grants@geti.org"}},c=o[e];if(!c)return r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Grant not found"}),r.jsx(ne,{to:"/grants",className:"text-[#009edb] hover:text-[#0077b3] font-medium",children:"Return to grants"})]})});const d=new Date(c.deadline),m=Math.ceil((d-new Date)/(1e3*60*60*24)),f=m<=14&&m>=0;return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-12 px-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("button",{onClick:()=>t("/grants"),className:"text-gray-600 hover:text-gray-900 mb-6 text-sm font-medium transition-colors",children:" Back to all grants"}),r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${c.type==="Research"?"bg-blue-100 text-blue-700":c.type==="Fellowship"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:c.type}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:f?`${m} days left`:`Deadline: ${d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`})]}),r.jsx("h1",{className:"text-4xl sm:text-5xl text-gray-900 mb-6 leading-tight font-semibold",children:c.title}),r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[c.funderLogo?r.jsx("img",{src:c.funderLogo,alt:`${c.funder} logo`,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl object-cover border-2 border-gray-200 flex-shrink-0"}):r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0 border-2 border-gray-200",children:g0(c.funder)}),r.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[r.jsx("span",{className:"text-xl font-semibold text-gray-900",children:c.funder}),r.jsxs("div",{className:"flex items-center gap-2 text-base text-gray-600",children:[r.jsx("span",{children:c.location}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"text-green-600 font-semibold",children:c.amount})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-6 text-sm text-gray-500",children:[r.jsxs("span",{children:["Duration: ",c.duration]}),r.jsx(p0,{type:"grant",itemId:c.id,isSaved:n.includes(c.id),onSave:a,onUnsave:i})]})]})}),r.jsx("section",{className:"py-16 px-4",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"About This Grant"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:c.description})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Requirements"}),r.jsx("ul",{className:"space-y-3",children:c.requirements.map((g,x)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-[#009edb] rounded-full mt-2 flex-shrink-0"}),r.jsx("span",{className:"text-base text-gray-600 leading-relaxed",children:g})]},x))})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Research Objectives"}),r.jsx("ul",{className:"space-y-3",children:c.objectives.map((g,x)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-[#009edb] rounded-full mt-2 flex-shrink-0"}),r.jsx("span",{className:"text-base text-gray-600 leading-relaxed",children:g})]},x))})]}),c.frameworks.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Aligned Frameworks"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:c.frameworks.map((g,x)=>r.jsx("span",{className:"px-4 py-2 bg-green-50 text-green-700 rounded-full text-sm font-medium",children:g},x))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[r.jsx("a",{href:c.applicationUrl,target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-[#009edb] text-white px-6 py-4 rounded-full text-center text-base font-medium hover:bg-[#0077b3] transition-all mb-4",children:"Apply for this Grant"}),r.jsxs("p",{className:"text-sm text-gray-600 text-center mb-2",children:["Deadline: ",d.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),f&&r.jsxs("p",{className:"text-sm text-red-600 text-center font-medium",children:[m," days remaining"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Grant Details"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Amount"}),r.jsx("p",{className:"font-medium text-green-600",children:c.amount})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Duration"}),r.jsx("p",{className:"font-medium text-gray-900",children:c.duration})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Location"}),r.jsx("p",{className:"font-medium text-gray-900",children:c.location})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Eligibility"}),r.jsx("p",{className:"font-medium text-gray-900",children:c.eligibility})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Questions?"}),r.jsx("a",{href:`mailto:${c.contactEmail}`,className:"text-[#009edb] hover:text-[#0077b3] text-sm font-medium",children:c.contactEmail})]}),r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Similar grants"}),r.jsx("div",{className:"space-y-3",children:Object.values(o).filter(g=>g.id!==c.id).slice(0,3).map(g=>r.jsxs(ne,{to:`/grants/${g.id}`,className:"block p-3 bg-white rounded-lg border border-gray-200 hover:border-[#009edb] transition-all",children:[r.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:g.title}),r.jsx("p",{className:"text-xs text-gray-600",children:g.funder})]},g.id))})]})]})]})})})]})}function rie(){const e=Yt(),{isAuthenticated:t}=Ot();p.useEffect(()=>{t||e("/login",{state:{from:"/grants/submit"}})},[t,e]);const[n,s]=p.useState({title:"",funder:"",funderLogo:"",funderType:"foundation",grantType:"Research",amountMin:"",amountMax:"",currency:"USD",duration:"",deadline:"",description:"",eligibility:"",applicationUrl:"",frameworks:[],contactEmail:""}),a=["SDG 13: Climate Action","SDG 14: Life Below Water","SDG 15: Life on Land","SDG 7: Affordable Clean Energy","SDG 2: Zero Hunger","Paris Agreement","CBD Post-2020 Framework","IPCC Framework","Ocean Decade"],i=d=>{d.preventDefault(),alert("Grant opportunity submitted successfully!"),e("/grants")},o=d=>{const{name:u,value:m}=d.target;s(f=>({...f,[u]:m}))},c=d=>{s(u=>({...u,frameworks:u.frameworks.includes(d)?u.frameworks.filter(m=>m!==d):[...u.frameworks,d]}))};return t?r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Submit Grant Opportunity"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed",children:"Share funding opportunities with the research community"})]})}),r.jsx("section",{className:"py-16 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("form",{onSubmit:i,className:"space-y-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900 mb-2",children:"Grant Title *"}),r.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:n.title,onChange:o,placeholder:"e.g., Climate Adaptation Research Grant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"funder",className:"block text-sm font-medium text-gray-900 mb-2",children:"Funder/Organization *"}),r.jsx("input",{type:"text",id:"funder",name:"funder",required:!0,value:n.funder,onChange:o,placeholder:"e.g., National Science Foundation",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"funderLogo",className:"block text-sm font-medium text-gray-900 mb-2",children:"Funder Logo URL (optional)"}),r.jsx("input",{type:"url",id:"funderLogo",name:"funderLogo",value:n.funderLogo,onChange:o,placeholder:"https://example.com/logo.png",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"If not provided, we'll display the funder's initials"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"funderType",className:"block text-sm font-medium text-gray-900 mb-2",children:"Funder Type *"}),r.jsxs("select",{id:"funderType",name:"funderType",required:!0,value:n.funderType,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all",children:[r.jsx("option",{value:"foundation",children:"Foundation"}),r.jsx("option",{value:"government",children:"Government"}),r.jsx("option",{value:"corporate",children:"Corporate"}),r.jsx("option",{value:"nonprofit",children:"Nonprofit"})]})]})}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"grantType",className:"block text-sm font-medium text-gray-900 mb-2",children:"Grant Type *"}),r.jsxs("select",{id:"grantType",name:"grantType",required:!0,value:n.grantType,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all",children:[r.jsx("option",{value:"Research",children:"Research"}),r.jsx("option",{value:"Fellowship",children:"Fellowship"}),r.jsx("option",{value:"Development",children:"Development"}),r.jsx("option",{value:"Education",children:"Education"}),r.jsx("option",{value:"Capacity Building",children:"Capacity Building"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"deadline",className:"block text-sm font-medium text-gray-900 mb-2",children:"Application Deadline *"}),r.jsx("input",{type:"date",id:"deadline",name:"deadline",required:!0,value:n.deadline,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Funding Details"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"amountMin",className:"block text-sm font-medium text-gray-900 mb-2",children:"Minimum Amount"}),r.jsx("input",{type:"number",id:"amountMin",name:"amountMin",value:n.amountMin,onChange:o,placeholder:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"amountMax",className:"block text-sm font-medium text-gray-900 mb-2",children:"Maximum Amount"}),r.jsx("input",{type:"number",id:"amountMax",name:"amountMax",value:n.amountMax,onChange:o,placeholder:"500000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-900 mb-2",children:"Currency *"}),r.jsxs("select",{id:"currency",name:"currency",required:!0,value:n.currency,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all",children:[r.jsx("option",{value:"USD",children:"USD"}),r.jsx("option",{value:"EUR",children:"EUR"}),r.jsx("option",{value:"GBP",children:"GBP"}),r.jsx("option",{value:"CAD",children:"CAD"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-900 mb-2",children:"Grant Duration (months)"}),r.jsx("input",{type:"number",id:"duration",name:"duration",value:n.duration,onChange:o,placeholder:"e.g., 36",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Grant Details"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-900 mb-2",children:"Description *"}),r.jsx("textarea",{id:"description",name:"description",required:!0,value:n.description,onChange:o,rows:6,placeholder:"Provide a detailed description of the grant opportunity, research focus, and objectives...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"eligibility",className:"block text-sm font-medium text-gray-900 mb-2",children:"Eligibility Requirements *"}),r.jsx("textarea",{id:"eligibility",name:"eligibility",required:!0,value:n.eligibility,onChange:o,rows:4,placeholder:"Describe who is eligible to apply (e.g., career stage, qualifications, geographic restrictions)...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"applicationUrl",className:"block text-sm font-medium text-gray-900 mb-2",children:"Application URL *"}),r.jsx("input",{type:"url",id:"applicationUrl",name:"applicationUrl",required:!0,value:n.applicationUrl,onChange:o,placeholder:"https://funder.org/apply",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Framework Alignment"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select the policy frameworks this grant supports (optional but recommended)"}),r.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:a.map(d=>r.jsxs("label",{className:`flex items-center gap-3 p-4 border rounded-lg cursor-pointer transition-all ${n.frameworks.includes(d)?"border-[#009edb] bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("input",{type:"checkbox",checked:n.frameworks.includes(d),onChange:()=>c(d),className:"w-4 h-4 text-[#009edb] border-gray-300 rounded focus:ring-[#009edb]"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:d})]},d))})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Contact Information"}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-900 mb-2",children:"Contact Email *"}),r.jsx("input",{type:"email",id:"contactEmail",name:"contactEmail",required:!0,value:n.contactEmail,onChange:o,placeholder:"grants@funder.org",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"For questions about this grant opportunity"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{type:"submit",className:"flex-1 bg-[#009edb] text-white px-8 py-4 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Submit Grant Opportunity"}),r.jsx("button",{type:"button",onClick:()=>e("/grants"),className:"px-8 py-4 border border-gray-300 text-gray-700 rounded-full text-base font-medium hover:bg-gray-50 transition-all",children:"Cancel"})]})]})})})]}):null}var PM="clover",nie=function(t){return t===3?"v3":t},AM="https://js.stripe.com",sie="".concat(AM,"/").concat(PM,"/stripe.js"),aie=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,iie=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var oie=function(t){return aie.test(t)||iie.test(t)},lie=function(){for(var t=document.querySelectorAll('script[src^="'.concat(AM,'"]')),n=0;n<t.length;n++){var s=t[n];if(oie(s.src))return s}return null},GC=function(t){var n="",s=document.createElement("script");s.src="".concat(sie).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},cie=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},$u=null,Df=null,Rf=null,die=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},uie=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},mie=function(t){return $u!==null?$u:($u=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var a=lie();if(!(a&&t)){if(!a)a=GC(t);else if(a&&Rf!==null&&Df!==null){var i;a.removeEventListener("load",Rf),a.removeEventListener("error",Df),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=GC(t)}}Rf=uie(n,s),Df=die(s),a.addEventListener("load",Rf),a.addEventListener("error",Df)}catch(o){s(o);return}}),$u.catch(function(n){return $u=null,Promise.reject(n)}))},hie=function(t,n,s){if(t===null)return null;var a=n[0],i=a.match(/^pk_test/),o=nie(t.version),c=PM;i&&o!==c&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=t.apply(void 0,n);return cie(d,s),d},zu,EM=!1,OM=function(){return zu||(zu=mie(null).catch(function(t){return zu=null,Promise.reject(t)}),zu)};Promise.resolve().then(function(){return OM()}).catch(function(e){EM||console.warn(e)});var fie=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];EM=!0;var a=Date.now();return OM().then(function(i){return hie(i,n,a)})};const pie="pk_test_51SFV2tFHq3UG7cg4d3izIoM9hPW43eXefJNuKTV4bm3xv6JaKevVsxxSEUEyZAooLEtPzYBHbFo6jiY7rirBX8lU00ozBX2hwb",TM=fie(pie),J2=async(e,t)=>{var n,s;try{return(await Nt.post(Sr("/api/stripe/create-checkout-session"),{planType:e,billingPeriod:t},{withCredentials:!0,headers:{"Content-Type":"application/json"}})).data}catch(a){console.error("Create checkout session error:",a);const i=((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.error)||a.message||"Failed to create checkout session";throw new Error(i)}},gie=async()=>{var e,t;try{return(await Nt.post(Sr("/api/stripe/cancel-subscription"),{},{withCredentials:!0,headers:{"Content-Type":"application/json"}})).data}catch(n){console.error("Cancel subscription error:",n);const s=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||n.message||"Failed to cancel subscription";throw new Error(s)}};function xie(){const{isAuthenticated:e,user:t}=Ot(),n=Yt(),[s,a]=p.useState(null),i=async m=>{if(!e){n("/login",{state:{from:"/ai-writing"}});return}try{const f=await J2(m,"monthly");f.url&&(window.location.href=f.url)}catch(f){console.error("Checkout error:",f),alert(`Failed to start checkout: ${f.message}`)}};p.useEffect(()=>{},[]);const o=[{icon:r.jsx(Ct,{className:"w-6 h-6"}),title:"Conservation-Focused AI",description:"Trained on successful conservation and sustainability grant proposals aligned with SDGs, Paris Agreement, and CBD frameworks"},{icon:r.jsx(bt,{className:"w-6 h-6"}),title:"Framework Integration",description:"Automatically align your proposals with international policy frameworks including SDGs, IPCC, and biodiversity targets"},{icon:r.jsx(en,{className:"w-6 h-6"}),title:"Evidence-Based Writing",description:"Generate compelling narratives backed by your research data and aligned with funder priorities"},{icon:r.jsx(Ae,{className:"w-6 h-6"}),title:"Impact Statements",description:"Create powerful impact statements that demonstrate policy relevance and measurable conservation outcomes"}],c=[{name:"Free Tier",price:"$0",period:"month",words:"3 assists",description:"Fair use limits for all users",features:["3 grant assists per month","All conservation templates","Basic framework integration","SDG alignment","Export to PDF/Word","No credit card required"],cta:"Start Free",ctaLink:"/ai-writing/new",planType:null,highlight:!1},{name:"Credit Packs",price:"$10-$75",period:"one-time",words:"buy as needed",description:"Pay only for what you use",features:["$10 = 10 grant assists","$25 = 30 grant assists","$75 = 100 grant assists","All conservation templates","Full framework integration (SDG, Paris, CBD)","Never expires","No subscriptions"],cta:"Buy Credits",ctaLink:null,planType:"credits",highlight:!0},{name:"Institution",price:"Custom",period:"partnership",words:"Unlimited",description:"For research teams and institutions",features:["Unlimited access (fair use)","Team collaboration","Custom templates","API access","Institutional branding","Custom framework integration","Dedicated support"],cta:"Contact Sales",ctaLink:"mailto:sales@compassid.org",planType:null,highlight:!1}],d=[{question:"How does the AI understand conservation grant requirements?",answer:"Our AI is specifically trained on successful conservation, climate, and sustainability grant proposals. It understands the language, priorities, and evaluation criteria of major funders like NSF, NIH, foundations, and international organizations. The system is continuously updated with the latest policy frameworks including SDGs, Paris Agreement targets, and CBD post-2020 goals."},{question:"What happens when I reach my free tier limit?",answer:"Free tier users get 3 grant assists per month. When you run out, simply buy a credit pack: $10 for 10 assists, $25 for 30 assists, or $75 for 100 assists. Credits never expire and there are no subscriptions. Existing users are grandfathered with unlimited access."},{question:"Can I use this for non-conservation grants?",answer:"While our AI is optimized for conservation, climate, and sustainability research, it can assist with any scientific grant proposal. However, you will get the best results for grants aligned with environmental policy frameworks, biodiversity conservation, climate action, and sustainable development."},{question:"Do I own the content generated by the AI?",answer:"Yes, you retain full ownership of all content created using our AI writing tool. The AI-generated text is yours to use, edit, and submit as part of your grant applications without any attribution requirements."},{question:"How does framework alignment work?",answer:"Our system analyzes your research and grant requirements, then automatically suggests relevant SDGs, Paris Agreement targets, CBD goals, and other policy frameworks. The AI helps you articulate how your research contributes to these frameworks in language that resonates with funders and policymakers."},{question:"Can I collaborate with my team on grant applications?",answer:"Yes, Researcher and Institution plans include collaboration features. You can invite team members to review, edit, and contribute to grant applications. Institution plans support up to 10 team members with shared word pools and centralized billing."},{question:"What templates are available?",answer:"We offer templates for major funders including NSF, NIH, National Geographic Society (Research & Exploration Grants, Early Career Grants), The Explorers Club (Exploration Fund, Youth Activity Fund), Wenner-Gren Foundation (Dissertation Fieldwork Grants, Post-PhD Research Grants), Leakey Foundation, Rufford Foundation, Mohamed bin Zayed Species Conservation Fund, Disney Conservation Fund, and international conservation funders. Templates include sections for research objectives, methodology, impact statements, budget justifications, and framework alignment. Institution plans can request custom templates for specific funders."},{question:"Is my research data secure?",answer:"Absolutely. All data is encrypted in transit and at rest. We never use your research data to train our models or share it with third parties. You can delete your applications and data at any time. We are compliant with GDPR and university data protection requirements."}],u=[{step:"1",title:"Create Your Application",description:"Start a new grant application and select the appropriate template for your funder (NSF, NIH, foundation, etc.)"},{step:"2",title:"Input Your Research",description:"Provide key information about your research objectives, methodology, and conservation impact"},{step:"3",title:"AI-Assisted Writing",description:"Use AI to generate compelling content for each section. Edit and refine the AI suggestions to match your voice"},{step:"4",title:"Framework Alignment",description:"The AI automatically aligns your proposal with relevant SDGs, climate targets, and biodiversity frameworks"},{step:"5",title:"Review & Export",description:"Review your complete application, make final edits, and export to PDF or Word for submission"}];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-700 rounded-full text-sm font-medium",children:[r.jsx(Ct,{className:"w-4 h-4"}),"AI-Powered Grant Writing"]})}),r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Write Winning Conservation Grants"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto mb-8",children:"AI-powered writing assistance specifically designed for conservation and sustainability research aligned with global policy frameworks"}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx(ne,{to:"/ai-writing/new",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all",children:"Try Demo Interface"}),r.jsx("button",{onClick:()=>document.getElementById("how-it-works").scrollIntoView({behavior:"smooth"}),className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-4 rounded-full text-lg font-medium border-2 border-gray-300 hover:border-gray-400 transition-all",children:"See How It Works"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Free tier: 3 grant assists/month  Buy credit packs as needed ($10/$25/$75)  No subscriptions"})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Why Conservation Researchers Choose Our AI"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Purpose-built for environmental research and policy-aligned grant writing"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:o.map((m,f)=>r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 border border-gray-200",children:[r.jsx("div",{className:"w-12 h-12 bg-[#009edb] text-white rounded-xl flex items-center justify-center mb-4",children:m.icon}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:m.title}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:m.description})]},f))})]})}),r.jsx("section",{id:"how-it-works",className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"How It Works"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"From research idea to submission-ready proposal in five steps"})]}),r.jsx("div",{className:"space-y-6",children:u.map((m,f)=>r.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-200 flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#009edb] to-[#0077b3] text-white rounded-full flex items-center justify-center text-xl font-bold",children:m.step})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:m.title}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:m.description})]})]},f))})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Fair Use + Pay-As-You-Go"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Free tier with 3 assists/month. Buy credit packs when you need more. No subscriptions required."})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((m,f)=>r.jsxs("div",{className:`rounded-2xl p-8 ${m.highlight?"bg-gradient-to-br from-[#009edb] to-[#0077b3] text-white border-2 border-[#009edb] shadow-xl scale-105":"bg-white border-2 border-gray-200"}`,children:[m.highlight&&r.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 text-white rounded-full text-xs font-semibold mb-4",children:"MOST POPULAR"}),r.jsx("h3",{className:`text-2xl font-bold mb-2 ${m.highlight?"text-white":"text-gray-900"}`,children:m.name}),r.jsx("p",{className:`text-sm mb-4 ${m.highlight?"text-white/90":"text-gray-600"}`,children:m.description}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[r.jsx("span",{className:`text-5xl font-bold ${m.highlight?"text-white":"text-gray-900"}`,children:m.price}),r.jsxs("span",{className:`text-lg ${m.highlight?"text-white/80":"text-gray-600"}`,children:["/",m.period]})]}),r.jsxs("p",{className:`text-sm font-medium ${m.highlight?"text-white/90":"text-gray-600"}`,children:[m.words," AI words ",m.name==="Free"?"per application":"per month"]})]}),r.jsx("ul",{className:"space-y-3 mb-8",children:m.features.map((g,x)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ae,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${m.highlight?"text-white":"text-green-600"}`}),r.jsx("span",{className:`text-sm ${m.highlight?"text-white":"text-gray-600"}`,children:g})]},x))}),m.ctaLink?m.ctaLink.startsWith("mailto:")?r.jsx("a",{href:m.ctaLink,className:`block w-full text-center py-3 rounded-full font-semibold transition-colors ${m.highlight?"bg-white text-primary-600 hover:bg-gray-50":"bg-primary-600 text-white hover:bg-primary-700"}`,children:m.cta}):r.jsx(ne,{to:m.ctaLink,className:`block w-full text-center py-3 rounded-full font-semibold transition-colors ${m.highlight?"bg-white text-primary-600 hover:bg-gray-50":"bg-primary-600 text-white hover:bg-primary-700"}`,children:m.cta}):r.jsx("button",{onClick:()=>i(m.planType),className:`block w-full text-center py-3 rounded-full font-semibold transition-colors ${m.highlight?"bg-white text-primary-600 hover:bg-gray-50":"bg-primary-600 text-white hover:bg-primary-700"}`,children:m.cta})]},f))}),r.jsxs("p",{className:"text-center text-gray-600 mt-8 text-sm",children:["All users get free tier access. Buy credit packs as needed. Existing users grandfathered with unlimited access.",r.jsx("br",{}),"Institutional partnerships available for unlimited team access."]})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Everything you need to know about our AI grant writing tool"})]}),r.jsx("div",{className:"space-y-4",children:d.map((m,f)=>r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsxs("button",{onClick:()=>a(s===f?null:f),className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition-colors",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900 pr-8",children:m.question}),s===f?r.jsx(dx,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}):r.jsx(la,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})]}),s===f&&r.jsx("div",{className:"px-6 pb-6",children:r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:m.answer})})]},f))})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-white rounded-2xl p-8 md:p-12 border border-blue-100 text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Ready to Write Your Next Grant?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join conservation researchers using AI to secure funding for impactful research. Start free with 3 grant assists/month, buy credits as needed."}),r.jsx("div",{className:"flex justify-center gap-4",children:r.jsx(ne,{to:"/ai-writing/new",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Try Demo Interface"})})]})})})]})}function yie(){var Le,ze,Qe,Tt,At,W;const{isAuthenticated:e}=Ot(),t=Yt(),[n,s]=p.useState(""),[a,i]=p.useState(""),[o,c]=p.useState(""),[d,u]=p.useState([]),[m,f]=p.useState([]),[g,x]=p.useState(null),[v,w]=p.useState({}),[b,j]=p.useState(""),[S,_]=p.useState(0),[k,A]=p.useState(2500),[P,E]=p.useState([]),[T,M]=p.useState([]),[U,D]=p.useState(""),[B,z]=p.useState("all"),[X,le]=p.useState(""),[$,ae]=p.useState(!1),[G,ie]=p.useState(null),[ce,I]=p.useState(!1),pe=[{id:"nsf",name:"NSF Research Proposal",country:"USA",region:"North America",type:"Federal Research",description:"National Science Foundation grant"},{id:"nih",name:"NIH Grant Application (R01)",country:"USA",region:"North America",type:"Federal Research",description:"NIH research project grant"},{id:"nih-career",name:"NIH Career Development (K Award)",country:"USA",region:"North America",type:"Federal Fellowship",description:"Career development award"},{id:"doe",name:"DOE Energy Research",country:"USA",region:"North America",type:"Federal Research",description:"Department of Energy grant"},{id:"noaa",name:"NOAA Marine Research",country:"USA",region:"North America",type:"Federal Research",description:"Marine and coastal research"},{id:"usda",name:"USDA Agriculture Grant",country:"USA",region:"North America",type:"Federal Research",description:"Agricultural research funding"},{id:"epa",name:"EPA Environmental Grant",country:"USA",region:"North America",type:"Federal Research",description:"Environmental protection research"},{id:"horizon-europe",name:"Horizon Europe",country:"EU",region:"Europe",type:"Research Grant",description:"EU research and innovation programme"},{id:"erc",name:"European Research Council (ERC)",country:"EU",region:"Europe",type:"Research Grant",description:"Frontier research grants"},{id:"marie-curie",name:"Marie Skodowska-Curie Actions",country:"EU",region:"Europe",type:"Fellowship",description:"European research fellowship"},{id:"life-programme",name:"LIFE Programme",country:"EU",region:"Europe",type:"Environment",description:"EU environmental and climate funding"},{id:"erasmus",name:"Erasmus+ Programme",country:"EU",region:"Europe",type:"Education",description:"Education and training grants"},{id:"ukri",name:"UK Research and Innovation (UKRI)",country:"UK",region:"Europe",type:"Research Grant",description:"UK national research funding"},{id:"nerc",name:"NERC Environmental Research",country:"UK",region:"Europe",type:"Environment",description:"Natural Environment Research Council"},{id:"leverhulme",name:"Leverhulme Trust",country:"UK",region:"Europe",type:"Foundation",description:"Research grants and fellowships"},{id:"nserc",name:"NSERC Discovery Grant",country:"Canada",region:"North America",type:"Research Grant",description:"Natural Sciences and Engineering Research"},{id:"cihr",name:"CIHR Grant",country:"Canada",region:"North America",type:"Health Research",description:"Canadian Institutes of Health Research"},{id:"arc",name:"ARC Discovery Project",country:"Australia",region:"Oceania",type:"Research Grant",description:"Australian Research Council grant"},{id:"nhmrc",name:"NHMRC Grant",country:"Australia",region:"Oceania",type:"Health Research",description:"National Health and Medical Research Council"},{id:"marsden",name:"Marsden Fund",country:"New Zealand",region:"Oceania",type:"Research Grant",description:"Excellence-driven research funding"},{id:"dfg",name:"DFG Research Grant",country:"Germany",region:"Europe",type:"Research Grant",description:"Deutsche Forschungsgemeinschaft"},{id:"alexander-humboldt",name:"Alexander von Humboldt Fellowship",country:"Germany",region:"Europe",type:"Fellowship",description:"International research fellowships"},{id:"anr",name:"ANR Research Grant",country:"France",region:"Europe",type:"Research Grant",description:"Agence Nationale de la Recherche"},{id:"snf",name:"Swiss National Science Foundation",country:"Switzerland",region:"Europe",type:"Research Grant",description:"Swiss research funding"},{id:"nwo",name:"NWO Grant",country:"Netherlands",region:"Europe",type:"Research Grant",description:"Netherlands Organisation for Scientific Research"},{id:"nordforsk",name:"NordForsk",country:"Nordic",region:"Europe",type:"Research Grant",description:"Nordic research cooperation"},{id:"jsps",name:"JSPS KAKENHI",country:"Japan",region:"Asia",type:"Research Grant",description:"Japan Society for the Promotion of Science"},{id:"nsfc",name:"NSFC Grant",country:"China",region:"Asia",type:"Research Grant",description:"National Natural Science Foundation of China"},{id:"dst-india",name:"DST Research Grant",country:"India",region:"Asia",type:"Research Grant",description:"Department of Science and Technology"},{id:"csir-india",name:"CSIR Grant",country:"India",region:"Asia",type:"Research Grant",description:"Council of Scientific and Industrial Research"},{id:"nmrc",name:"NMRC Grant",country:"Singapore",region:"Asia",type:"Health Research",description:"National Medical Research Council"},{id:"nrf-sa",name:"NRF Grant",country:"South Africa",region:"Africa",type:"Research Grant",description:"National Research Foundation"},{id:"cnpq",name:"CNPq Grant",country:"Brazil",region:"Latin America",type:"Research Grant",description:"National Council for Scientific and Technological Development"},{id:"fapesp",name:"FAPESP Grant",country:"Brazil",region:"Latin America",type:"Research Grant",description:"So Paulo Research Foundation"},{id:"gef",name:"Global Environment Facility",country:"International",region:"Global",type:"Environment",description:"Large international environmental projects"},{id:"world-bank",name:"World Bank Climate Fund",country:"International",region:"Global",type:"Development",description:"International development projects"},{id:"undp-gef",name:"UNDP-GEF Small Grants",country:"International",region:"Global",type:"Community",description:"Community-based conservation projects"},{id:"fulbright",name:"Fulbright Scholar",country:"International",region:"Global",type:"Fellowship",description:"International research fellowship"},{id:"moore",name:"Moore Foundation",country:"International",region:"Global",type:"Foundation",description:"Large-scale conservation and science"},{id:"packard",name:"Packard Foundation",country:"International",region:"Global",type:"Foundation",description:"Science and conservation"},{id:"pew",name:"Pew Charitable Trusts",country:"International",region:"Global",type:"Foundation",description:"Marine and environmental conservation"},{id:"wellcome",name:"Wellcome Trust",country:"International",region:"Global",type:"Foundation",description:"Health research funding"},{id:"gates",name:"Gates Foundation",country:"International",region:"Global",type:"Foundation",description:"Global health and development"},{id:"natgeo-research",name:"National Geographic Research Grant",country:"International",region:"Global",type:"Exploration",description:"Research and exploration grants for conservation and exploration projects"},{id:"natgeo-early-career",name:"National Geographic Early Career Grant",country:"International",region:"Global",type:"Exploration",description:"Support for early career researchers in exploration and conservation"},{id:"explorers-club",name:"Explorers Club Exploration Fund",country:"International",region:"Global",type:"Exploration",description:"Field research and exploration grants"},{id:"explorers-youth",name:"Explorers Club Youth Activity Fund",country:"International",region:"Global",type:"Exploration",description:"Support for student exploration projects"},{id:"wenner-gren-dissertation",name:"Wenner-Gren Dissertation Fieldwork Grant",country:"International",region:"Global",type:"Anthropology",description:"Dissertation research in anthropology"},{id:"wenner-gren-postphd",name:"Wenner-Gren Post-PhD Research Grant",country:"International",region:"Global",type:"Anthropology",description:"Post-doctoral anthropological research"},{id:"leakey",name:"Leakey Foundation Grant",country:"International",region:"Global",type:"Human Origins",description:"Human origins and evolution research"},{id:"rufford",name:"Rufford Foundation Grant",country:"International",region:"Global",type:"Conservation",description:"Nature conservation projects in developing countries"},{id:"mbz-species",name:"Mohamed bin Zayed Species Conservation Fund",country:"International",region:"Global",type:"Conservation",description:"Species conservation projects worldwide"},{id:"disney-conservation",name:"Disney Conservation Fund",country:"International",region:"Global",type:"Conservation",description:"Wildlife and habitat conservation"},{id:"other",name:"Custom Grant Template",country:"Any",region:"Any",type:"Custom",description:"Create your own section structure"}],Q=[{id:"sdg1",name:"SDG 1: No Poverty",category:"SDG"},{id:"sdg2",name:"SDG 2: Zero Hunger",category:"SDG"},{id:"sdg3",name:"SDG 3: Good Health and Well-being",category:"SDG"},{id:"sdg4",name:"SDG 4: Quality Education",category:"SDG"},{id:"sdg5",name:"SDG 5: Gender Equality",category:"SDG"},{id:"sdg6",name:"SDG 6: Clean Water and Sanitation",category:"SDG"},{id:"sdg7",name:"SDG 7: Affordable and Clean Energy",category:"SDG"},{id:"sdg8",name:"SDG 8: Decent Work and Economic Growth",category:"SDG"},{id:"sdg9",name:"SDG 9: Industry, Innovation and Infrastructure",category:"SDG"},{id:"sdg10",name:"SDG 10: Reduced Inequalities",category:"SDG"},{id:"sdg11",name:"SDG 11: Sustainable Cities and Communities",category:"SDG"},{id:"sdg12",name:"SDG 12: Responsible Consumption and Production",category:"SDG"},{id:"sdg13",name:"SDG 13: Climate Action",category:"SDG"},{id:"sdg14",name:"SDG 14: Life Below Water",category:"SDG"},{id:"sdg15",name:"SDG 15: Life on Land",category:"SDG"},{id:"sdg16",name:"SDG 16: Peace, Justice and Strong Institutions",category:"SDG"},{id:"sdg17",name:"SDG 17: Partnerships for the Goals",category:"SDG"},{id:"paris",name:"Paris Agreement",category:"Climate"},{id:"unfccc",name:"UNFCCC",category:"Climate"},{id:"ipcc",name:"IPCC Framework",category:"Climate"},{id:"green-climate-fund",name:"Green Climate Fund",category:"Climate"},{id:"cbd",name:"CBD Post-2020 Framework (Kunming-Montreal)",category:"Biodiversity"},{id:"cites",name:"CITES",category:"Biodiversity"},{id:"ramsar",name:"Ramsar Convention (Wetlands)",category:"Biodiversity"},{id:"cms",name:"Convention on Migratory Species (CMS)",category:"Biodiversity"},{id:"nagoya",name:"Nagoya Protocol",category:"Biodiversity"},{id:"itpgrfa",name:"Plant Treaty (ITPGRFA)",category:"Biodiversity"},{id:"iucn-red-list",name:"IUCN Red List",category:"Biodiversity"},{id:"world-heritage",name:"UNESCO World Heritage Convention",category:"Biodiversity"},{id:"unesco-mab",name:"UNESCO Man and Biosphere (MAB)",category:"Biodiversity"},{id:"ocean-decade",name:"UN Ocean Decade",category:"Ocean"},{id:"high-seas",name:"High Seas Treaty (BBNJ)",category:"Ocean"},{id:"unclos",name:"UNCLOS",category:"Ocean"},{id:"eu-green-deal",name:"European Green Deal",category:"Regional - Europe"},{id:"eu-biodiversity-2030",name:"EU Biodiversity Strategy 2030",category:"Regional - Europe"},{id:"water-framework-directive",name:"EU Water Framework Directive",category:"Regional - Europe"},{id:"natura-2000",name:"Natura 2000",category:"Regional - Europe"},{id:"agenda-2063",name:"African Union Agenda 2063",category:"Regional - Africa"},{id:"african-convention",name:"African Convention on Conservation",category:"Regional - Africa"},{id:"nepad",name:"NEPAD Environmental Action Plan",category:"Regional - Africa"},{id:"asean-agreement",name:"ASEAN Agreement on Nature Conservation",category:"Regional - Asia"},{id:"saarc-environment",name:"SAARC Environment Framework",category:"Regional - Asia"},{id:"coral-triangle",name:"Coral Triangle Initiative",category:"Regional - Asia"},{id:"escazu",name:"Escaz Agreement",category:"Regional - Latin America"},{id:"amazonian-cooperation",name:"Amazon Cooperation Treaty",category:"Regional - Latin America"},{id:"regional-seas-ropme",name:"ROPME Sea Area",category:"Regional - Middle East"},{id:"usa-nepa",name:"NEPA (USA)",category:"National - USA"},{id:"usa-esa",name:"Endangered Species Act (USA)",category:"National - USA"},{id:"uk-25-year-plan",name:"25 Year Environment Plan (UK)",category:"National - UK"},{id:"australia-epbc",name:"EPBC Act (Australia)",category:"National - Australia"},{id:"canada-species-at-risk",name:"Species at Risk Act (Canada)",category:"National - Canada"},{id:"india-nap",name:"National Action Plan (India)",category:"National - India"},{id:"china-ecological-civilization",name:"Ecological Civilization (China)",category:"National - China"},{id:"brazil-forest-code",name:"Forest Code (Brazil)",category:"National - Brazil"},{id:"sendai",name:"Sendai Framework (Disaster Risk)",category:"Resilience"},{id:"undrip",name:"UN Declaration on Rights of Indigenous Peoples",category:"Indigenous Rights"},{id:"traditional-knowledge",name:"Traditional Knowledge Protocols",category:"Indigenous Rights"}],xe=R=>{s(R)},je=R=>{const se=Array.from(R.target.files).map(we=>({id:Date.now()+Math.random(),name:we.name,size:we.size,type:we.type,file:we,notes:""}));E([...P,...se])},Re=(R,ee)=>{E(P.map(se=>se.id===R?{...se,notes:ee}:se))},rt=R=>{E(P.filter(ee=>ee.id!==R))},Z=()=>{const R={id:`custom-${Date.now()}`,title:"",required:!1,isCustom:!0};M([...T,R])},J=(R,ee)=>{M(T.map(se=>se.id===R?{...se,title:ee}:se))},De=R=>{M(T.filter(ee=>ee.id!==R)),f(m.filter(ee=>ee.id!==R))},Fe=()=>{let R=[{id:"settings",title:"Application Settings",icon:r.jsx(HB,{className:"w-4 h-4"}),required:!1,isSettings:!0}];n==="other"?R=[...R,...T.filter(ee=>ee.title.trim()!=="")]:R=[...R,{id:"executive",title:"Executive Summary",required:!0},{id:"background",title:"Background & Significance",required:!0},{id:"objectives",title:"Research Objectives",required:!0},{id:"methodology",title:"Methodology",required:!0},{id:"impact",title:"Impact & Framework Alignment",required:!0},{id:"timeline",title:"Timeline & Milestones",required:!1},{id:"budget",title:"Budget Justification",required:!1}],f(R),x("settings")},ge=()=>{s(""),f([]),x(null)},te=async()=>{var R,ee;if(!b.trim()){ie("Please enter a prompt to generate content");return}ae(!0),ie(null);try{let se=[];se.push("=== GRANT APPLICATION DETAILS ==="),se.push(`Grant Title: ${a}`),se.push(`Funder: ${o}`),se.push(`Template: ${((R=pe.find(He=>He.id===n))==null?void 0:R.name)||"Custom"}`),se.push(`Current Section: ${((ee=m.find(He=>He.id===g))==null?void 0:ee.title)||"Unknown"}`),d.length>0&&(se.push(`
=== POLICY FRAMEWORK ALIGNMENT ===`),se.push(d.join(`
`))),P.length>0&&(se.push(`
=== SUPPORTING DOCUMENTS ===`),se.push(P.map(He=>`- ${He.name}${He.notes?`: ${He.notes}`:""}`).join(`
`))),ce&&(se.push(`
=== CITATION REQUIREMENTS ===`),se.push("Include relevant recent literature citations (last 5 years) to support key claims and demonstrate knowledge of current research in the field."));const we=m.filter(He=>!He.isSettings&&He.id!==g&&v[He.id]&&v[He.id].trim()!=="");we.length>0&&(se.push(`
=== PREVIOUSLY WRITTEN SECTIONS ===`),we.forEach(He=>{se.push(`
--- ${He.title} ---`),se.push(v[He.id])}));const ue=se.join(`
`),ye=await Zae({prompt:b,context:ue,section:g,template:n,maxTokens:1024});if(ye.success){w({...v,[g]:ye.text});const He=ye.text.split(/\s+/).length;_(S+He),j("")}else ie(ye.error||"Failed to generate text")}catch(se){console.error("AI Generation Error:",se),ie(se.error||"Failed to generate text. Please try again.")}finally{ae(!1)}},Te=R=>{d.includes(R)?u(d.filter(ee=>ee!==R)):u([...d,R])};return m.length===0?r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-purple-50 border-b border-purple-100 py-3 px-4",children:r.jsx("div",{className:"max-w-5xl mx-auto text-center",children:r.jsxs("p",{className:"text-sm text-purple-800",children:[r.jsx(Ct,{className:"w-4 h-4 inline mr-2"}),r.jsx("strong",{children:"Free tier:"})," 3 grant assists/month  Buy credit packs for more ($10 = 10 assists, $25 = 30 assists, $75 = 100 assists)"]})})}),r.jsx("section",{className:"py-16 px-4 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("button",{onClick:()=>t("/ai-writing"),className:"text-gray-600 hover:text-gray-900 mb-6 text-sm font-medium",children:" Back to AI Writing"}),r.jsx("h1",{className:"text-4xl sm:text-5xl text-gray-900 mb-4 font-semibold",children:"Create New Grant Application"}),r.jsx("p",{className:"text-lg text-gray-600 mb-12",children:"Set your grant title, select a funder template, and upload supporting documents. Framework alignment happens on the next page."}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 mb-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Application Details"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grant Title *"}),r.jsx("input",{type:"text",value:a,onChange:R=>i(R.target.value),placeholder:"e.g., Climate Adaptation Strategies for Coastal Ecosystems",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funder/Organization *"}),r.jsx("input",{type:"text",value:o,onChange:R=>c(R.target.value),placeholder:"e.g., National Science Foundation",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Template *"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Search for grant templates by name, country, or region"}),r.jsxs("div",{className:"mb-4 space-y-4",children:[r.jsx("input",{type:"text",value:U,onChange:R=>D(R.target.value),placeholder:"Search templates (e.g., 'Horizon', 'NSF', 'Australia')...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Filter by Region"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["all","Global","North America","Europe","Asia","Oceania","Africa","Latin America"].map(R=>r.jsx("button",{onClick:()=>z(R),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${B===R?"bg-[#009edb] text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R==="all"?"All Regions":R},R))})]})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:pe.filter(R=>{const ee=!U||R.name.toLowerCase().includes(U.toLowerCase())||R.country.toLowerCase().includes(U.toLowerCase())||R.description.toLowerCase().includes(U.toLowerCase()),se=B==="all"||R.region===B;return ee&&se}).map(R=>r.jsx("button",{onClick:()=>xe(R.id),className:`text-left p-4 border-2 rounded-xl transition-all group ${n===R.id?"border-[#009edb] bg-blue-50":"border-gray-200 hover:border-[#009edb]"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(bt,{className:`w-5 h-5 mt-0.5 ${n===R.id,"text-[#009edb]"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:`font-semibold mb-1 ${n===R.id?"text-[#009edb]":"text-gray-900 group-hover:text-[#009edb]"}`,children:R.name}),r.jsxs("div",{className:"text-xs text-gray-500 mb-1 flex items-center gap-2",children:[r.jsx("span",{children:R.country}),r.jsx("span",{children:""}),r.jsx("span",{children:R.type})]}),r.jsx("p",{className:"text-xs text-gray-600",children:R.description})]})]})},R.id))}),pe.filter(R=>{const ee=!U||R.name.toLowerCase().includes(U.toLowerCase())||R.country.toLowerCase().includes(U.toLowerCase())||R.description.toLowerCase().includes(U.toLowerCase()),se=B==="all"||R.region===B;return ee&&se}).length===0&&r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No templates found. Try a different search or region filter."})]}),n==="other"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Sections"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Define your own section titles for this grant application"}),r.jsx("div",{className:"space-y-3 mb-4",children:T.map(R=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"text",value:R.title,onChange:ee=>J(R.id,ee.target.value),placeholder:"e.g., Project Overview, Community Engagement, etc.",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"}),r.jsx("button",{onClick:()=>De(R.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",children:r.jsx(Rs,{className:"w-5 h-5"})})]},R.id))}),r.jsxs("button",{onClick:Z,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm font-medium text-gray-600 hover:border-[#009edb] hover:text-[#009edb] transition-all",children:[r.jsx(O$,{className:"w-5 h-5 inline mr-2"}),"Add Section"]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ce,onChange:R=>I(R.target.checked),className:"mt-1 w-4 h-4 text-[#009edb] border-gray-300 rounded focus:ring-[#009edb]"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Include Recent Literature & Citations"}),r.jsx("p",{className:"text-xs text-gray-600",children:"AI will search for and include relevant recent citations (last 5 years) when generating content. This ensures your application references current research and demonstrates knowledge of the field."})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supporting Documents (Optional)"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload reference materials, previous proposals, or notes to provide context for AI"}),r.jsxs("label",{className:"block",children:[r.jsx("input",{type:"file",multiple:!0,onChange:je,className:"hidden",accept:".pdf,.doc,.docx,.txt"}),r.jsxs("div",{className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-[#009edb] hover:bg-blue-50 transition-all",children:[r.jsx(QB,{className:"w-6 h-6 inline text-gray-400 mb-1"}),r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Click to upload documents"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, Word, or Text files"})]})]}),P.length>0&&r.jsx("div",{className:"mt-4 space-y-3",children:P.map(R=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx(bt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(R.size/1024).toFixed(1)," KB"]})]})]}),r.jsx("button",{onClick:()=>rt(R.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-all",children:r.jsx(Rs,{className:"w-4 h-4"})})]}),r.jsx("textarea",{value:R.notes,onChange:ee=>Re(R.id,ee.target.value),placeholder:"Add notes about this document (e.g., 'Previous successful proposal for NSF', 'Background research on coral reefs', etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none text-sm resize-none",rows:"2"})]},R.id))})]}),r.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:Fe,disabled:!a||!o||!n||n==="other"&&T.filter(R=>R.title.trim()!=="").length===0,className:`w-full py-4 rounded-full text-lg font-medium transition-all ${a&&o&&n&&(n!=="other"||T.filter(R=>R.title.trim()!=="").length>0)?"bg-[#009edb] text-white hover:bg-[#0077b3]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Continue to Writing Interface"}),(!a||!o||!n||n==="other"&&T.filter(R=>R.title.trim()!=="").length===0)&&r.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:n==="other"?"Please fill in all required fields and add at least one custom section":"Please fill in all required fields to continue"})]})]})]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"bg-purple-50 border-b border-purple-100 py-3 px-4",children:r.jsx("div",{className:"max-w-7xl mx-auto text-center",children:r.jsxs("p",{className:"text-sm text-purple-800",children:[r.jsx(Ct,{className:"w-4 h-4 inline mr-2"}),r.jsx("strong",{children:"Free tier:"})," 3 grant assists/month  Buy credit packs for more"]})})}),r.jsx("div",{className:"border-b border-gray-200 bg-gray-50 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:a||"Untitled Application"}),r.jsx("p",{className:"text-sm text-gray-600",children:o})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg border border-gray-200",children:[r.jsx(Ct,{className:"w-4 h-4 text-purple-600"}),r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[S.toLocaleString()," / ",k.toLocaleString()," words"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(hc,{className:"w-4 h-4"}),r.jsx("span",{children:"Auto-saved"})]}),r.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:[r.jsx(Vo,{className:"w-4 h-4 inline mr-2"}),"Save Draft"]}),r.jsxs("button",{className:"px-4 py-2 bg-[#009edb] text-white rounded-lg text-sm font-medium hover:bg-[#0077b3]",children:[r.jsx(DP,{className:"w-4 h-4 inline mr-2"}),"Export"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:r.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sticky top-24",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Sections"}),r.jsx("div",{className:"space-y-1",children:m.map(R=>r.jsx("button",{onClick:()=>x(R.id),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all ${g===R.id?"bg-[#009edb] text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[R.icon&&r.jsx("span",{className:g===R.id?"text-white":"text-gray-500",children:R.icon}),r.jsx("span",{children:R.title})]}),!R.isSettings&&v[R.id]&&r.jsx(Ae,{className:`w-4 h-4 ${g===R.id?"text-white":"text-green-500"}`})]})},R.id))}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Grant Template"}),r.jsx("button",{onClick:()=>x("settings"),className:"w-full text-left px-3 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all group",children:r.jsx("div",{className:"text-xs font-medium text-gray-900 group-hover:text-[#009edb]",children:(Le=pe.find(R=>R.id===n))==null?void 0:Le.name})})]}),d.length>0&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Aligned Frameworks"}),r.jsx("button",{onClick:()=>x("settings"),className:"w-full text-left",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(R=>r.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium hover:bg-green-100 transition-all cursor-pointer",children:R.split(":")[0]},R))})})]})]})}),r.jsxs("div",{className:"lg:col-span-3",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:(ze=m.find(R=>R.id===g))==null?void 0:ze.title}),r.jsx("p",{className:"text-sm text-gray-600",children:g==="settings"?"Manage your application template and framework alignment":"Use AI to generate compelling content or write your own"})]}),g==="settings"?r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grant Template"}),r.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(bt,{className:"w-5 h-5 text-[#009edb] mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:(Qe=pe.find(R=>R.id===n))==null?void 0:Qe.name}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(Tt=pe.find(R=>R.id===n))==null?void 0:Tt.type}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:(At=pe.find(R=>R.id===n))==null?void 0:At.description})]})]}),r.jsx("button",{onClick:ge,className:"px-4 py-2 text-sm font-medium text-[#009edb] hover:bg-blue-50 rounded-lg transition-all",children:"Change Template"})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Framework Alignment"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select or update the international policy frameworks your research aligns with"}),d.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Currently Selected (",d.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(R=>r.jsxs("div",{className:"px-3 py-1.5 bg-green-100 text-green-700 rounded-full text-sm font-medium flex items-center gap-2",children:[R,r.jsx("button",{onClick:()=>Te(R),className:"hover:text-green-900",children:""})]},R))})]}),["SDG","Climate","Biodiversity","Ocean","Resilience"].map(R=>{const ee=Q.filter(se=>se.category===R);return ee.length===0?null:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:R}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map(se=>r.jsx("button",{onClick:()=>Te(se.name),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${d.includes(se.name)?"bg-green-100 text-green-700 border border-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:se.name},se.id))})]},R)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Application Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grant Title"}),r.jsx("input",{type:"text",value:a,onChange:R=>i(R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funder/Organization"}),r.jsx("input",{type:"text",value:o,onChange:R=>c(R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]})]})]}),P.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Research Context (",P.length,")"]}),r.jsx("div",{className:"space-y-3",children:P.map(R=>r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx(bt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(R.size/1024).toFixed(1)," KB"]}),R.notes&&r.jsxs("p",{className:"text-xs text-gray-600 mt-2 italic",children:['"',R.notes,'"']})]})]}),r.jsx("button",{onClick:()=>rt(R.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-all flex-shrink-0",title:"Remove document",children:r.jsx(Rs,{className:"w-5 h-5"})})]})},R.id))}),r.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"These documents provide context to AI when generating content"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-purple-50 rounded-xl p-6 mb-6 border border-purple-100",children:r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(Ct,{className:"w-5 h-5 text-purple-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"AI Writing Assistant"}),r.jsx("textarea",{value:b,onChange:R=>{j(R.target.value),ie(null)},placeholder:"Describe what you want to write about... e.g., 'Explain how my research addresses SDG 13 climate targets and contributes to Paris Agreement goals'",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none resize-none",rows:"3",disabled:$}),G&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:G}),r.jsx("button",{onClick:te,disabled:$||!b.trim(),className:`mt-3 px-6 py-2 rounded-lg text-sm font-medium transition-all ${$||!b.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,children:$?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"inline w-4 h-4 mr-2 animate-spin",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Generate with AI"})]})]})}),r.jsxs("div",{children:[r.jsx("textarea",{value:v[g]||"",onChange:R=>w({...v,[g]:R.target.value}),placeholder:"Start writing or use AI to generate content...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none resize-none min-h-[400px]"}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm text-gray-600",children:[r.jsxs("span",{children:[((W=v[g])==null?void 0:W.split(" ").length)||0," words in this section"]}),r.jsxs("span",{children:[k-S," words remaining"]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("button",{onClick:()=>{const R=m.findIndex(ee=>ee.id===g);R>0&&x(m[R-1].id)},className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Previous Section"}),r.jsx("button",{onClick:()=>{const R=m.findIndex(ee=>ee.id===g);R<m.length-1&&x(m[R+1].id)},className:"px-6 py-2 bg-[#009edb] text-white rounded-lg text-sm font-medium hover:bg-[#0077b3]",children:"Next Section"})]})]})]})})]})}const Th=Nt.create({baseURL:Sr("/api/events"),headers:{"Content-Type":"application/json"}});Th.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const sd=async(e,t=!1)=>{var n;try{const s=t?{includePrivate:"true"}:{};return(await Th.get(`/user/${e}`,{params:s})).data}catch(s){throw console.error("Get User Events Error:",s),((n=s.response)==null?void 0:n.data)||{success:!1,error:"Failed to fetch events"}}},vie=async e=>{var t;try{return(await Th.post("/",e)).data}catch(n){throw console.error("Create Event Error:",n),((t=n.response)==null?void 0:t.data)||{success:!1,error:"Failed to create event"}}},bie=async(e,t)=>{var n;try{return(await Th.put(`/${e}`,t)).data}catch(s){throw console.error("Update Event Error:",s),((n=s.response)==null?void 0:n.data)||{success:!1,error:"Failed to update event"}}},wie=async e=>{var t;try{return(await Th.delete(`/${e}`)).data}catch(n){throw console.error("Delete Event Error:",n),((t=n.response)==null?void 0:t.data)||{success:!1,error:"Failed to delete event"}}};delete Ui.Icon.Default.prototype._getIconUrl;Ui.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});function jie(){var le,$,ae,G,ie,ce;const{compassId:e}=ul(),{user:t}=Ot(),n=Yt(),[s,a]=p.useState(!1),[i,o]=p.useState(!0),[c,d]=p.useState("all"),[u,m]=p.useState("all"),[f,g]=p.useState("all"),[x,v]=p.useState(!1),[w,b]=p.useState({past:[],upcoming:[]}),j=(t==null?void 0:t.compass_id)===e,{data:S}=kr({queryKey:["profile"],queryFn:()=>ei.getProfile().then(I=>I.data),enabled:j}),{data:_,isLoading:k}=kr({queryKey:["researcher",e],queryFn:()=>LP.getProfile(e).then(I=>I.data),enabled:!!e&&!j}),A=j?S==null?void 0:S.user:_==null?void 0:_.researcher,P=A?{compassId:A.compass_id||e,firstName:A.first_name||"User",lastName:A.last_name||"",email:"",position:A.position||"Researcher",institution:A.institution||"Not specified",department:A.department||"",bio:A.bio||"",location:A.location||"",website:A.website||"",orcid:A.orcid_id||"",avatarUrl:A.avatar_url||"",googleScholarUrl:A.google_scholar_url||"",frameworks:(j?(S==null?void 0:S.frameworks)||[]:(_==null?void 0:_.frameworks)||[]).map(I=>I.framework).filter(Boolean),publications:(j?(S==null?void 0:S.research)||[]:(_==null?void 0:_.research)||[]).map(I=>{var pe;try{return{title:I.title||"Untitled",journal:I.journal||"Unknown Journal",year:((pe=I.publication_year)==null?void 0:pe.toString())||(I.created_at?new Date(I.created_at).getFullYear().toString():""),doi:I.doi||"",frameworks:Array.isArray(I.framework_alignment)?I.framework_alignment:[],location:I.location||"",coordinates:I.coordinates||null,species:I.taxon_scope?typeof I.taxon_scope=="string"?I.taxon_scope:JSON.stringify(I.taxon_scope):"",methods:I.methods?typeof I.methods=="string"?I.methods:JSON.stringify(I.methods):"",sampleSize:"",studyType:"Research Study",abstract:I.abstract||"",ecosystem_type:I.ecosystem_type||""}}catch(Q){return console.error("Error mapping publication:",Q),null}}).filter(Boolean),employment:A.employment||[],education:A.education||[],researchInterests:A.research_interests||[],grants:[],stats:{publications:(j?(le=S==null?void 0:S.stats)==null?void 0:le.total_research:($=_==null?void 0:_.stats)==null?void 0:$.total_research)||0,citations:0,hIndex:0,grants:0,collaborators:0}}:j&&(S!=null&&S.user)?{compassId:S.user.compass_id||e,firstName:S.user.first_name||"User",lastName:S.user.last_name||"",email:S.user.email,position:S.user.current_position||"Researcher",institution:S.user.institution||"Not specified",department:S.user.department||"",bio:S.user.bio||'No biography added yet. Click "Edit Profile" to add information about your research and expertise.',location:S.user.location||"",website:S.user.website||"",orcid:S.user.orcid_id||"",avatarUrl:S.user.avatar_url||"",googleScholarUrl:S.user.google_scholar_url||"",frameworks:[],employment:S.user.employment||[],education:S.user.education||[],researchInterests:S.user.research_interests||[],publications:[],grants:[],stats:{publications:0,citations:0,hIndex:0,grants:0,collaborators:0}}:null,E=()=>{navigator.clipboard.writeText(`https://compassid.org/${P.compassId}`)},T=()=>{n("/messages/compose",{state:{recipient:{id:P.compassId,name:`${P.firstName} ${P.lastName}`,compass_id:P.compassId,institution:P.institution,position:P.position}}})},M=async()=>{if(!t){n("/login");return}a(!s)};if(p.useEffect(()=>{(async()=>{var pe,Q;if((pe=_==null?void 0:_.researcher)!=null&&pe.id)try{const xe=await sd(_.researcher.id,!1);b(xe)}catch(xe){console.error("Failed to load events:",xe)}else if(j&&((Q=S==null?void 0:S.user)!=null&&Q.id))try{const xe=await sd(S.user.id,!0);b(xe)}catch(xe){console.error("Failed to load events:",xe)}})()},[_,S,j]),j&&!S||!j&&k)return r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#009edb] mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})});if(!P)return r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md px-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Profile Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The profile you're looking for doesn't exist or couldn't be loaded."}),r.jsx(ne,{to:"/",className:"inline-block px-6 py-3 bg-[#009edb] text-white rounded-lg hover:bg-[#0077b3] transition-colors",children:"Return Home"})]})});const U=P.publications.filter(I=>!(c!=="all"&&I.year!==c||u!=="all"&&!I.frameworks.includes(u)||f!=="all"&&I.studyType!==f)),D=["all",...new Set(P.publications.map(I=>I.year))].sort().reverse(),B=["all",...new Set(P.publications.flatMap(I=>I.frameworks))],z=["all",...new Set(P.publications.map(I=>I.studyType))],X={"@context":"https://schema.org","@type":"Person",name:`${P.firstName} ${P.lastName}`,givenName:P.firstName,familyName:P.lastName,jobTitle:P.position,worksFor:P.institution?{"@type":"Organization",name:P.institution}:void 0,description:P.bio,url:`https://compassid.org/profile/${e}`,identifier:P.orcid?`https://orcid.org/${P.orcid}`:void 0,email:P.email&&!j?void 0:P.email,alumniOf:(ae=P.education)==null?void 0:ae.map(I=>({"@type":"EducationalOrganization",name:I.institution}))};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsxs(lP,{children:[r.jsxs("title",{children:[P.firstName," ",P.lastName," | COMPASSID Researcher Profile"]}),r.jsx("meta",{name:"description",content:((G=P.bio)==null?void 0:G.substring(0,160))||`${P.firstName} ${P.lastName} - ${P.position} at ${P.institution}`}),r.jsx("meta",{property:"og:title",content:`${P.firstName} ${P.lastName} | COMPASSID`}),r.jsx("meta",{property:"og:description",content:((ie=P.bio)==null?void 0:ie.substring(0,200))||`${P.position} at ${P.institution}`}),r.jsx("meta",{property:"og:type",content:"profile"}),r.jsx("meta",{property:"og:url",content:`https://compassid.org/profile/${e}`}),r.jsx("meta",{property:"profile:first_name",content:P.firstName}),r.jsx("meta",{property:"profile:last_name",content:P.lastName}),r.jsx("meta",{name:"twitter:card",content:"summary"}),r.jsx("meta",{name:"twitter:title",content:`${P.firstName} ${P.lastName}`}),r.jsx("meta",{name:"twitter:description",content:((ce=P.bio)==null?void 0:ce.substring(0,200))||`${P.position} at ${P.institution}`}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify(X)})]}),r.jsx("section",{className:"py-12 px-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("div",{className:"flex items-start justify-between mb-6",children:r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[P.avatarUrl?r.jsx("img",{src:P.avatarUrl,alt:`${P.firstName} ${P.lastName}`,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):r.jsxs("div",{className:"w-20 h-20 bg-gradient-to-br from-[#009edb] to-[#0077b3] rounded-full flex items-center justify-center text-white text-2xl font-bold",children:[P.firstName.charAt(0),P.lastName.charAt(0)]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold",children:[P.firstName," ",P.lastName]}),r.jsx("p",{className:"text-lg text-gray-600 mt-1",children:P.position})]})]})})}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"COMPASS ID"}),r.jsx("div",{className:"text-xl font-mono font-semibold text-gray-900",children:P.compassId}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["https://compassid.org/",P.compassId]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!j&&t&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:M,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${s?"bg-gray-100 hover:bg-gray-200 text-gray-700":"bg-[#009edb] hover:bg-[#0077b3] text-white"}`,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Ps,{className:"w-4 h-4"}),"Following"]}):r.jsxs(r.Fragment,{children:[r.jsx(GP,{className:"w-4 h-4"}),"Follow"]})}),r.jsxs("button",{onClick:T,className:"px-4 py-2 border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg text-sm font-medium transition-all flex items-center gap-2",children:[r.jsx(ux,{className:"w-4 h-4"}),"Message"]})]}),r.jsxs("button",{onClick:E,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium text-gray-700 transition-all flex items-center gap-2",children:[r.jsx(Ma,{className:"w-4 h-4"}),"Copy Link"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.stats.publications}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Publications"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.stats.citations}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Citations"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.stats.hIndex}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"h-index"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.stats.grants}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Grants"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.stats.collaborators}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Collaborators"})]})]})]})}),r.jsx("section",{className:"py-12 px-4",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact & Links"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ec,{className:"w-4 h-4 text-gray-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:P.institution}),r.jsx("div",{className:"text-gray-600",children:P.department})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(cr,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:P.location})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ri,{className:"w-4 h-4 text-gray-500"}),r.jsx("a",{href:`mailto:${P.email}`,className:"text-[#009edb] hover:underline",children:P.email})]}),P.website&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ma,{className:"w-4 h-4 text-gray-500"}),r.jsx("a",{href:P.website,target:"_blank",rel:"noopener noreferrer",className:"text-[#009edb] hover:underline",children:"Personal Website"})]}),P.orcid&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bt,{className:"w-4 h-4 text-gray-500"}),r.jsxs("a",{href:`https://orcid.org/${P.orcid}`,target:"_blank",rel:"noopener noreferrer",className:"text-[#009edb] hover:underline",children:["ORCID: ",P.orcid]})]}),P.googleScholarUrl&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Qo,{className:"w-4 h-4 text-gray-500"}),r.jsx("a",{href:P.googleScholarUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#009edb] hover:underline",children:"Google Scholar Profile"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Policy Framework Alignment"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.frameworks.map((I,pe)=>r.jsx("span",{className:"px-3 py-1.5 bg-green-50 text-green-700 rounded-full text-xs font-medium",children:I},pe))})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Research Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.researchInterests.map((I,pe)=>r.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:I},pe))})]}),U.filter(I=>I.coordinates).length>0&&r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:r.jsxs("button",{onClick:()=>v(!0),className:"w-full text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-green-50 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Research Locations"}),r.jsx("div",{className:"p-1.5 bg-white rounded-lg shadow-sm",children:r.jsx(y$,{className:"w-4 h-4 text-primary-600"})})]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[U.filter(I=>I.coordinates).length," field sites  Click to view map"]})]}),r.jsxs("div",{className:"h-[180px] w-full relative pointer-events-none",children:[r.jsxs(Xo,{center:[0,100],zoom:1,className:"h-full w-full",scrollWheelZoom:!1,zoomControl:!1,dragging:!1,touchZoom:!1,doubleClickZoom:!1,keyboard:!1,children:[r.jsx(el,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),U.map((I,pe)=>I.coordinates&&r.jsx(Im,{position:[I.coordinates.lat,I.coordinates.lng]},pe))]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/20 to-transparent pointer-events-none"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(hd,{className:"w-5 h-5"}),"Funding & Grants"]}),r.jsx("div",{className:"space-y-4",children:P.grants.map((I,pe)=>r.jsxs("div",{className:"pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 leading-snug",children:I.title}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ml-2 ${I.status==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:I.status})]}),r.jsx("p",{className:"text-xs text-gray-700 mb-1",children:I.funder}),r.jsxs("p",{className:"text-xs text-gray-600",children:[I.amount,"  ",I.year]})]},pe))})]})]}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Biography"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:P.bio})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Jo,{className:"w-6 h-6"}),"Employment"]}),r.jsx("div",{className:"space-y-4",children:P.employment.map((I,pe)=>r.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I.title}),r.jsx("p",{className:"text-base text-gray-700 mt-1",children:I.institution}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.department}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[I.startDate," - ",I.current?"Present":I.endDate]})]}),I.current&&r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Current"})]})},pe))})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Qo,{className:"w-6 h-6"}),"Education"]}),r.jsx("div",{className:"space-y-4",children:P.education.map((I,pe)=>r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I.degree}),r.jsx("p",{className:"text-base text-gray-700 mt-1",children:I.institution}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:I.year}),I.thesis&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:["Thesis: ",I.thesis]})]},pe))})]}),(w.upcoming.length>0||w.past.length>0)&&r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Jr,{className:"w-6 h-6"}),"Events & Presentations"]}),w.upcoming&&w.upcoming.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Upcoming Events"}),r.jsx("div",{className:"space-y-4",children:w.upcoming.map(I=>r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-6 border border-blue-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 flex-1",children:I.title}),r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium ml-4 flex-shrink-0",children:I.event_type})]}),I.description&&r.jsx("p",{className:"text-sm text-gray-700 mb-4 leading-relaxed",children:I.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Jr,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:new Date(I.event_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),I.location_name&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Wt,{className:"w-4 h-4 text-blue-600"}),r.jsxs("span",{children:[I.location_name,I.location_address&&`, ${I.location_address}`]})]}),I.presenter_role&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Cr,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"capitalize",children:I.presenter_role})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(cr,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"capitalize",children:I.location_type})]})]}),(I.event_link||I.registration_link)&&r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[I.event_link&&r.jsxs("a",{href:I.event_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[r.jsx(Ma,{className:"w-4 h-4"}),"Join Event"]}),I.registration_link&&r.jsx("a",{href:I.registration_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 border border-blue-600 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors",children:"Register"})]}),I.materials&&I.materials.length>0&&r.jsxs("div",{className:"border-t border-blue-100 pt-4",children:[r.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Materials"}),r.jsx("div",{className:"space-y-2",children:I.materials.filter(pe=>j||!pe.isLocked).map((pe,Q)=>r.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3 border border-gray-200",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 text-sm",children:pe.name}),pe.description&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:pe.description}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[pe.type&&r.jsx("span",{className:"text-xs text-gray-500 uppercase",children:pe.type}),pe.size&&r.jsx("span",{className:"text-xs text-gray-500",children:pe.size})]})]}),pe.isLocked?r.jsx("span",{className:"ml-4 px-3 py-1.5 bg-gray-100 text-gray-500 rounded-lg text-xs font-medium",children:"Locked"}):r.jsx("a",{href:pe.url,target:"_blank",rel:"noopener noreferrer",className:"ml-4 px-3 py-1.5 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors",children:"Download"})]},Q))})]})]},I.id))})]}),w.past&&w.past.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Past Events"}),r.jsx("div",{className:"space-y-4",children:w.past.map(I=>r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-700 flex-1",children:I.title}),r.jsx("span",{className:"px-3 py-1 bg-gray-200 text-gray-600 rounded-full text-xs font-medium ml-4 flex-shrink-0",children:I.event_type})]}),I.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed",children:I.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx(Jr,{className:"w-4 h-4"}),r.jsx("span",{children:new Date(I.event_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),I.location_name&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx(Wt,{className:"w-4 h-4"}),r.jsxs("span",{children:[I.location_name,I.location_address&&`, ${I.location_address}`]})]}),I.presenter_role&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx(Cr,{className:"w-4 h-4"}),r.jsx("span",{className:"capitalize",children:I.presenter_role})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx(cr,{className:"w-4 h-4"}),r.jsx("span",{className:"capitalize",children:I.location_type})]})]}),(I.event_link||I.registration_link)&&r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[I.event_link&&r.jsxs("a",{href:I.event_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-400 transition-colors",children:[r.jsx(Ma,{className:"w-4 h-4"}),"Event Link"]}),I.registration_link&&r.jsx("a",{href:I.registration_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-400 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors",children:"Registration"})]}),I.materials&&I.materials.length>0&&r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Materials"}),r.jsx("div",{className:"space-y-2",children:I.materials.filter(pe=>j||!pe.isLocked).map((pe,Q)=>r.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3 border border-gray-200",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-700 text-sm",children:pe.name}),pe.description&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:pe.description}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[pe.type&&r.jsx("span",{className:"text-xs text-gray-400 uppercase",children:pe.type}),pe.size&&r.jsx("span",{className:"text-xs text-gray-400",children:pe.size})]})]}),pe.isLocked?r.jsx("span",{className:"ml-4 px-3 py-1.5 bg-gray-100 text-gray-500 rounded-lg text-xs font-medium",children:"Locked"}):r.jsx("a",{href:pe.url,target:"_blank",rel:"noopener noreferrer",className:"ml-4 px-3 py-1.5 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors",children:"Download"})]},Q))})]})]},I.id))})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(bt,{className:"w-6 h-6"}),"Publications"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[U.length," ",U.length!==P.publications.length&&`of ${P.publications.length}`]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("select",{value:c,onChange:I=>d(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white hover:border-gray-400 transition-colors",children:D.map(I=>r.jsx("option",{value:I,children:I==="all"?"Year":I},I))}),r.jsx("select",{value:u,onChange:I=>m(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white hover:border-gray-400 transition-colors",children:B.map(I=>r.jsx("option",{value:I,children:I==="all"?"Framework":I},I))}),r.jsx("select",{value:f,onChange:I=>g(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white hover:border-gray-400 transition-colors",children:z.map(I=>r.jsx("option",{value:I,children:I==="all"?"Type":I},I))}),(c!=="all"||u!=="all"||f!=="all")&&r.jsx("button",{onClick:()=>{d("all"),m("all"),g("all")},className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:"Reset"})]})]})}),r.jsxs("div",{className:"space-y-6",children:[U.map((I,pe)=>r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:I.title}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[I.journal," (",I.year,")"]}),r.jsx("p",{className:"text-sm text-gray-700 mb-4 italic leading-relaxed",children:I.abstract}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsxs("span",{className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-medium flex items-center gap-1.5",children:[r.jsx("span",{className:"font-semibold",children:"Type:"})," ",I.studyType]}),I.ecosystem_type&&r.jsxs("span",{className:"px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-xs font-medium flex items-center gap-1.5",children:[r.jsx("span",{className:"font-semibold",children:"Ecosystem:"})," ",I.ecosystem_type]}),r.jsxs("span",{className:"px-3 py-1.5 bg-purple-50 text-purple-700 rounded-lg text-xs font-medium flex items-center gap-1.5",children:[r.jsx("span",{className:"font-semibold",children:"Species:"})," ",I.species]}),r.jsxs("span",{className:"px-3 py-1.5 bg-orange-50 text-orange-700 rounded-lg text-xs font-medium flex items-center gap-1.5",children:[r.jsx("span",{className:"font-semibold",children:"Sample:"})," ",I.sampleSize]}),I.location&&I.coordinates&&r.jsxs("span",{className:"px-3 py-1.5 bg-teal-50 text-teal-700 rounded-lg text-xs font-medium flex items-center gap-1.5",children:[r.jsx(Wt,{className:"w-3.5 h-3.5"}),I.location]}),I.coordinates&&r.jsxs("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-600 rounded-lg text-xs font-mono",children:[I.coordinates.lat.toFixed(4),", ",I.coordinates.lng.toFixed(4),""]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Methods:"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.methods})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:I.frameworks.map((Q,xe)=>r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-md text-xs font-medium border border-green-200",children:Q},xe))}),r.jsxs("a",{href:`https://doi.org/${I.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#009edb] hover:text-[#0077b3] font-medium hover:underline",children:["DOI: ",I.doi," "]})]},pe)),r.jsx(ne,{to:`/search?author=${P.compassId}`,className:"block text-center py-3 text-[#009edb] hover:text-[#0077b3] font-medium transition-all",children:"View all publications "})]})]})]})})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 overflow-hidden",onClick:()=>v(!1),children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-7xl h-[85vh] flex flex-col shadow-2xl overflow-hidden",onClick:I=>I.stopPropagation(),children:[r.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 via-green-50 to-blue-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Wt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Global Research Locations"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[U.filter(I=>I.coordinates).length," field sites  ",new Set(U.filter(I=>I.coordinates).map(I=>I.location.split(",").pop().trim())).size," regions"]})]})]}),r.jsx("button",{onClick:()=>v(!1),className:"p-2.5 hover:bg-white/80 rounded-xl transition-all hover:shadow-md group","aria-label":"Close map",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500 group-hover:text-gray-700"})})]})}),r.jsx("div",{className:"flex-1 relative overflow-hidden",children:r.jsxs(Xo,{center:[0,100],zoom:2,className:"h-full w-full",scrollWheelZoom:!0,zoomControl:!0,children:[r.jsx(el,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),U.map((I,pe)=>I.coordinates&&r.jsx(Im,{position:[I.coordinates.lat,I.coordinates.lng],children:r.jsx(Aj,{maxWidth:350,className:"custom-popup",children:r.jsxs("div",{className:"p-3",children:[r.jsx("h4",{className:"font-bold text-sm text-gray-900 mb-2 leading-snug",children:I.title}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 font-medium min-w-[60px]",children:"Journal:"}),r.jsxs("span",{className:"text-xs text-gray-700",children:[I.journal," (",I.year,")"]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Wt,{className:"w-3.5 h-3.5 text-green-600 mt-0.5"}),r.jsx("span",{className:"text-xs text-gray-700",children:I.location})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 font-medium min-w-[60px]",children:"Species:"}),r.jsx("span",{className:"text-xs text-gray-700",children:I.species})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 font-medium min-w-[60px]",children:"Methods:"}),r.jsx("span",{className:"text-xs text-gray-700",children:I.methods})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 font-medium min-w-[60px]",children:"Sample:"}),r.jsx("span",{className:"text-xs text-gray-700",children:I.sampleSize})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 font-medium min-w-[60px]",children:"Type:"}),r.jsx("span",{className:"text-xs text-gray-700",children:I.studyType})]}),r.jsx("div",{className:"pt-2 border-t border-gray-100",children:r.jsx("div",{className:"flex flex-wrap gap-1.5",children:I.frameworks.map((Q,xe)=>r.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded-md text-xs font-medium border border-green-100",children:Q},xe))})})]})]})})},pe))]})})]})})]})}const Nie="modulepreload",_ie=function(e){return"/"+e},WC={},Sie=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(d=>{if(d=_ie(d),d in WC)return;WC[d]=!0;const u=d.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Nie,u||(f.as="script"),f.crossOrigin="",f.href=d,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((g,x)=>{f.addEventListener("load",g),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};delete Ui.Icon.Default.prototype._getIconUrl;Ui.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function kie({onLocationSelect:e}){return mz({click(t){e(t.latlng)}}),null}function HC(){var Fe,ge;const e=Yt(),[t,n]=p.useState("doi"),[s,a]=p.useState(""),[i,o]=p.useState(!1),[c,d]=p.useState(""),[u,m]=p.useState(null),[f,g]=p.useState(null),[x,v]=p.useState(!1),[w,b]=p.useState(!1),[j,S]=p.useState(!1),[_,k]=p.useState(!1),[A,P]=p.useState(""),[E,T]=p.useState(!1),[M,U]=p.useState({title:"",authors:"",journal:"",year:"",volume:"",issue:"",pages:"",doi:"",pmid:"",arxiv:"",url:"",abstract:"",keywords:"",researchType:"",frameworks:[],customFrameworks:"",geographicScope:"",studySites:[],taxonomicCoverage:"",temporalRange:"",researchMethods:"",dataAvailability:"",ecosystemType:""}),[D,B]=p.useState({name:"",latitude:"",longitude:""}),[z,X]=p.useState(""),[le,$]=p.useState(!1),[ae,G]=p.useState(""),[ie,ce]=p.useState(!1),I=["Original Research","Review Article","Meta-Analysis","Case Study","Technical Report","Policy Brief","Conference Paper","Book Chapter","Thesis/Dissertation"],pe=async()=>{var te,Te,Le,ze,Qe,Tt,At,W,R,ee;o(!0),d(""),m(null),g(null);try{let se=null;if(t==="doi"){const we=s.replace(/^doi:/i,"").trim(),{crossrefAPI:ue}=await Sie(async()=>{const{crossrefAPI:He}=await Promise.resolve().then(()=>oB);return{crossrefAPI:He}},void 0),ye=await ue.lookupDOI(we);ye&&(se={title:((te=ye.title)==null?void 0:te[0])||"",authors:((Te=ye.author)==null?void 0:Te.map(He=>`${He.given||""} ${He.family||""}`).join(", "))||"",journal:((Le=ye["container-title"])==null?void 0:Le[0])||"",year:((At=(Tt=(Qe=(ze=ye.published)==null?void 0:ze["date-parts"])==null?void 0:Qe[0])==null?void 0:Tt[0])==null?void 0:At.toString())||"",volume:ye.volume||"",issue:ye.issue||"",pages:ye.page||"",doi:ye.DOI||we,abstract:ye.abstract||"",keywords:((W=ye.subject)==null?void 0:W.join(", "))||""})}else if(t==="pmid"){d("PubMed lookup coming soon"),o(!1);return}else if(t==="arxiv"){d("arXiv lookup coming soon"),o(!1);return}if(se){if(m(se),U({...M,...se}),b(!0),se.title&&se.abstract)try{const we=await Y2({title:se.title,abstract:se.abstract,existingTags:M.frameworks});we.success&&we.suggestions?g(we.suggestions):g({frameworks:[],species:[],methods:[],geographic:[],rationale:""})}catch(we){console.error("AI suggestion error:",we),g({frameworks:[],species:[],methods:[],geographic:[],rationale:""})}}else d("No metadata found for this identifier")}catch(se){d(((ee=(R=se.response)==null?void 0:R.data)==null?void 0:ee.message)||"Failed to fetch metadata. Please check the identifier and try again.")}finally{o(!1)}},Q=te=>{M.frameworks.includes(te)?U({...M,frameworks:M.frameworks.filter(Te=>Te!==te)}):U({...M,frameworks:[...M.frameworks,te]})},xe=()=>{D.name&&D.latitude&&D.longitude&&(U({...M,studySites:[...M.studySites,{...D}]}),B({name:"",latitude:"",longitude:""}),v(!1))},je=te=>{U({...M,studySites:M.studySites.filter((Te,Le)=>Le!==te)})},Re=te=>{for(const Te of Object.values($S)){const Le=Te.find(ze=>ze.code===te);if(Le)return Le.name}return te},rt=()=>{const te=[];return Object.entries($S).forEach(([Te,Le])=>{Le.forEach(ze=>{te.push({...ze,category:Te})})}),te},Z=()=>{if(!z.trim())return[];const te=z.toLowerCase();return rt().filter(Le=>Le.name.toLowerCase().includes(te)||Le.category.toLowerCase().includes(te)||Le.code.toLowerCase().includes(te)).filter(Le=>!M.frameworks.includes(Le.code)).slice(0,10)},J=()=>{if(!ae.trim())return I;const te=ae.toLowerCase();return I.filter(Te=>Te.toLowerCase().includes(te))},De=async()=>{var te,Te;k(!0),P("");try{let Le=null;if(M.studySites&&M.studySites.length>0)if(M.studySites.length===1){const se=M.studySites[0];Le={type:"Point",coordinates:[parseFloat(se.longitude),parseFloat(se.latitude)]}}else{const se=M.studySites[0];Le={type:"Point",coordinates:[parseFloat(se.longitude),parseFloat(se.latitude)]}}let ze,Qe;if(M.temporalRange){const se=M.temporalRange.match(/(\d{4})-(\d{4})/);se&&(ze=`${se[1]}-01-01`,Qe=`${se[2]}-12-31`)}const Tt=M.authors.split(",").map(se=>se.trim()).filter(se=>se).map(se=>({name:se})),At=M.taxonomicCoverage?M.taxonomicCoverage.split(",").map(se=>se.trim()).filter(se=>se).map(se=>({scientific_name:se})):[],W={framework_alignment:M.frameworks.length>0?M.frameworks:["OTHER"],methods:M.researchMethods?M.researchMethods.split(",").map(se=>se.trim()).filter(se=>se):[]};Le&&(W.geo_scope=Le),M.geographicScope&&M.geographicScope.trim()&&(W.geo_scope_text=M.geographicScope.trim()),At.length>0&&(W.taxon_scope=At),ze&&(W.temporal_start=ze),Qe&&(W.temporal_end=Qe),M.ecosystemType&&M.ecosystemType.trim()&&(W.ecosystem_type=M.ecosystemType.trim());const R={title:M.title,authors:Tt,publication_year:parseInt(M.year),compass_metadata:W};M.journal&&(R.journal=M.journal),M.abstract&&(R.abstract=M.abstract),M.doi&&(R.doi=M.doi),console.log("Submitting research data:",JSON.stringify(R,null,2));const ee=await Li.submit(R);T(!0),setTimeout(()=>{e("/dashboard")},2e3)}catch(Le){console.error("Research submission error:",Le),P(((Te=(te=Le.response)==null?void 0:te.data)==null?void 0:Te.message)||Le.message||"Failed to submit research. Please try again."),k(!1)}};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("button",{onClick:()=>e(-1),className:"text-gray-600 hover:text-gray-900 mb-6 text-sm font-medium",children:" Back"}),r.jsx("h1",{className:"text-4xl sm:text-5xl text-gray-900 mb-4 font-semibold",children:"Add Research to Your Profile"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Import research by DOI or other identifier, or enter manually. Then tag with policy frameworks."})]})}),r.jsx("section",{className:"py-12 px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[!u&&!j&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 mb-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Search by Identifier"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select identifier type"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"doi",label:"DOI",example:"10.1038/nature12345"},{value:"pmid",label:"PubMed ID",example:"12345678"},{value:"pmc",label:"PMC ID",example:"PMC1234567"},{value:"arxiv",label:"arXiv ID",example:"2301.12345"},{value:"isbn",label:"ISBN",example:"978-3-16-148410-0"},{value:"url",label:"URL",example:"https://example.org/paper.pdf"}].map(te=>r.jsx("button",{onClick:()=>n(te.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${t===te.value?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:te.label},te.value))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Enter ",t.toUpperCase()]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",value:s,onChange:te=>a(te.target.value),placeholder:`e.g., ${t==="doi"?"10.1038/nature12345":t==="pmid"?"12345678":t==="pmc"?"PMC1234567":t==="arxiv"?"2301.12345":t==="isbn"?"978-3-16-148410-0":"https://example.org/paper.pdf"}`,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none",onKeyPress:te=>te.key==="Enter"&&pe()}),r.jsx("button",{onClick:pe,disabled:!s||i,className:`px-6 py-3 rounded-lg font-medium flex items-center gap-2 ${!s||i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700"}`,children:i?r.jsxs(r.Fragment,{children:[r.jsx(Vp,{className:"w-5 h-5 animate-spin"}),"Searching..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"w-5 h-5"}),"Search"]})})]}),c&&r.jsxs("div",{className:"mt-3 flex items-center gap-2 text-red-600 text-sm",children:[r.jsx(mm,{className:"w-4 h-4"}),c]})]}),r.jsx("div",{className:"pt-6 border-t border-gray-200",children:r.jsx("button",{onClick:()=>S(!0),className:"text-primary-600 hover:text-primary-700 font-medium text-sm",children:"Can't find it? Enter manually "})})]}),(u||j)&&r.jsxs("div",{className:"space-y-8",children:[u&&r.jsxs("div",{className:"bg-green-50 rounded-xl border border-green-200 p-4 flex items-center gap-3",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-green-900",children:"Metadata retrieved successfully"}),r.jsx("div",{className:"text-sm text-green-700",children:"Review and add policy framework tags below"})]})]}),u&&w&&r.jsx("div",{className:"bg-yellow-50 rounded-xl border border-yellow-300 p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ct,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-yellow-900 mb-1",children:"Authorship Verification"}),r.jsx("div",{className:"text-sm text-yellow-800 mb-3",children:"We couldn't automatically verify your authorship on this paper. COMPASS ID is designed for researchers to showcase their own work."}),r.jsx("div",{className:"text-xs text-yellow-700",children:"If you are an author on this paper, please continue. If not, please only add papers you've authored."})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Publication Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:M.title,onChange:te=>U({...M,title:te.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Authors *"}),r.jsx("input",{type:"text",value:M.authors,onChange:te=>U({...M,authors:te.target.value}),placeholder:"LastName, F.M., LastName, F.M.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Journal/Publication *"}),r.jsx("input",{type:"text",value:M.journal,onChange:te=>U({...M,journal:te.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),r.jsx("input",{type:"text",value:M.year,onChange:te=>U({...M,year:te.target.value}),placeholder:"2023",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volume"}),r.jsx("input",{type:"text",value:M.volume,onChange:te=>U({...M,volume:te.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue"}),r.jsx("input",{type:"text",value:M.issue,onChange:te=>U({...M,issue:te.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pages"}),r.jsx("input",{type:"text",value:M.pages,onChange:te=>U({...M,pages:te.target.value}),placeholder:"123-145",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DOI"}),r.jsx("input",{type:"text",value:M.doi,onChange:te=>U({...M,doi:te.target.value}),placeholder:"10.1038/nature12345",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abstract"}),r.jsx("textarea",{value:M.abstract,onChange:te=>U({...M,abstract:te.target.value}),rows:"6",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none resize-none"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"COMPASS Metadata"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Six core metadata fields to enhance discoverability and bridge research to policy"}),f&&r.jsx("div",{className:"mb-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ct,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"AI-Suggested Tags"}),(!f.frameworks||f.frameworks.length===0)&&(!f.species||f.species.length===0)&&(!f.methods||f.methods.length===0)&&(!f.geographic||f.geographic.length===0)?r.jsxs("div",{className:"text-xs text-yellow-700 bg-yellow-100 rounded p-3 border border-yellow-300",children:[r.jsx("p",{className:"font-medium mb-1",children:"AI suggestions temporarily unavailable"}),r.jsx("p",{children:"The AI tagging service is currently disabled. Please manually tag your research using the fields below."})]}):r.jsx("p",{className:"text-xs text-yellow-700 mb-3",children:"Based on your title and abstract, we've identified potential framework connections. Review and accept the suggestions below."}),f.frameworks&&f.frameworks.length>0&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsx("p",{className:"text-xs font-medium text-yellow-900",children:"Suggested Frameworks:"}),f.frameworks.map((te,Te)=>{const Le=typeof te=="string"?te:te.name;return r.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white border border-yellow-200 rounded",children:[r.jsx("input",{type:"checkbox",id:`ai-framework-${Te}`,checked:M.frameworks.includes(Le),onChange:()=>Q(Le),className:"mt-0.5"}),r.jsx("label",{htmlFor:`ai-framework-${Te}`,className:"flex-1 cursor-pointer",children:r.jsx("div",{className:"text-xs font-medium text-gray-900",children:Le})})]},Te)})]}),f.species&&f.species.length>0&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsx("p",{className:"text-xs font-medium text-yellow-900",children:"Suggested Species/Taxa:"}),f.species.map((te,Te)=>r.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white border border-yellow-200 rounded",children:[r.jsx("button",{type:"button",onClick:()=>{const Le=M.taxonomicCoverage?M.taxonomicCoverage.split(",").map(ze=>ze.trim()):[];Le.includes(te)||U({...M,taxonomicCoverage:[...Le,te].filter(ze=>ze).join(", ")})},className:"text-xs font-medium text-gray-900 hover:text-yellow-800 text-left flex-1",children:te}),r.jsx("span",{className:"text-xs text-gray-500",children:"Click to add"})]},Te))]}),f.methods&&f.methods.length>0&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsx("p",{className:"text-xs font-medium text-yellow-900",children:"Suggested Methods:"}),f.methods.map((te,Te)=>r.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white border border-yellow-200 rounded",children:[r.jsx("button",{type:"button",onClick:()=>{const Le=M.researchMethods?M.researchMethods.split(",").map(ze=>ze.trim()):[];Le.includes(te)||U({...M,researchMethods:[...Le,te].filter(ze=>ze).join(", ")})},className:"text-xs font-medium text-gray-900 hover:text-yellow-800 text-left flex-1",children:te}),r.jsx("span",{className:"text-xs text-gray-500",children:"Click to add"})]},Te))]}),f.geographic&&f.geographic.length>0&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsx("p",{className:"text-xs font-medium text-yellow-900",children:"Suggested Geographic Regions:"}),f.geographic.map((te,Te)=>r.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white border border-yellow-200 rounded",children:[r.jsx("button",{type:"button",onClick:()=>{const Le=M.geographicScope?M.geographicScope.split(",").map(ze=>ze.trim()):[];Le.includes(te)||U({...M,geographicScope:[...Le,te].filter(ze=>ze).join(", ")})},className:"text-xs font-medium text-gray-900 hover:text-yellow-800 text-left flex-1",children:te}),r.jsx("span",{className:"text-xs text-gray-500",children:"Click to add"})]},Te))]}),f.rationale&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-yellow-200",children:[r.jsx("p",{className:"text-xs font-medium text-yellow-900 mb-1",children:"AI Analysis:"}),r.jsx("p",{className:"text-xs text-yellow-800",children:f.rationale})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-yellow-200 hidden",children:[r.jsx("p",{className:"text-xs font-medium text-yellow-900 mb-2",children:"Quick-fill other fields:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>{var te;return U({...M,taxonomicCoverage:((te=f.taxonomicCoverage)==null?void 0:te.join(", "))||""})},className:"text-xs px-2 py-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded transition-colors",children:["Use Taxonomic: ",(Fe=f.taxonomicCoverage)==null?void 0:Fe[0]]}),r.jsxs("button",{type:"button",onClick:()=>{var te;return U({...M,researchMethods:((te=f.researchMethods)==null?void 0:te.join(", "))||""})},className:"text-xs px-2 py-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded transition-colors",children:["Use Methods: ",(ge=f.researchMethods)==null?void 0:ge[0]]})]})]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"01. Policy Framework Alignment *"}),r.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Tag this research with relevant international policy frameworks"}),M.frameworks.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:["Selected (",M.frameworks.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:M.frameworks.map(te=>r.jsxs("div",{className:"px-3 py-1.5 bg-green-100 text-green-700 rounded-full text-sm font-medium flex items-center gap-2",children:[Re(te),r.jsx("button",{type:"button",onClick:()=>Q(te),className:"hover:text-green-900",children:""})]},te))})]}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx("input",{type:"text",value:z,onChange:te=>{X(te.target.value),$(!0)},onFocus:()=>$(!0),onBlur:()=>{setTimeout(()=>$(!1),200)},placeholder:"Type to search frameworks (e.g., 'SDG', 'California', 'Paris')...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none text-sm"}),le&&Z().length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-80 overflow-y-auto",children:Z().map(te=>r.jsxs("button",{type:"button",onClick:()=>{Q(te.code),X(""),$(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900 text-sm",children:te.name}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[te.category,"  ",te.level,te.geography&&`  ${te.geography}`]})]},te.code))}),le&&z.trim()&&Z().length===0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4",children:r.jsx("p",{className:"text-sm text-gray-500",children:"No frameworks found. Try different keywords or use the custom input below."})})]}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"100+ frameworks available including all 17 SDGs, international treaties, and national/state policies"}),r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-300",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Other Frameworks (not listed above)"}),r.jsx("textarea",{value:M.customFrameworks,onChange:te=>U({...M,customFrameworks:te.target.value}),rows:2,placeholder:"Enter any additional frameworks, policies, or regulations (comma-separated)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none text-sm resize-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Example: EU Plastics Strategy, Local Marine Protected Area Ordinance, etc."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"02. Geographic Scope *"}),r.jsx("input",{type:"text",value:M.geographicScope,onChange:te=>U({...M,geographicScope:te.target.value}),placeholder:"e.g., Global, Pacific Ocean, East Africa, Coastal California",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none mb-3"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Study Sites (optional - add multiple sites if applicable)"}),M.studySites.length>0&&r.jsx("div",{className:"mb-3 space-y-2",children:M.studySites.map((te,Te)=>r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx(Wt,{className:"w-4 h-4 text-primary-600 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 text-sm",children:[r.jsx("span",{className:"font-medium text-gray-900",children:te.name}),r.jsxs("span",{className:"text-gray-500 ml-2",children:["(",te.latitude,", ",te.longitude,")"]})]}),r.jsx("button",{type:"button",onClick:()=>je(Te),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]},Te))}),r.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"text",value:D.name,onChange:te=>B({...D,name:te.target.value}),placeholder:"Site name (e.g., Monterey Bay)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none text-sm"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("input",{type:"number",step:"any",value:D.latitude,onChange:te=>B({...D,latitude:te.target.value}),placeholder:"Latitude (e.g., 34.0522)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none text-sm"}),r.jsx("input",{type:"number",step:"any",value:D.longitude,onChange:te=>B({...D,longitude:te.target.value}),placeholder:"Longitude (e.g., -118.2437)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none text-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>v(!x),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors",children:[r.jsx(Wt,{className:"w-4 h-4"}),x?"Hide Map":"Pin Location on Map"]}),r.jsx("button",{type:"button",onClick:xe,disabled:!D.name||!D.latitude||!D.longitude,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Study Site"})]}),x&&r.jsx("div",{className:"mt-3 h-96 rounded-lg overflow-hidden border border-gray-300",children:r.jsxs(Xo,{center:[D.latitude?parseFloat(D.latitude):20,D.longitude?parseFloat(D.longitude):0],zoom:2,style:{height:"100%",width:"100%"},children:[r.jsx(el,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),r.jsx(kie,{onLocationSelect:te=>{B({...D,latitude:te.lat.toFixed(6),longitude:te.lng.toFixed(6)})}}),D.latitude&&D.longitude&&r.jsx(Im,{position:[parseFloat(D.latitude),parseFloat(D.longitude)]})]})})]})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Map research coverage from global to local scales. Add multiple study sites for multi-location research."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"03. Taxonomic Coverage"}),r.jsx("input",{type:"text",value:M.taxonomicCoverage,onChange:te=>U({...M,taxonomicCoverage:te.target.value}),placeholder:"e.g., Coral reefs, Sea turtles (Chelonia mydas), Mangrove ecosystems, Migratory birds",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Link studies to species and ecosystems"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"04. Temporal Range"}),r.jsx("input",{type:"text",value:M.temporalRange,onChange:te=>U({...M,temporalRange:te.target.value}),placeholder:"e.g., 2015-2020, January-March 2019, 1990-present, Seasonal monitoring",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Track data collection periods and trends"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"05. Research Methods *"}),r.jsx("input",{type:"text",value:M.researchMethods,onChange:te=>U({...M,researchMethods:te.target.value}),placeholder:"e.g., Field surveys, Remote sensing, Statistical modeling, Meta-analysis, Experimental design",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Identify field studies, modeling, and analysis approaches"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:["06. Data Availability",r.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:"NEW"})]}),r.jsx("input",{type:"text",value:M.dataAvailability,onChange:te=>U({...M,dataAvailability:te.target.value}),placeholder:"e.g., Zenodo, Dryad, GitHub, Figshare, or enter repository URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Link to open data repositories and reproducibility resources"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ecosystem Type"}),r.jsxs("select",{value:M.ecosystemType,onChange:te=>U({...M,ecosystemType:te.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none bg-white",children:[r.jsx("option",{value:"",children:"Select an ecosystem type (optional)"}),r.jsx("option",{value:"Marine & Coastal",children:"Marine & Coastal"}),r.jsx("option",{value:"Tropical Forests",children:"Tropical Forests"}),r.jsx("option",{value:"Temperate Forests",children:"Temperate Forests"}),r.jsx("option",{value:"Grasslands & Savannas",children:"Grasslands & Savannas"}),r.jsx("option",{value:"Wetlands",children:"Wetlands"}),r.jsx("option",{value:"Mountains & Alpine",children:"Mountains & Alpine"}),r.jsx("option",{value:"Desert & Arid",children:"Desert & Arid"}),r.jsx("option",{value:"Freshwater",children:"Freshwater"}),r.jsx("option",{value:"Urban & Built",children:"Urban & Built"}),r.jsx("option",{value:"Agricultural",children:"Agricultural"}),r.jsx("option",{value:"Other/Mixed",children:"Other/Mixed"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Primary ecosystem type of your research study"})]}),r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Keywords"}),r.jsx("input",{type:"text",value:M.keywords,onChange:te=>U({...M,keywords:te.target.value}),placeholder:"Separate with commas",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional search terms and topics"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Type"}),M.researchType&&r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-primary-600 text-white rounded-full text-sm font-medium",children:[M.researchType,r.jsx("button",{type:"button",onClick:()=>U({...M,researchType:""}),className:"hover:text-gray-200",children:""})]})}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:ae,onChange:te=>{G(te.target.value),ce(!0)},onFocus:()=>ce(!0),onBlur:()=>{setTimeout(()=>ce(!1),200)},placeholder:"Type to search research types...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-600 focus:outline-none text-sm"}),ie&&J().length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:J().map(te=>r.jsx("button",{type:"button",onClick:()=>{U({...M,researchType:te}),G(""),ce(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:r.jsx("div",{className:"font-medium text-gray-900 text-sm",children:te})},te))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[A&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(mm,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),r.jsx("div",{className:"text-sm text-red-800",children:A})]})}),E&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),r.jsx("div",{className:"text-sm text-green-800",children:"Research successfully added to your profile! Redirecting..."})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>{m(null),S(!1),P(""),T(!1),U({title:"",authors:"",journal:"",year:"",volume:"",issue:"",pages:"",doi:"",pmid:"",arxiv:"",url:"",abstract:"",keywords:"",researchType:"",frameworks:[],customFrameworks:"",geographicScope:"",studySites:[],taxonomicCoverage:"",temporalRange:"",researchMethods:"",dataAvailability:"",ecosystemType:""})},disabled:_||E,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsxs("button",{onClick:De,disabled:!M.title||!M.authors||!M.year||_||E,className:`px-8 py-3 rounded-lg font-medium flex items-center gap-2 ${M.title&&M.authors&&M.year&&!_&&!E?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[_&&r.jsx(Vp,{className:"w-5 h-5 animate-spin"}),E&&r.jsx(Ae,{className:"w-5 h-5"}),_?"Submitting...":E?"Added!":"Add to Profile"]})]})]})]})]})})]})}const LM=[{id:"launch-announcement",title:"Introducing COMPASS ID: Making Research Discoverable by Impact",slug:"introducing-compass-id-launch",excerpt:"Today we're launching COMPASS ID - a free persistent identifier that connects conservation research directly to policy frameworks, funding opportunities, and real-world impact.",content:`
      <p>We're excited to announce the official launch of COMPASS ID, a new open infrastructure platform designed to bridge the gap between research and policy.</p>

      <h2>Why COMPASS ID?</h2>
      <p>Every year, billions of dollars are spent reviewing research to identify science relevant to policy priorities. Critical insights remain invisible to decision-makers, and researchers struggle to demonstrate their work's real-world impact.</p>

      <p>With less than 7 years to achieve the 2030 Sustainable Development Goals, we can't afford inefficient connections between science and policy.</p>

      <h2>What is COMPASS ID?</h2>
      <p>COMPASS ID is a free persistent identifier for researchers - like ORCID, but specifically designed to make your work discoverable by its policy relevance and real-world impact potential.</p>

      <p>Build your profile with six metadata fields:</p>
      <ul>
        <li><strong>Framework Alignment:</strong> Connect to SDGs, CBD targets, Paris Agreement, and regional policies</li>
        <li><strong>Geographic Scope:</strong> Map your research coverage from global to local scales</li>
        <li><strong>Taxonomic Coverage:</strong> Link studies to species and ecosystems</li>
        <li><strong>Temporal Range:</strong> Define the time periods your research covers</li>
        <li><strong>Research Methods:</strong> Tag your methodological approaches</li>
        <li><strong>Impact Pathways:</strong> Connect research to real-world applications</li>
      </ul>

      <h2>What's Next for This Blog</h2>
      <p>This blog will be your resource for:</p>
      <ul>
        <li><strong>Platform Updates:</strong> New features, improvements, and announcements</li>
        <li><strong>Research Guides:</strong> How to maximize your COMPASS ID profile</li>
        <li><strong>Policy Insights:</strong> Understanding major frameworks and funding opportunities</li>
        <li><strong>Success Stories:</strong> How researchers are using COMPASS ID to increase their impact</li>
        <li><strong>Technical Resources:</strong> API documentation, integrations, and developer tools</li>
      </ul>

      <h2>Get Started Today</h2>
      <p>Creating your COMPASS ID is free and takes less than 5 minutes. Join researchers worldwide making their work discoverable by impact.</p>

      <p><a href="/register" class="text-blue-600 hover:underline">Create Your COMPASS ID </a></p>
    `,category:"news",category_name:"News",category_slug:"news",category_color:"#EF4444",tags:[{name:"Launch",slug:"launch"},{name:"Platform",slug:"platform"},{name:"Research Impact",slug:"research-impact"}],author:"COMPASS ID Team",first_name:"COMPASS ID",last_name:"Team",institution:"COMPASS ID",author_image:"",status:"published",featured_image_url:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?w=1200&q=80",is_featured:!0,view_count:0,published_at:"2024-10-01",updated_at:"2024-10-01"},{id:"getting-started-guide",title:"Getting Started with COMPASS ID: A Step-by-Step Guide",slug:"getting-started-guide",excerpt:"Learn how to create your COMPASS ID profile, tag your research to policy frameworks, and start connecting with funding opportunities in just a few simple steps.",content:`
      <p>Welcome to COMPASS ID! This guide will walk you through everything you need to know to get started and maximize your profile's impact.</p>

      <h2>Step 1: Create Your Account</h2>
      <p>Head to the registration page and create your free account. You'll need:</p>
      <ul>
        <li>Email address</li>
        <li>Basic institutional information</li>
        <li>ORCID (optional, but recommended for linking your publications)</li>
      </ul>

      <h2>Step 2: Build Your Profile</h2>
      <p>Once registered, complete your researcher profile:</p>
      <ul>
        <li><strong>Institution & Position:</strong> Help funders and policymakers understand your expertise</li>
        <li><strong>Research Interests:</strong> Tag your primary areas of focus</li>
        <li><strong>Geographic Focus:</strong> Where does your research take place?</li>
        <li><strong>Bio:</strong> A brief overview of your work and impact goals</li>
      </ul>

      <h2>Step 3: Add Your Research</h2>
      <p>Import or manually add your publications and datasets:</p>
      <ul>
        <li>Search by DOI for automatic metadata import</li>
        <li>Or manually enter details for grey literature, reports, and datasets</li>
        <li>Tag each item with policy frameworks (SDGs, CBD, Paris Agreement, etc.)</li>
        <li>Add geographic coordinates to map your research coverage</li>
      </ul>

      <h2>Step 4: Tag Your Work to Policy Frameworks</h2>
      <p>This is where COMPASS ID shines. For each research item:</p>
      <ul>
        <li><strong>Select SDG Targets:</strong> Which specific targets does your research inform?</li>
        <li><strong>Link to CBD Goals:</strong> Does it relate to biodiversity conservation targets?</li>
        <li><strong>Connect to Paris Agreement:</strong> Climate mitigation or adaptation relevance?</li>
        <li><strong>Regional Policies:</strong> Tag relevant national or regional frameworks</li>
      </ul>

      <h2>Step 5: Explore Opportunities</h2>
      <p>Now that your profile is complete:</p>
      <ul>
        <li><strong>Find Grants:</strong> Browse funding opportunities matched to your research areas</li>
        <li><strong>Discover Collaborators:</strong> Connect with researchers working on similar problems</li>
        <li><strong>Track Impact:</strong> See engagement with your work</li>
        <li><strong>Get Alerts:</strong> Receive notifications about new grants and opportunities</li>
      </ul>

      <h2>Step 6: Use Advanced Features</h2>
      <p>Maximize your COMPASS ID:</p>
      <ul>
        <li><strong>AI Grant Writing:</strong> Get help drafting proposals aligned with your research</li>
        <li><strong>Geographic Explorer:</strong> Visualize your research coverage on an interactive map</li>
        <li><strong>Analytics Dashboard:</strong> Track profile engagement and reach</li>
        <li><strong>Research Groups:</strong> Join or create groups around shared research themes</li>
      </ul>

      <h2>Best Practices</h2>
      <ul>
        <li><strong>Be Specific:</strong> The more detailed your framework tags, the better your discoverability</li>
        <li><strong>Update Regularly:</strong> Add new publications as they're released</li>
        <li><strong>Complete All Fields:</strong> Complete profiles perform better in searches</li>
        <li><strong>Use Geographic Tags:</strong> Location data helps funders find regional expertise</li>
        <li><strong>Link Your ORCID:</strong> Automatically sync publications from ORCID</li>
      </ul>

      <h2>Need Help?</h2>
      <p>Resources available:</p>
      <ul>
        <li><a href="/api-docs" class="text-blue-600 hover:underline">API Documentation</a> for developers</li>
        <li><a href="/support" class="text-blue-600 hover:underline">Support Center</a> for technical help</li>
        <li><a href="/how-it-works" class="text-blue-600 hover:underline">How It Works</a> for platform overview</li>
        <li>Email us at <a href="mailto:support@compassid.org" class="text-blue-600 hover:underline">support@compassid.org</a></li>
      </ul>

      <p>Ready to get started? <a href="/register" class="text-blue-600 hover:underline">Create your COMPASS ID now </a></p>
    `,category:"guides",category_name:"Guides",category_slug:"guides",category_color:"#8B5CF6",tags:[{name:"Tutorial",slug:"tutorial"},{name:"Getting Started",slug:"getting-started"},{name:"How To",slug:"how-to"}],author:"COMPASS ID Team",first_name:"COMPASS ID",last_name:"Team",institution:"COMPASS ID",author_image:"",status:"published",featured_image_url:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=1200&q=80",is_featured:!0,view_count:0,published_at:"2024-09-28",updated_at:"2024-09-28"},{id:"paris-agreement-guide",title:"Understanding the Paris Agreement for Researchers",slug:"paris-agreement-for-researchers",excerpt:"A comprehensive guide to how the Paris Agreement creates opportunities for climate research funding and policy engagement.",content:`
      <p>The Paris Agreement represents the most ambitious global climate action framework to date. For researchers working on climate science, understanding its structure and implementation creates significant opportunities for funding and policy impact.</p>

      <h2>What is the Paris Agreement?</h2>
      <p>Adopted in 2015 by 196 parties at COP21, the Paris Agreement aims to limit global temperature rise to well below 2C above pre-industrial levels, with efforts to limit it to 1.5C. Each country submits Nationally Determined Contributions (NDCs) outlining their climate action plans.</p>

      <h2>Key Components Relevant to Researchers</h2>
      <p>The Paris Agreement creates several research-relevant mechanisms:</p>

      <h3>1. Nationally Determined Contributions (NDCs)</h3>
      <p>Countries update their NDCs every five years, requiring new evidence on:</p>
      <ul>
        <li>Mitigation strategies and their effectiveness</li>
        <li>Adaptation measures for vulnerable sectors and communities</li>
        <li>Technology needs and transfer opportunities</li>
        <li>Capacity building requirements</li>
      </ul>

      <h3>2. Global Stocktake</h3>
      <p>Every five years, countries assess collective progress toward Paris Agreement goals. This creates massive demand for:</p>
      <ul>
        <li>Climate modeling and projections</li>
        <li>Impact assessments across sectors</li>
        <li>Evaluation of policy effectiveness</li>
        <li>Synthesis of regional climate data</li>
      </ul>

      <h3>3. Adaptation Communications</h3>
      <p>Countries must report on adaptation priorities, implementation, and support needs. Research opportunities include:</p>
      <ul>
        <li>Vulnerability assessments</li>
        <li>Climate risk analysis</li>
        <li>Nature-based solutions effectiveness</li>
        <li>Community adaptation strategies</li>
      </ul>

      <h2>Funding Opportunities</h2>
      <p>The Paris Agreement has catalyzed billions in climate research funding:</p>

      <h3>Green Climate Fund (GCF)</h3>
      <p>The world's largest dedicated climate fund, supporting research on mitigation and adaptation in developing countries. Focus areas include renewable energy, ecosystem-based adaptation, and climate-resilient infrastructure.</p>

      <h3>Adaptation Fund</h3>
      <p>Finances adaptation projects and programs in vulnerable communities. Research priorities include local-scale climate impacts and community-based adaptation approaches.</p>

      <h3>National Climate Funds</h3>
      <p>Many countries have established dedicated climate research funding aligned with their NDCs. Check your country's climate ministry for opportunities.</p>

      <h2>Tagging Your Research</h2>
      <p>When adding research to COMPASS ID, connect to Paris Agreement priorities:</p>
      <ul>
        <li><strong>Article 2:</strong> Global temperature goals and adaptation</li>
        <li><strong>Article 4:</strong> Mitigation and NDC implementation</li>
        <li><strong>Article 7:</strong> Adaptation action and support</li>
        <li><strong>Article 9:</strong> Climate finance</li>
        <li><strong>Article 10:</strong> Technology development and transfer</li>
        <li><strong>Article 11:</strong> Capacity building</li>
      </ul>

      <h2>Engaging with Policy</h2>
      <p>Researchers can contribute to Paris Agreement implementation through:</p>
      <ul>
        <li>Providing evidence for NDC updates</li>
        <li>Participating in IPCC assessment reports</li>
        <li>Contributing to national climate assessments</li>
        <li>Engaging with national delegations at COPs</li>
        <li>Publishing in UNFCCC technical papers</li>
      </ul>

      <h2>Resources</h2>
      <ul>
        <li><a href="https://unfccc.int/process-and-meetings/the-paris-agreement" class="text-blue-600 hover:underline">UNFCCC Paris Agreement Portal</a></li>
        <li><a href="https://www.greenclimate.fund" class="text-blue-600 hover:underline">Green Climate Fund</a></li>
        <li><a href="/frameworks" class="text-blue-600 hover:underline">COMPASS ID Framework Explorer</a></li>
      </ul>

      <p>Ready to connect your climate research to Paris Agreement priorities? <a href="/register" class="text-blue-600 hover:underline">Create your COMPASS ID profile </a></p>
    `,category:"policy",category_name:"Policy",category_slug:"policy",category_color:"#10B981",tags:[{name:"Paris Agreement",slug:"paris-agreement"},{name:"Climate",slug:"climate"},{name:"Policy",slug:"policy"}],author:"COMPASS ID Team",first_name:"COMPASS ID",last_name:"Team",institution:"COMPASS ID",author_image:"",status:"published",featured_image_url:"https://images.unsplash.com/photo-1569163139394-de4798aa62b2?w=1200&q=80",is_featured:!1,view_count:0,published_at:"2024-09-15",updated_at:"2024-09-15"},{id:"marine-conservation-grants",title:"Major Grant Opportunities for Marine Conservation Research",slug:"marine-conservation-grant-opportunities",excerpt:"A curated guide to significant funding opportunities for marine and ocean conservation research in 2024-2025.",content:`
      <p>Marine conservation research is experiencing unprecedented funding growth as governments and foundations recognize the ocean's critical role in climate regulation, biodiversity, and human wellbeing. Here are the major opportunities available for 2024-2025.</p>

      <h2>1. Global Environment Facility (GEF) - International Waters Focal Area</h2>
      <p><strong>Funding Range:</strong> $2-10 million per project<br>
      <strong>Deadline:</strong> Rolling basis through country focal points<br>
      <strong>Focus:</strong> Transboundary water systems, marine protected areas, sustainable fisheries</p>

      <p>GEF's International Waters program supports research on shared ocean resources. Priority areas include:</p>
      <ul>
        <li>Large Marine Ecosystem management</li>
        <li>Marine plastic pollution reduction</li>
        <li>Blue carbon ecosystems (mangroves, seagrasses, salt marshes)</li>
        <li>Sustainable coastal zone management</li>
      </ul>

      <h2>2. National Oceanic and Atmospheric Administration (NOAA) - Sea Grant Program</h2>
      <p><strong>Funding Range:</strong> $50,000-$500,000<br>
      <strong>Deadline:</strong> Varies by state program<br>
      <strong>Focus:</strong> Applied marine research with stakeholder engagement</p>

      <p>NOAA Sea Grant funds research that addresses coastal community needs:</p>
      <ul>
        <li>Sustainable fisheries and aquaculture</li>
        <li>Coastal hazards and resilience</li>
        <li>Healthy coastal ecosystems</li>
        <li>Environmental literacy and workforce development</li>
      </ul>

      <h2>3. European Research Council (ERC) - Blue Planet Initiative</h2>
      <p><strong>Funding Range:</strong> 1.5-2.5 million<br>
      <strong>Deadline:</strong> Annual calls, typically March<br>
      <strong>Focus:</strong> Fundamental marine science with policy relevance</p>

      <p>ERC supports cutting-edge marine research including:</p>
      <ul>
        <li>Ocean-climate interactions</li>
        <li>Deep-sea biodiversity and ecosystem function</li>
        <li>Marine biotechnology</li>
        <li>Ocean observation systems</li>
      </ul>

      <h2>4. Pew Fellows Program in Marine Conservation</h2>
      <p><strong>Funding Range:</strong> $150,000 over three years<br>
      <strong>Deadline:</strong> Annual, typically December<br>
      <strong>Focus:</strong> Innovative marine conservation research and leadership</p>

      <p>Pew Fellows support addresses:</p>
      <ul>
        <li>Marine protected area design and effectiveness</li>
        <li>Fisheries management innovation</li>
        <li>Marine mammal conservation</li>
        <li>Coral reef resilience</li>
      </ul>

      <h2>5. Gordon and Betty Moore Foundation - Oceans Program</h2>
      <p><strong>Funding Range:</strong> $100,000-$5 million<br>
      <strong>Deadline:</strong> Rolling, letters of inquiry accepted year-round<br>
      <strong>Focus:</strong> Ocean health and sustainable fisheries</p>

      <p>Moore Foundation priorities include:</p>
      <ul>
        <li>Advancing sustainable wild-capture fisheries</li>
        <li>Protecting critical ocean ecosystems</li>
        <li>Developing ocean observation and technology</li>
      </ul>

      <h2>6. National Science Foundation (NSF) - Biological Oceanography Program</h2>
      <p><strong>Funding Range:</strong> $200,000-$800,000<br>
      <strong>Deadline:</strong> Two submission windows annually (January and July)<br>
      <strong>Focus:</strong> Marine ecosystem processes and biodiversity</p>

      <p>NSF supports fundamental research on:</p>
      <ul>
        <li>Marine food web dynamics</li>
        <li>Biogeochemical cycles</li>
        <li>Microbial oceanography</li>
        <li>Climate impacts on marine ecosystems</li>
      </ul>

      <h2>Application Tips</h2>
      <ul>
        <li><strong>Policy Linkages:</strong> Connect research to CBD Aichi Targets, SDG 14 (Life Below Water), and regional ocean governance frameworks</li>
        <li><strong>Stakeholder Engagement:</strong> Most marine funders require demonstrated partnerships with fisheries, coastal communities, or management agencies</li>
        <li><strong>Geographic Specificity:</strong> Use COMPASS ID's geographic tagging to show research location and relevance to specific Large Marine Ecosystems</li>
        <li><strong>Interdisciplinary Teams:</strong> Marine conservation increasingly requires collaboration across natural sciences, social sciences, and policy</li>
      </ul>

      <h2>Tagging Your Marine Research</h2>
      <p>When creating your COMPASS ID profile, tag marine research to:</p>
      <ul>
        <li>SDG 14 targets (ocean acidification, marine pollution, overfishing, MPAs)</li>
        <li>CBD marine biodiversity targets</li>
        <li>Regional Seas Conventions (your geographic area)</li>
        <li>Relevant Large Marine Ecosystems</li>
      </ul>

      <p>Find more grant opportunities tailored to your research profile: <a href="/grants" class="text-blue-600 hover:underline">Browse COMPASS ID Grant Database </a></p>
    `,category:"grants",category_name:"Grants",category_slug:"grants",category_color:"#F59E0B",tags:[{name:"Grants",slug:"grants"},{name:"Marine Conservation",slug:"marine-conservation"},{name:"Funding",slug:"funding"}],author:"COMPASS ID Team",first_name:"COMPASS ID",last_name:"Team",institution:"COMPASS ID",author_image:"",status:"published",featured_image_url:"https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=1200&q=80",is_featured:!1,view_count:0,published_at:"2024-08-20",updated_at:"2024-08-20"},{id:"grant-writing-guide",title:"How to Write a Compelling Grant Proposal",slug:"how-to-write-compelling-grant-proposal",excerpt:"Evidence-based strategies for crafting grant proposals that clearly communicate research significance, methods, and impact to reviewers and funders.",content:`
      <p>Grant writing is both an art and a science. After analyzing thousands of successful proposals, here are the strategies that consistently result in funded research.</p>

      <h2>Before You Write: Foundation Work</h2>

      <h3>1. Match Your Research to Funder Priorities</h3>
      <p>The most common mistake is submitting to the wrong funder. Before writing:</p>
      <ul>
        <li>Read the entire RFP (Request for Proposals) carefully</li>
        <li>Review previously funded projects in their portfolio</li>
        <li>Check if your research aligns with their strategic plan</li>
        <li>Confirm your eligibility and institution's capacity</li>
      </ul>

      <h3>2. Understand Your Reviewers</h3>
      <p>Most reviewers are experts in the field but may not know your specific niche:</p>
      <ul>
        <li>Write for smart generalists, not just specialists</li>
        <li>Define technical terms on first use</li>
        <li>Make the significance immediately clear</li>
        <li>Use clear section headings and structure</li>
      </ul>

      <h2>The Essential Components</h2>

      <h3>Executive Summary/Abstract</h3>
      <p>This is often the most important section. Many proposals are rejected based on weak abstracts alone.</p>

      <p><strong>Include:</strong></p>
      <ul>
        <li>The problem and its significance (2-3 sentences)</li>
        <li>Your approach and innovation (2-3 sentences)</li>
        <li>Expected outcomes and impact (2 sentences)</li>
        <li>Budget overview (1 sentence)</li>
      </ul>

      <p><strong>Make it:</strong></p>
      <ul>
        <li>Clear and jargon-free</li>
        <li>Exciting and compelling</li>
        <li>Specific about deliverables</li>
        <li>Connected to funder priorities</li>
      </ul>

      <h3>Problem Statement/Significance</h3>
      <p>Convince reviewers that solving this problem matters:</p>
      <ul>
        <li><strong>Context:</strong> What is the broader issue?</li>
        <li><strong>Gap:</strong> What specific knowledge or solution is missing?</li>
        <li><strong>Consequences:</strong> What happens if this gap isn't filled?</li>
        <li><strong>Opportunity:</strong> Why is now the right time for this research?</li>
      </ul>

      <h3>Research Approach/Methods</h3>
      <p>Demonstrate feasibility and rigor:</p>
      <ul>
        <li>Break into clear objectives (3-5 maximum)</li>
        <li>For each objective: rationale, methods, expected outcomes</li>
        <li>Include timeline with milestones</li>
        <li>Address potential challenges and mitigation strategies</li>
        <li>Show preliminary data or pilot results if possible</li>
      </ul>

      <h3>Innovation and Impact</h3>
      <p>Distinguish your work from existing research:</p>
      <ul>
        <li>What's novel about your approach?</li>
        <li>How does it advance beyond current practice?</li>
        <li>What new knowledge will be generated?</li>
        <li>Who will benefit and how?</li>
      </ul>

      <h3>Team Qualifications</h3>
      <p>Show you can deliver:</p>
      <ul>
        <li>Highlight directly relevant experience</li>
        <li>Demonstrate track record of completion</li>
        <li>Show complementary expertise across team</li>
        <li>Include key collaborators and their roles</li>
      </ul>

      <h3>Budget Justification</h3>
      <p>Every line item should be clearly justified:</p>
      <ul>
        <li>Connect costs directly to research activities</li>
        <li>Explain personnel time allocations</li>
        <li>Justify travel and equipment needs</li>
        <li>Show cost-effectiveness</li>
      </ul>

      <h2>Common Pitfalls to Avoid</h2>
      <ul>
        <li><strong>Unclear objectives:</strong> Reviewers should know exactly what you plan to do</li>
        <li><strong>Overly ambitious scope:</strong> Better to do fewer things well</li>
        <li><strong>Weak connection to policy/practice:</strong> Funders want real-world impact</li>
        <li><strong>Missing letters of support:</strong> Show stakeholder buy-in</li>
        <li><strong>Ignoring page limits:</strong> Follow instructions exactly</li>
        <li><strong>Poor writing:</strong> Get multiple reviewers and edit ruthlessly</li>
      </ul>

      <h2>The Review Process</h2>
      <p>Give your proposal to colleagues and ask:</p>
      <ul>
        <li>Can you summarize the main research question in one sentence?</li>
        <li>Is it clear why this research matters?</li>
        <li>Are the methods convincing?</li>
        <li>Can this team accomplish this work in the proposed time?</li>
        <li>Would you fund this if you were the reviewer?</li>
      </ul>

      <h2>After Submission</h2>
      <p>Whether funded or not:</p>
      <ul>
        <li><strong>If funded:</strong> Deliver what you promised, communicate with funders, document impact</li>
        <li><strong>If not funded:</strong> Request reviewer comments, revise based on feedback, resubmit elsewhere</li>
      </ul>

      <p>Most successful researchers face many rejections. Persistence and learning from feedback are key.</p>

      <h2>Resources</h2>
      <ul>
        <li><a href="/ai-writing" class="text-blue-600 hover:underline">COMPASS ID AI Grant Writing Tool</a> - Get AI assistance drafting proposals</li>
        <li><a href="/grants" class="text-blue-600 hover:underline">Grant Database</a> - Find funders matched to your research</li>
        <li><a href="/community" class="text-blue-600 hover:underline">Grant Writing Community</a> - Connect with successful grant recipients</li>
      </ul>

      <p>Ready to find funding opportunities matched to your research? <a href="/register" class="text-blue-600 hover:underline">Create your COMPASS ID profile </a></p>
    `,category:"guides",category_name:"Guides",category_slug:"guides",category_color:"#8B5CF6",tags:[{name:"Grant Writing",slug:"grant-writing"},{name:"Tips",slug:"tips"},{name:"Funding",slug:"funding"}],author:"COMPASS ID Team",first_name:"COMPASS ID",last_name:"Team",institution:"COMPASS ID",author_image:"",status:"published",featured_image_url:"https://images.unsplash.com/photo-1455390582262-044cdead277a?w=1200&q=80",is_featured:!0,view_count:0,published_at:"2024-08-05",updated_at:"2024-08-05"},{id:"research-communities-impact",title:"Building Research Communities for Greater Impact",slug:"building-research-communities-impact",excerpt:"How collaborative research networks amplify impact, accelerate discovery, and create pathways from science to policy action.",content:`
      <p>The most transformative research increasingly happens not in isolated labs, but through networks of researchers, practitioners, and policymakers working together. Here's how to build and leverage research communities for maximum impact.</p>

      <h2>Why Research Communities Matter</h2>

      <h3>Accelerated Discovery</h3>
      <p>Research communities enable:</p>
      <ul>
        <li>Sharing of methods, data, and negative results</li>
        <li>Replication studies that validate findings</li>
        <li>Meta-analyses that synthesize across studies</li>
        <li>Complementary expertise addressing complex problems</li>
      </ul>

      <h3>Enhanced Policy Relevance</h3>
      <p>Communities that include policymakers ensure research addresses real needs:</p>
      <ul>
        <li>Co-production of research questions</li>
        <li>Rapid synthesis for policy windows</li>
        <li>Translation of findings into actionable recommendations</li>
        <li>Ongoing relationships beyond single projects</li>
      </ul>

      <h3>Increased Funding Success</h3>
      <p>Funders increasingly favor collaborative proposals that demonstrate:</p>
      <ul>
        <li>Interdisciplinary approaches</li>
        <li>Stakeholder engagement</li>
        <li>Pathways to impact beyond academia</li>
        <li>Shared infrastructure and resources</li>
      </ul>

      <h2>Types of Research Communities</h2>

      <h3>1. Thematic Networks</h3>
      <p>Organized around specific research topics or challenges:</p>
      <ul>
        <li><strong>Example:</strong> International Coral Reef Initiative bringing together researchers, managers, and governments to address reef decline</li>
        <li><strong>Strength:</strong> Deep expertise in a focused area</li>
        <li><strong>Use when:</strong> Tackling well-defined problems requiring specialized knowledge</li>
      </ul>

      <h3>2. Geographic Networks</h3>
      <p>Connect researchers working in the same region or on shared ecosystems:</p>
      <ul>
        <li><strong>Example:</strong> Arctic Research Consortium addressing rapid environmental change</li>
        <li><strong>Strength:</strong> Coordinated research avoiding duplication, shared field infrastructure</li>
        <li><strong>Use when:</strong> Research requires regional data integration or coordination</li>
      </ul>

      <h3>3. Methods-Based Networks</h3>
      <p>Communities sharing specific methodological approaches:</p>
      <ul>
        <li><strong>Example:</strong> Long-Term Ecological Research Network standardizing monitoring protocols</li>
        <li><strong>Strength:</strong> Methodological rigor, comparable datasets</li>
        <li><strong>Use when:</strong> Developing new methods or ensuring reproducibility</li>
      </ul>

      <h3>4. Science-Policy Boundary Organizations</h3>
      <p>Explicitly bridge research and decision-making:</p>
      <ul>
        <li><strong>Example:</strong> IPBES (Intergovernmental Science-Policy Platform on Biodiversity and Ecosystem Services)</li>
        <li><strong>Strength:</strong> Direct policy impact, legitimacy with both communities</li>
        <li><strong>Use when:</strong> Research aims to inform specific policy processes</li>
      </ul>

      <h2>Building Your Research Community</h2>

      <h3>Step 1: Define Purpose and Scope</h3>
      <ul>
        <li>What problem will the community address?</li>
        <li>Who needs to be involved (researchers, practitioners, policymakers)?</li>
        <li>What activities will create value (data sharing, synthesis, training)?</li>
        <li>What resources are needed to sustain it?</li>
      </ul>

      <h3>Step 2: Identify Core Members</h3>
      <p>Look for:</p>
      <ul>
        <li>Complementary expertise covering key knowledge gaps</li>
        <li>Track record of collaboration and reliable follow-through</li>
        <li>Connections to end-users or decision-makers</li>
        <li>Diversity of perspectives and career stages</li>
      </ul>

      <h3>Step 3: Establish Governance</h3>
      <p>Successful communities have clear structures:</p>
      <ul>
        <li>Steering committee with rotating membership</li>
        <li>Defined decision-making processes</li>
        <li>Transparent authorship and credit policies</li>
        <li>Conflict resolution mechanisms</li>
      </ul>

      <h3>Step 4: Create Value from the Start</h3>
      <p>Communities thrive when members benefit immediately:</p>
      <ul>
        <li>Share existing datasets or analysis tools</li>
        <li>Co-author synthesis papers</li>
        <li>Coordinate on grant proposals</li>
        <li>Provide feedback on manuscripts</li>
        <li>Connect to funding or collaboration opportunities</li>
      </ul>

      <h3>Step 5: Leverage Technology</h3>
      <p>Use platforms that reduce coordination costs:</p>
      <ul>
        <li>COMPASS ID Research Groups for discovery and coordination</li>
        <li>Shared data repositories (e.g., Dryad, Zenodo)</li>
        <li>Collaborative writing tools (e.g., Google Docs, Overleaf)</li>
        <li>Communication platforms (e.g., Slack, Microsoft Teams)</li>
      </ul>

      <h2>Sustaining Communities Long-Term</h2>

      <h3>Regular Communication</h3>
      <ul>
        <li>Monthly calls or webinars on emerging topics</li>
        <li>Annual in-person meetings for relationship building</li>
        <li>Newsletter sharing member achievements and opportunities</li>
      </ul>

      <h3>Ongoing Value Creation</h3>
      <ul>
        <li>Synthesis products that no individual could produce alone</li>
        <li>Training workshops building community capacity</li>
        <li>Rapid response to policy needs or emerging issues</li>
        <li>Coordinated data collection or experiments</li>
      </ul>

      <h3>Securing Funding</h3>
      <ul>
        <li>Network grants (e.g., NSF Research Coordination Networks)</li>
        <li>Foundation support for synthesis and convening</li>
        <li>Collaborative research projects leveraging network</li>
        <li>Institutional support from member organizations</li>
      </ul>

      <h2>Using COMPASS ID for Community Building</h2>
      <p>COMPASS ID Research Groups feature helps you:</p>
      <ul>
        <li>Discover researchers working on related problems</li>
        <li>Coordinate around shared policy frameworks (SDGs, CBD, etc.)</li>
        <li>Share grant opportunities matched to community interests</li>
        <li>Demonstrate collective impact to funders</li>
        <li>Organize virtual working groups and discussions</li>
      </ul>

      <h2>Examples of High-Impact Communities</h2>
      <ul>
        <li><strong>LTER Network:</strong> 40+ sites standardizing long-term ecological data, enabling continental-scale synthesis</li>
        <li><strong>Future Earth:</strong> Global network co-producing sustainability research with stakeholders</li>
        <li><strong>Ecological Forecasting Initiative:</strong> Developing iterative near-term ecological predictions through community collaboration</li>
      </ul>

      <p>Ready to start or join a research community? <a href="/groups" class="text-blue-600 hover:underline">Explore COMPASS ID Research Groups </a></p>
    `,category:"community",category_name:"Community",category_slug:"community",category_color:"#EC4899",tags:[{name:"Community",slug:"community"},{name:"Collaboration",slug:"collaboration"},{name:"Impact",slug:"impact"}],author:"COMPASS ID Team",first_name:"COMPASS ID",last_name:"Team",institution:"COMPASS ID",author_image:"",status:"published",featured_image_url:"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=1200&q=80",is_featured:!1,view_count:0,published_at:"2024-07-22",updated_at:"2024-07-22"}],Cie={"introducing-compass-id-launch":[],"getting-started-guide":[],"paris-agreement-for-researchers":[],"marine-conservation-grant-opportunities":[],"how-to-write-compelling-grant-proposal":[],"building-research-communities-impact":[]};function Pie(){var g,x;const[e,t]=p.useState(""),[n,s]=p.useState("all"),[a,i]=p.useState(!1),o=LM.map(v=>({...v,tags:Array.isArray(v.tags)&&v.tags.length>0&&typeof v.tags[0]=="object"?v.tags.map(w=>w.name):v.tags,featured_image:v.featured_image_url||v.featured_image})),c=[{value:"all",label:"All Posts",count:o.length},{value:"research",label:"Research",count:o.filter(v=>v.category==="research").length,color:"#3B82F6"},{value:"policy",label:"Policy",count:o.filter(v=>v.category==="policy").length,color:"#10B981"},{value:"grants",label:"Grants",count:o.filter(v=>v.category==="grants").length,color:"#F59E0B"},{value:"guides",label:"Guides",count:o.filter(v=>v.category==="guides").length,color:"#8B5CF6"},{value:"news",label:"News",count:o.filter(v=>v.category==="news").length,color:"#EF4444"},{value:"community",label:"Community",count:o.filter(v=>v.category==="community").length,color:"#EC4899"}],d=o.filter(v=>{const w=e===""||v.title.toLowerCase().includes(e.toLowerCase())||v.excerpt.toLowerCase().includes(e.toLowerCase())||v.tags.some(j=>j.toLowerCase().includes(e.toLowerCase())),b=n==="all"||v.category===n;return w&&b&&v.status==="published"}),u=d.filter(v=>v.is_featured),m=d.filter(v=>!v.is_featured),f=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"COMPASS ID Insights"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto",children:"Research highlights, policy updates, platform news, and expert insights"})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"mb-12",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),placeholder:"Search articles, topics, or tags...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("button",{onClick:()=>i(!a),className:"sm:hidden px-4 py-3 border border-gray-300 rounded-xl flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",children:[r.jsx(Ja,{className:"w-5 h-5"}),"Categories"]})]}),r.jsx("div",{className:`flex flex-wrap gap-3 ${a?"block":"hidden sm:flex"}`,children:c.map(v=>r.jsxs("button",{onClick:()=>s(v.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${n===v.value?"text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:n===v.value&&v.color?{backgroundColor:v.color}:{},children:[v.label," ",v.count>0&&`(${v.count})`]},v.value))}),(e||n!=="all")&&r.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),e&&r.jsxs("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm flex items-center gap-2",children:['Search: "',e,'"',r.jsx("button",{onClick:()=>t(""),className:"hover:text-primary-900",children:r.jsx(Rt,{className:"w-4 h-4"})})]}),n!=="all"&&r.jsxs("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm flex items-center gap-2",children:[(g=c.find(v=>v.value===n))==null?void 0:g.label,r.jsx("button",{onClick:()=>s("all"),className:"hover:text-primary-900",children:r.jsx(Rt,{className:"w-4 h-4"})})]}),r.jsx("button",{onClick:()=>{t(""),s("all")},className:"text-sm text-gray-600 hover:text-gray-900 underline",children:"Clear all"})]})]}),u.length>0&&n==="all"&&!e&&r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Featured Articles"}),r.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:u.slice(0,2).map(v=>r.jsxs(ne,{to:`/blog/${v.slug}`,className:"group bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-300",children:[v.featured_image&&r.jsx("div",{className:"aspect-[16/9] bg-gray-100 overflow-hidden",children:r.jsx("img",{src:v.featured_image,alt:v.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:v.category_color},children:v.category_name}),r.jsx("span",{className:"text-sm text-gray-500",children:f(v.published_at)})]}),r.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-primary-600 transition-colors",children:v.title}),r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:v.excerpt}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["By ",v.author]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),v.view_count.toLocaleString()]})]})]})]},v.id))})]}),m.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:n!=="all"?`${(x=c.find(v=>v.value===n))==null?void 0:x.label} Articles`:"Latest Articles"}),r.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:m.map(v=>r.jsxs(ne,{to:`/blog/${v.slug}`,className:"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300",children:[v.featured_image&&r.jsx("div",{className:"aspect-[16/9] bg-gray-100 overflow-hidden",children:r.jsx("img",{src:v.featured_image,alt:v.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:v.category_color},children:v.category_name}),r.jsx("span",{className:"text-xs text-gray-500",children:f(v.published_at)})]}),r.jsx("h3",{className:"text-lg font-bold mb-2 group-hover:text-primary-600 transition-colors line-clamp-2",children:v.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:v.excerpt}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("span",{className:"text-gray-500",children:["By ",v.author]}),r.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),v.view_count.toLocaleString()]})]}),v.tags&&v.tags.length>0&&r.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:v.tags.slice(0,3).map(w=>r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md",children:["#",w]},w))})]})]},v.id))})]}),d.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No articles found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or filters to find what you're looking for."}),r.jsx("button",{onClick:()=>{t(""),s("all")},className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Clear Filters"})]})]})]})}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:MM,setPrototypeOf:qC,isFrozen:Aie,getPrototypeOf:Eie,getOwnPropertyDescriptor:Oie}=Object;let{freeze:ts,seal:fa,create:DM}=Object,{apply:fw,construct:pw}=typeof Reflect<"u"&&Reflect;ts||(ts=function(t){return t});fa||(fa=function(t){return t});fw||(fw=function(t,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i];return t.apply(n,a)});pw||(pw=function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return new t(...s)});const If=rs(Array.prototype.forEach),Tie=rs(Array.prototype.lastIndexOf),VC=rs(Array.prototype.pop),Uu=rs(Array.prototype.push),Lie=rs(Array.prototype.splice),gp=rs(String.prototype.toLowerCase),By=rs(String.prototype.toString),$y=rs(String.prototype.match),Gu=rs(String.prototype.replace),Mie=rs(String.prototype.indexOf),Die=rs(String.prototype.trim),Na=rs(Object.prototype.hasOwnProperty),Un=rs(RegExp.prototype.test),Wu=Rie(TypeError);function rs(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return fw(e,t,s)}}function Rie(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return pw(e,n)}}function vt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gp;qC&&qC(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const i=n(a);i!==a&&(Aie(t)||(t[s]=i),a=i)}e[a]=!0}return e}function Iie(e){for(let t=0;t<e.length;t++)Na(e,t)||(e[t]=null);return e}function yi(e){const t=DM(null);for(const[n,s]of MM(e))Na(e,n)&&(Array.isArray(s)?t[n]=Iie(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=yi(s):t[n]=s);return t}function Hu(e,t){for(;e!==null;){const s=Oie(e,t);if(s){if(s.get)return rs(s.get);if(typeof s.value=="function")return rs(s.value)}e=Eie(e)}function n(){return null}return n}const KC=ts(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zy=ts(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Uy=ts(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fie=ts(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gy=ts(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Bie=ts(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ZC=ts(["#text"]),YC=ts(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Wy=ts(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QC=ts(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ff=ts(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$ie=fa(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zie=fa(/<%[\w\W]*|[\w\W]*%>/gm),Uie=fa(/\$\{[\w\W]*/gm),Gie=fa(/^data-[\-\w.\u00B7-\uFFFF]+$/),Wie=fa(/^aria-[\-\w]+$/),RM=fa(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Hie=fa(/^(?:\w+script|data):/i),qie=fa(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),IM=fa(/^html$/i),Vie=fa(/^[a-z][.\w]*(-[.\w]+)+$/i);var JC=Object.freeze({__proto__:null,ARIA_ATTR:Wie,ATTR_WHITESPACE:qie,CUSTOM_ELEMENT:Vie,DATA_ATTR:Gie,DOCTYPE_NAME:IM,ERB_EXPR:zie,IS_ALLOWED_URI:RM,IS_SCRIPT_OR_DATA:Hie,MUSTACHE_EXPR:$ie,TMPLIT_EXPR:Uie});const qu={element:1,text:3,progressingInstruction:7,comment:8,document:9},Kie=function(){return typeof window>"u"?null:window},Zie=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(s=n.getAttribute(a));const i="dompurify"+(s?"#"+s:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},XC=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function FM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kie();const t=Me=>FM(Me);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==qu.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,a=s.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:c,Element:d,NodeFilter:u,NamedNodeMap:m=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:x}=e,v=d.prototype,w=Hu(v,"cloneNode"),b=Hu(v,"remove"),j=Hu(v,"nextSibling"),S=Hu(v,"childNodes"),_=Hu(v,"parentNode");if(typeof o=="function"){const Me=n.createElement("template");Me.content&&Me.content.ownerDocument&&(n=Me.content.ownerDocument)}let k,A="";const{implementation:P,createNodeIterator:E,createDocumentFragment:T,getElementsByTagName:M}=n,{importNode:U}=s;let D=XC();t.isSupported=typeof MM=="function"&&typeof _=="function"&&P&&P.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:z,TMPLIT_EXPR:X,DATA_ATTR:le,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:ae,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:ie}=JC;let{IS_ALLOWED_URI:ce}=JC,I=null;const pe=vt({},[...KC,...zy,...Uy,...Gy,...ZC]);let Q=null;const xe=vt({},[...YC,...Wy,...QC,...Ff]);let je=Object.seal(DM(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,rt=null,Z=!0,J=!0,De=!1,Fe=!0,ge=!1,te=!0,Te=!1,Le=!1,ze=!1,Qe=!1,Tt=!1,At=!1,W=!0,R=!1;const ee="user-content-";let se=!0,we=!1,ue={},ye=null;const He=vt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ut=null;const Bt=vt({},["audio","video","img","source","image","track"]);let qt=null;const rr=vt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),K="http://www.w3.org/1998/Math/MathML",Se="http://www.w3.org/2000/svg",Oe="http://www.w3.org/1999/xhtml";let lt=Oe,Qt=!1,$t=null;const an=vt({},[K,Se,Oe],By);let Kr=vt({},["mi","mo","mn","ms","mtext"]),zt=vt({},["annotation-xml"]);const Hs=vt({},["title","style","font","a","script"]);let Dr=null;const yn=["application/xhtml+xml","text/html"],Bn="text/html";let Jt=null,$n=null;const $a=n.createElement("form"),Br=function(H){return H instanceof RegExp||H instanceof Function},vn=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($n&&$n===H)){if((!H||typeof H!="object")&&(H={}),H=yi(H),Dr=yn.indexOf(H.PARSER_MEDIA_TYPE)===-1?Bn:H.PARSER_MEDIA_TYPE,Jt=Dr==="application/xhtml+xml"?By:gp,I=Na(H,"ALLOWED_TAGS")?vt({},H.ALLOWED_TAGS,Jt):pe,Q=Na(H,"ALLOWED_ATTR")?vt({},H.ALLOWED_ATTR,Jt):xe,$t=Na(H,"ALLOWED_NAMESPACES")?vt({},H.ALLOWED_NAMESPACES,By):an,qt=Na(H,"ADD_URI_SAFE_ATTR")?vt(yi(rr),H.ADD_URI_SAFE_ATTR,Jt):rr,ut=Na(H,"ADD_DATA_URI_TAGS")?vt(yi(Bt),H.ADD_DATA_URI_TAGS,Jt):Bt,ye=Na(H,"FORBID_CONTENTS")?vt({},H.FORBID_CONTENTS,Jt):He,Re=Na(H,"FORBID_TAGS")?vt({},H.FORBID_TAGS,Jt):yi({}),rt=Na(H,"FORBID_ATTR")?vt({},H.FORBID_ATTR,Jt):yi({}),ue=Na(H,"USE_PROFILES")?H.USE_PROFILES:!1,Z=H.ALLOW_ARIA_ATTR!==!1,J=H.ALLOW_DATA_ATTR!==!1,De=H.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=H.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ge=H.SAFE_FOR_TEMPLATES||!1,te=H.SAFE_FOR_XML!==!1,Te=H.WHOLE_DOCUMENT||!1,Qe=H.RETURN_DOM||!1,Tt=H.RETURN_DOM_FRAGMENT||!1,At=H.RETURN_TRUSTED_TYPE||!1,ze=H.FORCE_BODY||!1,W=H.SANITIZE_DOM!==!1,R=H.SANITIZE_NAMED_PROPS||!1,se=H.KEEP_CONTENT!==!1,we=H.IN_PLACE||!1,ce=H.ALLOWED_URI_REGEXP||RM,lt=H.NAMESPACE||Oe,Kr=H.MATHML_TEXT_INTEGRATION_POINTS||Kr,zt=H.HTML_INTEGRATION_POINTS||zt,je=H.CUSTOM_ELEMENT_HANDLING||{},H.CUSTOM_ELEMENT_HANDLING&&Br(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(je.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&Br(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(je.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(je.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ge&&(J=!1),Tt&&(Qe=!0),ue&&(I=vt({},ZC),Q=[],ue.html===!0&&(vt(I,KC),vt(Q,YC)),ue.svg===!0&&(vt(I,zy),vt(Q,Wy),vt(Q,Ff)),ue.svgFilters===!0&&(vt(I,Uy),vt(Q,Wy),vt(Q,Ff)),ue.mathMl===!0&&(vt(I,Gy),vt(Q,QC),vt(Q,Ff))),H.ADD_TAGS&&(I===pe&&(I=yi(I)),vt(I,H.ADD_TAGS,Jt)),H.ADD_ATTR&&(Q===xe&&(Q=yi(Q)),vt(Q,H.ADD_ATTR,Jt)),H.ADD_URI_SAFE_ATTR&&vt(qt,H.ADD_URI_SAFE_ATTR,Jt),H.FORBID_CONTENTS&&(ye===He&&(ye=yi(ye)),vt(ye,H.FORBID_CONTENTS,Jt)),se&&(I["#text"]=!0),Te&&vt(I,["html","head","body"]),I.table&&(vt(I,["tbody"]),delete Re.tbody),H.TRUSTED_TYPES_POLICY){if(typeof H.TRUSTED_TYPES_POLICY.createHTML!="function")throw Wu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof H.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Wu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=H.TRUSTED_TYPES_POLICY,A=k.createHTML("")}else k===void 0&&(k=Zie(x,a)),k!==null&&typeof A=="string"&&(A=k.createHTML(""));ts&&ts(H),$n=H}},is=vt({},[...zy,...Uy,...Fie]),Y=vt({},[...Gy,...Bie]),me=function(H){let _e=_(H);(!_e||!_e.tagName)&&(_e={namespaceURI:lt,tagName:"template"});const Ue=gp(H.tagName),mt=gp(_e.tagName);return $t[H.namespaceURI]?H.namespaceURI===Se?_e.namespaceURI===Oe?Ue==="svg":_e.namespaceURI===K?Ue==="svg"&&(mt==="annotation-xml"||Kr[mt]):!!is[Ue]:H.namespaceURI===K?_e.namespaceURI===Oe?Ue==="math":_e.namespaceURI===Se?Ue==="math"&&zt[mt]:!!Y[Ue]:H.namespaceURI===Oe?_e.namespaceURI===Se&&!zt[mt]||_e.namespaceURI===K&&!Kr[mt]?!1:!Y[Ue]&&(Hs[Ue]||!is[Ue]):!!(Dr==="application/xhtml+xml"&&$t[H.namespaceURI]):!1},Be=function(H){Uu(t.removed,{element:H});try{_(H).removeChild(H)}catch{b(H)}},at=function(H,_e){try{Uu(t.removed,{attribute:_e.getAttributeNode(H),from:_e})}catch{Uu(t.removed,{attribute:null,from:_e})}if(_e.removeAttribute(H),H==="is")if(Qe||Tt)try{Be(_e)}catch{}else try{_e.setAttribute(H,"")}catch{}},Ie=function(H){let _e=null,Ue=null;if(ze)H="<remove></remove>"+H;else{const nr=$y(H,/^[\r\n\t ]+/);Ue=nr&&nr[0]}Dr==="application/xhtml+xml"&&lt===Oe&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");const mt=k?k.createHTML(H):H;if(lt===Oe)try{_e=new g().parseFromString(mt,Dr)}catch{}if(!_e||!_e.documentElement){_e=P.createDocument(lt,"template",null);try{_e.documentElement.innerHTML=Qt?A:mt}catch{}}const dr=_e.body||_e.documentElement;return H&&Ue&&dr.insertBefore(n.createTextNode(Ue),dr.childNodes[0]||null),lt===Oe?M.call(_e,Te?"html":"body")[0]:Te?_e.documentElement:dr},Lt=function(H){return E.call(H.ownerDocument||H,H,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Xt=function(H){return H instanceof f&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof m)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function"||typeof H.hasChildNodes!="function")},on=function(H){return typeof c=="function"&&H instanceof c};function re(Me,H,_e){If(Me,Ue=>{Ue.call(t,H,_e,$n)})}const Ye=function(H){let _e=null;if(re(D.beforeSanitizeElements,H,null),Xt(H))return Be(H),!0;const Ue=Jt(H.nodeName);if(re(D.uponSanitizeElement,H,{tagName:Ue,allowedTags:I}),te&&H.hasChildNodes()&&!on(H.firstElementChild)&&Un(/<[/\w!]/g,H.innerHTML)&&Un(/<[/\w!]/g,H.textContent)||H.nodeType===qu.progressingInstruction||te&&H.nodeType===qu.comment&&Un(/<[/\w]/g,H.data))return Be(H),!0;if(!I[Ue]||Re[Ue]){if(!Re[Ue]&&Pe(Ue)&&(je.tagNameCheck instanceof RegExp&&Un(je.tagNameCheck,Ue)||je.tagNameCheck instanceof Function&&je.tagNameCheck(Ue)))return!1;if(se&&!ye[Ue]){const mt=_(H)||H.parentNode,dr=S(H)||H.childNodes;if(dr&&mt){const nr=dr.length;for(let ln=nr-1;ln>=0;--ln){const Ns=w(dr[ln],!0);Ns.__removalCount=(H.__removalCount||0)+1,mt.insertBefore(Ns,j(H))}}}return Be(H),!0}return H instanceof d&&!me(H)||(Ue==="noscript"||Ue==="noembed"||Ue==="noframes")&&Un(/<\/no(script|embed|frames)/i,H.innerHTML)?(Be(H),!0):(ge&&H.nodeType===qu.text&&(_e=H.textContent,If([B,z,X],mt=>{_e=Gu(_e,mt," ")}),H.textContent!==_e&&(Uu(t.removed,{element:H.cloneNode()}),H.textContent=_e)),re(D.afterSanitizeElements,H,null),!1)},nt=function(H,_e,Ue){if(W&&(_e==="id"||_e==="name")&&(Ue in n||Ue in $a))return!1;if(!(J&&!rt[_e]&&Un(le,_e))){if(!(Z&&Un($,_e))){if(!Q[_e]||rt[_e]){if(!(Pe(H)&&(je.tagNameCheck instanceof RegExp&&Un(je.tagNameCheck,H)||je.tagNameCheck instanceof Function&&je.tagNameCheck(H))&&(je.attributeNameCheck instanceof RegExp&&Un(je.attributeNameCheck,_e)||je.attributeNameCheck instanceof Function&&je.attributeNameCheck(_e,H))||_e==="is"&&je.allowCustomizedBuiltInElements&&(je.tagNameCheck instanceof RegExp&&Un(je.tagNameCheck,Ue)||je.tagNameCheck instanceof Function&&je.tagNameCheck(Ue))))return!1}else if(!qt[_e]){if(!Un(ce,Gu(Ue,G,""))){if(!((_e==="src"||_e==="xlink:href"||_e==="href")&&H!=="script"&&Mie(Ue,"data:")===0&&ut[H])){if(!(De&&!Un(ae,Gu(Ue,G,"")))){if(Ue)return!1}}}}}}return!0},Pe=function(H){return H!=="annotation-xml"&&$y(H,ie)},ft=function(H){re(D.beforeSanitizeAttributes,H,null);const{attributes:_e}=H;if(!_e||Xt(H))return;const Ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Q,forceKeepAttr:void 0};let mt=_e.length;for(;mt--;){const dr=_e[mt],{name:nr,namespaceURI:ln,value:Ns}=dr,_s=Jt(nr),yl=Ns;let jr=nr==="value"?yl:Die(yl);if(Ue.attrName=_s,Ue.attrValue=jr,Ue.keepAttr=!0,Ue.forceKeepAttr=void 0,re(D.uponSanitizeAttribute,H,Ue),jr=Ue.attrValue,R&&(_s==="id"||_s==="name")&&(at(nr,H),jr=ee+jr),te&&Un(/((--!?|])>)|<\/(style|title|textarea)/i,jr)){at(nr,H);continue}if(_s==="attributename"&&$y(jr,"href")){at(nr,H);continue}if(Ue.forceKeepAttr)continue;if(!Ue.keepAttr){at(nr,H);continue}if(!Fe&&Un(/\/>/i,jr)){at(nr,H);continue}ge&&If([B,z,X],vl=>{jr=Gu(jr,vl," ")});const za=Jt(H.nodeName);if(!nt(za,_s,jr)){at(nr,H);continue}if(k&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!ln)switch(x.getAttributeType(za,_s)){case"TrustedHTML":{jr=k.createHTML(jr);break}case"TrustedScriptURL":{jr=k.createScriptURL(jr);break}}if(jr!==yl)try{ln?H.setAttributeNS(ln,nr,jr):H.setAttribute(nr,jr),Xt(H)?Be(H):VC(t.removed)}catch{at(nr,H)}}re(D.afterSanitizeAttributes,H,null)},qe=function Me(H){let _e=null;const Ue=Lt(H);for(re(D.beforeSanitizeShadowDOM,H,null);_e=Ue.nextNode();)re(D.uponSanitizeShadowNode,_e,null),Ye(_e),ft(_e),_e.content instanceof i&&Me(_e.content);re(D.afterSanitizeShadowDOM,H,null)};return t.sanitize=function(Me){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=null,Ue=null,mt=null,dr=null;if(Qt=!Me,Qt&&(Me="<!-->"),typeof Me!="string"&&!on(Me))if(typeof Me.toString=="function"){if(Me=Me.toString(),typeof Me!="string")throw Wu("dirty is not a string, aborting")}else throw Wu("toString is not a function");if(!t.isSupported)return Me;if(Le||vn(H),t.removed=[],typeof Me=="string"&&(we=!1),we){if(Me.nodeName){const Ns=Jt(Me.nodeName);if(!I[Ns]||Re[Ns])throw Wu("root node is forbidden and cannot be sanitized in-place")}}else if(Me instanceof c)_e=Ie("<!---->"),Ue=_e.ownerDocument.importNode(Me,!0),Ue.nodeType===qu.element&&Ue.nodeName==="BODY"||Ue.nodeName==="HTML"?_e=Ue:_e.appendChild(Ue);else{if(!Qe&&!ge&&!Te&&Me.indexOf("<")===-1)return k&&At?k.createHTML(Me):Me;if(_e=Ie(Me),!_e)return Qe?null:At?A:""}_e&&ze&&Be(_e.firstChild);const nr=Lt(we?Me:_e);for(;mt=nr.nextNode();)Ye(mt),ft(mt),mt.content instanceof i&&qe(mt.content);if(we)return Me;if(Qe){if(Tt)for(dr=T.call(_e.ownerDocument);_e.firstChild;)dr.appendChild(_e.firstChild);else dr=_e;return(Q.shadowroot||Q.shadowrootmode)&&(dr=U.call(s,dr,!0)),dr}let ln=Te?_e.outerHTML:_e.innerHTML;return Te&&I["!doctype"]&&_e.ownerDocument&&_e.ownerDocument.doctype&&_e.ownerDocument.doctype.name&&Un(IM,_e.ownerDocument.doctype.name)&&(ln="<!DOCTYPE "+_e.ownerDocument.doctype.name+`>
`+ln),ge&&If([B,z,X],Ns=>{ln=Gu(ln,Ns," ")}),k&&At?k.createHTML(ln):ln},t.setConfig=function(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vn(Me),Le=!0},t.clearConfig=function(){$n=null,Le=!1},t.isValidAttribute=function(Me,H,_e){$n||vn({});const Ue=Jt(Me),mt=Jt(H);return nt(Ue,mt,_e)},t.addHook=function(Me,H){typeof H=="function"&&Uu(D[Me],H)},t.removeHook=function(Me,H){if(H!==void 0){const _e=Tie(D[Me],H);return _e===-1?void 0:Lie(D[Me],_e,1)[0]}return VC(D[Me])},t.removeHooks=function(Me){D[Me]=[]},t.removeAllHooks=function(){D=XC()},t}var Yie=FM();function Qie(){const{slug:e}=ul(),{isAuthenticated:t,user:n}=Ot(),[s,a]=p.useState({content:"",author_name:"",author_email:""}),[i,o]=p.useState(null),c=p.useMemo(()=>Cie[e]||[],[e]);p.useEffect(()=>{const g=LM.find(x=>x.slug===e);if(g){const x=JSON.parse(localStorage.getItem("viewedPosts")||"{}");x[e]||(g.view_count=(g.view_count||0)+1,x[e]=!0,localStorage.setItem("viewedPosts",JSON.stringify(x))),o(g)}},[e]);const d=!i,u=g=>{if(g.preventDefault(),!!s.content.trim()){if(!t&&(!s.author_name||!s.author_email)){alert("Please fill in your name and email");return}alert("Comment submission is not yet implemented. This will be connected to the backend API."),a({content:"",author_name:"",author_email:""})}},m=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),f=g=>{const x=g.trim();return Yie.sanitize(x,{ALLOWED_TAGS:["h1","h2","h3","h4","p","ul","ol","li","strong","em","a","br","div"],ALLOWED_ATTR:["class","href","target","rel"]})};return d||!i?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-white",children:r.jsx("div",{className:"section-padding",children:r.jsx("div",{className:"container-custom max-w-4xl",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Post Not Found"}),r.jsx("p",{className:"text-neutral-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),r.jsx(ne,{to:"/blog",className:"btn-primary",children:"Back to Blog"})]})})})}):r.jsx("div",{className:"min-h-screen bg-white",children:r.jsxs("article",{className:"max-w-full",children:[r.jsxs("div",{className:"max-w-3xl mx-auto px-6 pt-12 pb-8",children:[r.jsx("nav",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-neutral-500",children:[r.jsx(ne,{to:"/blog",className:"hover:text-neutral-900 transition-colors",children:"Blog"}),r.jsx("span",{children:"|"}),r.jsx(ne,{to:`/blog?category=${i.category_slug}`,className:"hover:text-neutral-900 transition-colors",children:i.category_name})]})}),r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-6 text-gray-900",style:{fontFamily:"Georgia, serif"},children:i.title}),i.excerpt&&r.jsx("p",{className:"text-xl md:text-2xl text-gray-600 leading-relaxed mb-8 font-light",children:i.excerpt}),r.jsxs("div",{className:"flex items-center justify-between py-6 border-t border-b border-gray-200",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold text-sm text-gray-900",children:[i.first_name," ",i.last_name]}),i.institution&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:i.institution})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsx("time",{children:m(i.published_at)}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),r.jsx("span",{children:i.view_count||0})]})]})]})]}),i.featured_image_url&&r.jsx("figure",{className:"mb-12",children:r.jsx("div",{className:"w-full",style:{maxHeight:"600px",overflow:"hidden"},children:r.jsx("img",{src:i.featured_image_url,alt:i.title,className:"w-full h-full object-cover"})})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-6 pb-12",children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:`
            .blog-content h2 {
              font-size: 1.875rem;
              font-weight: 700;
              color: #111827;
              margin-top: 3rem;
              margin-bottom: 1.5rem;
              padding-bottom: 0.75rem;
              border-bottom: 1px solid #e5e7eb;
            }
            .blog-content h3 {
              font-size: 1.5rem;
              font-weight: 600;
              color: #111827;
              margin-top: 2rem;
              margin-bottom: 1rem;
            }
            .blog-content p {
              color: #374151;
              line-height: 1.75;
              margin-bottom: 1.5rem;
              font-size: 1.0625rem;
            }
            .blog-content ul, .blog-content ol {
              margin-top: 1.5rem;
              margin-bottom: 1.5rem;
              padding-left: 1.5rem;
            }
            .blog-content li {
              color: #374151;
              line-height: 1.75;
              margin-bottom: 0.5rem;
              font-size: 1.0625rem;
            }
            .blog-content strong {
              color: #111827;
              font-weight: 600;
            }
            .blog-content a {
              color: #2563eb;
              text-decoration: none;
            }
            .blog-content a:hover {
              text-decoration: underline;
            }
            .blog-content h2:first-child {
              margin-top: 0;
            }
          `}}),r.jsx("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:f(i.content)}}),r.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-200",children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:[c.length," ",c.length===1?"Comment":"Comments"]}),r.jsxs("div",{className:"mb-12 pb-12 border-b border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Join the conversation"}),!t&&r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Your Name",value:s.author_name,onChange:g=>a(x=>({...x,author_name:g.target.value})),className:"px-4 py-2 border border-gray-300 focus:outline-none focus:border-gray-900 transition-colors",required:!0}),r.jsx("input",{type:"email",placeholder:"Your Email",value:s.author_email,onChange:g=>a(x=>({...x,author_email:g.target.value})),className:"px-4 py-2 border border-gray-300 focus:outline-none focus:border-gray-900 transition-colors",required:!0})]}),r.jsx("textarea",{placeholder:"Share your thoughts...",value:s.content,onChange:g=>a(x=>({...x,content:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:border-gray-900 transition-colors mb-4",rows:4,required:!0}),r.jsx("button",{type:"submit",onClick:u,className:"px-6 py-2 bg-gray-900 text-white hover:bg-gray-800 transition-colors text-sm font-medium",children:"Post Comment"}),r.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Comments are moderated and will appear after approval."})]}),c.length>0?r.jsx("div",{className:"space-y-8",children:c.map(g=>r.jsxs("div",{className:"pb-8 border-b border-gray-200 last:border-b-0",children:[r.jsxs("div",{className:"flex items-baseline gap-3 mb-3",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:g.first_name&&g.last_name?`${g.first_name} ${g.last_name}`:g.author_name}),r.jsx("span",{className:"text-sm text-gray-500",children:m(g.created_at)})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.content})]},g.id))}):r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No comments yet. Be the first to share your thoughts."})})]})]})]})})}var e3={exports:{}};(function(e,t){(function(n,s){s(t)})(v3,function(n){var s=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=i,c=this._zoom;if(i.__parent)for(;o.__parent._zoom>=c;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,o):this._animationAddLayerNonAnimated(i,o)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):i.getLatLng?this._map?i.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}),this):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i}),this)},addLayers:function(i,o){if(!L.Util.isArray(i))return this.addLayer(i);var c=this._featureGroup,d=this._nonPointGroup,u=this.options.chunkedLoading,m=this.options.chunkInterval,f=this.options.chunkProgress,g=i.length,x=0,v=!0,w;if(this._map){var b=new Date().getTime(),j=L.bind(function(){var _=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();x<g;x++){if(u&&x%200===0){var k=new Date().getTime()-_;if(k>m)break}if(w=i[x],w instanceof L.LayerGroup){v&&(i=i.slice(),v=!1),this._extractNonGroupLayers(w,i),g=i.length;continue}if(!w.getLatLng){d.addLayer(w),o||this.fire("layeradd",{layer:w});continue}if(!this.hasLayer(w)&&(this._addLayer(w,this._maxZoom),o||this.fire("layeradd",{layer:w}),w.__parent&&w.__parent.getChildCount()===2)){var A=w.__parent.getAllChildMarkers(),P=A[0]===w?A[1]:A[0];c.removeLayer(P)}}f&&f(x,g,new Date().getTime()-b),x===g?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(j,this.options.chunkDelay)},this);j()}else for(var S=this._needsClustering;x<g;x++){if(w=i[x],w instanceof L.LayerGroup){v&&(i=i.slice(),v=!1),this._extractNonGroupLayers(w,i),g=i.length;continue}if(!w.getLatLng){d.addLayer(w);continue}this.hasLayer(w)||S.push(w)}return this},removeLayers:function(i){var o,c,d=i.length,u=this._featureGroup,m=this._nonPointGroup,f=!0;if(!this._map){for(o=0;o<d;o++){if(c=i[o],c instanceof L.LayerGroup){f&&(i=i.slice(),f=!1),this._extractNonGroupLayers(c,i),d=i.length;continue}this._arraySplice(this._needsClustering,c),m.removeLayer(c),this.hasLayer(c)&&this._needsRemoving.push({layer:c,latlng:c._latlng}),this.fire("layerremove",{layer:c})}return this}if(this._unspiderfy){this._unspiderfy();var g=i.slice(),x=d;for(o=0;o<x;o++){if(c=g[o],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,g),x=g.length;continue}this._unspiderfyLayer(c)}}for(o=0;o<d;o++){if(c=i[o],c instanceof L.LayerGroup){f&&(i=i.slice(),f=!1),this._extractNonGroupLayers(c,i),d=i.length;continue}if(!c.__parent){m.removeLayer(c),this.fire("layerremove",{layer:c});continue}this._removeLayer(c,!0,!0),this.fire("layerremove",{layer:c}),u.hasLayer(c)&&(u.removeLayer(c),c.clusterShow&&c.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)i.extend(this._needsClustering[o].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,o){var c=this._needsClustering.slice(),d=this._needsRemoving,u,m,f;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(c),m=c.length-1;m>=0;m--){for(u=!0,f=d.length-1;f>=0;f--)if(d[f].layer===c[m]){u=!1;break}u&&i.call(o,c[m])}this._nonPointGroup.eachLayer(i,o)},getLayers:function(){var i=[];return this.eachLayer(function(o){i.push(o)}),i},getLayer:function(i){var o=null;return i=parseInt(i,10),this.eachLayer(function(c){L.stamp(c)===i&&(o=c)}),o},hasLayer:function(i){if(!i)return!1;var o,c=this._needsClustering;for(o=c.length-1;o>=0;o--)if(c[o]===i)return!0;for(c=this._needsRemoving,o=c.length-1;o>=0;o--)if(c[o].layer===i)return!1;return!!(i.__parent&&i.__parent._group===this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,o){var c=this._map;typeof o!="function"&&(o=function(){});var d=function(){(c.hasLayer(i)||c.hasLayer(i.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",d,this),this.off("animationend",d,this),c.hasLayer(i)?o():i.__parent._icon&&(this.once("spiderfied",o,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?o():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",d,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",d,this),this.on("animationend",d,this),i.__parent.zoomToBounds())},onAdd:function(i){this._map=i;var o,c,d;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,o=0,c=this._needsRemoving.length;o<c;o++)d=this._needsRemoving[o],d.newlatlng=d.layer._latlng,d.layer._latlng=d.latlng;for(o=0,c=this._needsRemoving.length;o<c;o++)d=this._needsRemoving[o],this._removeLayer(d.layer,!0),d.layer._latlng=d.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),c=this._needsClustering,this._needsClustering=[],this.addLayers(c,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var o=i;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(i,o){for(var c=i.length-1;c>=0;c--)if(i[c]===o)return i.splice(c,1),!0},_removeFromGridUnclustered:function(i,o){for(var c=this._map,d=this._gridUnclustered,u=Math.floor(this._map.getMinZoom());o>=u&&d[o].removeObject(i,c.project(i.getLatLng(),o));o--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var o=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),o&&i.target.openPopup()}},_moveChild:function(i,o,c){i._latlng=o,this.removeLayer(i),i._latlng=c,this.addLayer(i)},_childMarkerDragEnd:function(i){var o=i.target.__dragStart;delete i.target.__dragStart,o&&this._moveChild(i.target,o,i.target._latlng)},_removeLayer:function(i,o,c){var d=this._gridClusters,u=this._gridUnclustered,m=this._featureGroup,f=this._map,g=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(i,this._maxZoom);var x=i.__parent,v=x._markers,w;for(this._arraySplice(v,i);x&&(x._childCount--,x._boundsNeedUpdate=!0,!(x._zoom<g));)o&&x._childCount<=1?(w=x._markers[0]===i?x._markers[1]:x._markers[0],d[x._zoom].removeObject(x,f.project(x._cLatLng,x._zoom)),u[x._zoom].addObject(w,f.project(w.getLatLng(),x._zoom)),this._arraySplice(x.__parent._childClusters,x),x.__parent._markers.push(w),w.__parent=x.__parent,x._icon&&(m.removeLayer(x),c||m.addLayer(w))):x._iconNeedsUpdate=!0,x=x.__parent;delete i.__parent},_isOrIsParent:function(i,o){for(;o;){if(i===o)return!0;o=o.parentNode}return!1},fire:function(i,o,c){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,o,c)},listens:function(i,o){return L.FeatureGroup.prototype.listens.call(this,i,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,o)},_defaultIconCreateFunction:function(i){var o=i.getChildCount(),c=" marker-cluster-";return o<10?c+="small":o<100?c+="medium":c+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+c,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,o=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,u=this.options.spiderfyOnEveryZoom;(o||d||u)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var o=i.layer,c=o;if(!(i.type==="clusterkeypress"&&i.originalEvent&&i.originalEvent.keyCode!==13)){for(;c._childClusters.length===1;)c=c._childClusters[0];c._zoom===this._maxZoom&&c._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),i.layer.getChildCount()>2&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom,u=this._map;(i||c||d)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),u.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),c=this.options.maxClusterRadius,d=c;typeof c!="function"&&(d=function(){return c}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var u=i;u>=o;u--)this._gridClusters[u]=new L.DistanceGrid(d(u)),this._gridUnclustered[u]=new L.DistanceGrid(d(u));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(i,o){var c=this._gridClusters,d=this._gridUnclustered,u=Math.floor(this._map.getMinZoom()),m,f;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);o>=u;o--){m=this._map.project(i.getLatLng(),o);var g=c[o].getNearObject(m);if(g){g._addChild(i),i.__parent=g;return}if(g=d[o].getNearObject(m),g){var x=g.__parent;x&&this._removeLayer(g,!1);var v=new this._markerCluster(this,o,g,i);c[o].addObject(v,this._map.project(v._cLatLng,o)),g.__parent=v,i.__parent=v;var w=v;for(f=o-1;f>x._zoom;f--)w=new this._markerCluster(this,f,w),c[f].addObject(w,this._map.project(g.getLatLng(),f));x._addChild(w),this._removeFromGridUnclustered(g,o);return}d[o].addObject(i,m)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(i){var o=this._maxLat;return o!==void 0&&(i.getNorth()>=o&&(i._northEast.lat=1/0),i.getSouth()<=-o&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,o){if(o===i)this._featureGroup.addLayer(i);else if(o._childCount===2){o._addToMap();var c=o.getAllChildMarkers();this._featureGroup.removeLayer(c[0]),this._featureGroup.removeLayer(c[1])}else o._updateIcon()},_extractNonGroupLayers:function(i,o){var c=i.getLayers(),d=0,u;for(o=o||[];d<c.length;d++){if(u=c[d],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,o);continue}o.push(u)}return o},_overrideMarkerIcon:function(i){var o=i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,o){this._animationAddLayerNonAnimated(i,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,o){var c=this._getExpandedVisibleBounds(),d=this._featureGroup,u=Math.floor(this._map.getMinZoom()),m;this._ignoreMove=!0,this._topClusterLevel._recursively(c,i,u,function(f){var g=f._latlng,x=f._markers,v;for(c.contains(g)||(g=null),f._isSingleParent()&&i+1===o?(d.removeLayer(f),f._recursivelyAddChildrenToMap(null,o,c)):(f.clusterHide(),f._recursivelyAddChildrenToMap(g,o,c)),m=x.length-1;m>=0;m--)v=x[m],c.contains(v._latlng)||d.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(c,o),d.eachLayer(function(f){!(f instanceof L.MarkerCluster)&&f._icon&&f.clusterShow()}),this._topClusterLevel._recursively(c,i,o,function(f){f._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(c,i,u,function(f){d.removeLayer(f),f.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,o){this._animationZoomOutSingle(this._topClusterLevel,i-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,o){var c=this,d=this._featureGroup;d.addLayer(i),o!==i&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(o.getLatLng())),i.clusterHide(),this._enqueue(function(){d.removeLayer(i),i.clusterShow(),c._animationEnd()})):(this._forceLayout(),c._animationStart(),c._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,o,c){var d=this._getExpandedVisibleBounds(),u=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(d,u,o+1,c);var m=this;this._forceLayout(),i._recursivelyBecomeVisible(d,c),this._enqueue(function(){if(i._childCount===1){var f=i._markers[0];this._ignoreMove=!0,f.setLatLng(f.getLatLng()),this._ignoreMove=!1,f.clusterShow&&f.clusterShow()}else i._recursively(d,c,u,function(g){g._recursivelyRemoveChildrenFromMap(d,u,o+1)});m._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,o,c,d){L.Marker.prototype.initialize.call(this,c?c._cLatLng||c.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,c&&this._addChild(c),d&&this._addChild(d)},getAllChildMarkers:function(i,o){i=i||[];for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c].getAllChildMarkers(i,o);for(var d=this._markers.length-1;d>=0;d--)o&&this._markers[d].__dragStart||i.push(this._markers[d]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var o=this._childClusters.slice(),c=this._group._map,d=c.getBoundsZoom(this._bounds),u=this._zoom+1,m=c.getZoom(),f;o.length>0&&d>u;){u++;var g=[];for(f=0;f<o.length;f++)g=g.concat(o[f]._childClusters);o=g}d>u?this._group._map.setView(this._latlng,u):d<=m?this._group._map.setView(this._latlng,m+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(o||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(o||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i=this._markers,o=this._childClusters,c=0,d=0,u=this._childCount,m,f,g,x;if(u!==0){for(this._resetBounds(),m=0;m<i.length;m++)g=i[m]._latlng,this._bounds.extend(g),c+=g.lat,d+=g.lng;for(m=0;m<o.length;m++)f=o[m],f._boundsNeedUpdate&&f._recalculateBounds(),this._bounds.extend(f._bounds),g=f._wLatLng,x=f._childCount,c+=g.lat*x,d+=g.lng*x;this._latlng=this._wLatLng=new L.LatLng(c/u,d/u),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,o,c){this._recursively(i,this._group._map.getMinZoom(),c-1,function(d){var u=d._markers,m,f;for(m=u.length-1;m>=0;m--)f=u[m],f._icon&&(f._setPos(o),f.clusterHide())},function(d){var u=d._childClusters,m,f;for(m=u.length-1;m>=0;m--)f=u[m],f._icon&&(f._setPos(o),f.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,o,c,d){this._recursively(i,d,o,function(u){u._recursivelyAnimateChildrenIn(i,u._group._map.latLngToLayerPoint(u.getLatLng()).round(),c),u._isSingleParent()&&c-1===d?(u.clusterShow(),u._recursivelyRemoveChildrenFromMap(i,o,c)):u.clusterHide(),u._addToMap()})},_recursivelyBecomeVisible:function(i,o){this._recursively(i,this._group._map.getMinZoom(),o,null,function(c){c.clusterShow()})},_recursivelyAddChildrenToMap:function(i,o,c){this._recursively(c,this._group._map.getMinZoom()-1,o,function(d){if(o!==d._zoom)for(var u=d._markers.length-1;u>=0;u--){var m=d._markers[u];c.contains(m._latlng)&&(i&&(m._backupLatlng=m.getLatLng(),m.setLatLng(i),m.clusterHide&&m.clusterHide()),d._group._featureGroup.addLayer(m))}},function(d){d._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var o=this._markers.length-1;o>=0;o--){var c=this._markers[o];c._backupLatlng&&(c.setLatLng(c._backupLatlng),delete c._backupLatlng)}if(i-1===this._zoom)for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._restorePosition();else for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,o,c,d){var u,m;this._recursively(i,o-1,c-1,function(f){for(m=f._markers.length-1;m>=0;m--)u=f._markers[m],(!d||!d.contains(u._latlng))&&(f._group._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow())},function(f){for(m=f._childClusters.length-1;m>=0;m--)u=f._childClusters[m],(!d||!d.contains(u._latlng))&&(f._group._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow())})},_recursively:function(i,o,c,d,u){var m=this._childClusters,f=this._zoom,g,x;if(o<=f&&(d&&d(this),u&&f===c&&u(this)),f<o||f<c)for(g=m.length-1;g>=0;g--)x=m[g],x._boundsNeedUpdate&&x._recalculateBounds(),i.intersects(x._bounds)&&x._recursively(i,o,c,d,u)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,o){var c=this._getCoord(o.x),d=this._getCoord(o.y),u=this._grid,m=u[d]=u[d]||{},f=m[c]=m[c]||[],g=L.Util.stamp(i);this._objectPoint[g]=o,f.push(i)},updateObject:function(i,o){this.removeObject(i),this.addObject(i,o)},removeObject:function(i,o){var c=this._getCoord(o.x),d=this._getCoord(o.y),u=this._grid,m=u[d]=u[d]||{},f=m[c]=m[c]||[],g,x;for(delete this._objectPoint[L.Util.stamp(i)],g=0,x=f.length;g<x;g++)if(f[g]===i)return f.splice(g,1),x===1&&delete m[c],!0},eachObject:function(i,o){var c,d,u,m,f,g,x,v=this._grid;for(c in v){f=v[c];for(d in f)for(g=f[d],u=0,m=g.length;u<m;u++)x=i.call(o,g[u]),x&&(u--,m--)}},getNearObject:function(i){var o=this._getCoord(i.x),c=this._getCoord(i.y),d,u,m,f,g,x,v,w,b=this._objectPoint,j=this._sqCellSize,S=null;for(d=c-1;d<=c+1;d++)if(f=this._grid[d],f){for(u=o-1;u<=o+1;u++)if(g=f[u],g)for(m=0,x=g.length;m<x;m++)v=g[m],w=this._sqDist(b[L.Util.stamp(v)],i),(w<j||w<=j&&S===null)&&(j=w,S=v)}return S},_getCoord:function(i){var o=Math.floor(i/this._cellSize);return isFinite(o)?o:i},_sqDist:function(i,o){var c=o.x-i.x,d=o.y-i.y;return c*c+d*d}},function(){L.QuickHull={getDistant:function(i,o){var c=o[1].lat-o[0].lat,d=o[0].lng-o[1].lng;return d*(i.lat-o[0].lat)+c*(i.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(i,o){var c=0,d=null,u=[],m,f,g;for(m=o.length-1;m>=0;m--){if(f=o[m],g=this.getDistant(f,i),g>0)u.push(f);else continue;g>c&&(c=g,d=f)}return{maxPoint:d,newPoints:u}},buildConvexHull:function(i,o){var c=[],d=this.findMostDistantPointFromBaseLine(i,o);return d.maxPoint?(c=c.concat(this.buildConvexHull([i[0],d.maxPoint],d.newPoints)),c=c.concat(this.buildConvexHull([d.maxPoint,i[1]],d.newPoints)),c):[i[0]]},getConvexHull:function(i){var o=!1,c=!1,d=!1,u=!1,m=null,f=null,g=null,x=null,v=null,w=null,b;for(b=i.length-1;b>=0;b--){var j=i[b];(o===!1||j.lat>o)&&(m=j,o=j.lat),(c===!1||j.lat<c)&&(f=j,c=j.lat),(d===!1||j.lng>d)&&(g=j,d=j.lng),(u===!1||j.lng<u)&&(x=j,u=j.lng)}c!==o?(w=f,v=m):(w=x,v=g);var S=[].concat(this.buildConvexHull([w,v],i),this.buildConvexHull([v,w],i));return S}}}(),L.MarkerCluster.include({getConvexHull:function(){var i=this.getAllChildMarkers(),o=[],c,d;for(d=i.length-1;d>=0;d--)c=i[d].getLatLng(),o.push(c);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var i=this.getAllChildMarkers(null,!0),o=this._group,c=o._map,d=c.latLngToLayerPoint(this._latlng),u;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?u=this._group.options.spiderfyShapePositions(i.length,d):i.length>=this._circleSpiralSwitchover?u=this._generatePointsSpiral(i.length,d):(d.y+=10,u=this._generatePointsCircle(i.length,d)),this._animationSpiderfy(i,u)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,o){var c=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i),d=c/this._2PI,u=this._2PI/i,m=[],f,g;for(d=Math.max(d,35),m.length=i,f=0;f<i;f++)g=this._circleStartAngle+f*u,m[f]=new L.Point(o.x+d*Math.cos(g),o.y+d*Math.sin(g))._round();return m},_generatePointsSpiral:function(i,o){var c=this._group.options.spiderfyDistanceMultiplier,d=c*this._spiralLengthStart,u=c*this._spiralFootSeparation,m=c*this._spiralLengthFactor*this._2PI,f=0,g=[],x;for(g.length=i,x=i;x>=0;x--)x<i&&(g[x]=new L.Point(o.x+d*Math.cos(f),o.y+d*Math.sin(f))._round()),f+=u/d+x*5e-4,d+=m/f;return g},_noanimationUnspiderfy:function(){var i=this._group,o=i._map,c=i._featureGroup,d=this.getAllChildMarkers(null,!0),u,m;for(i._ignoreMove=!0,this.setOpacity(1),m=d.length-1;m>=0;m--)u=d[m],c.removeLayer(u),u._preSpiderfyLatlng&&(u.setLatLng(u._preSpiderfyLatlng),delete u._preSpiderfyLatlng),u.setZIndexOffset&&u.setZIndexOffset(0),u._spiderLeg&&(o.removeLayer(u._spiderLeg),delete u._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:d}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,o){var c=this._group,d=c._map,u=c._featureGroup,m=this._group.options.spiderLegPolylineOptions,f,g,x,v;for(c._ignoreMove=!0,f=0;f<i.length;f++)v=d.layerPointToLatLng(o[f]),g=i[f],x=new L.Polyline([this._latlng,v],m),d.addLayer(x),g._spiderLeg=x,g._preSpiderfyLatlng=g._latlng,g.setLatLng(v),g.setZIndexOffset&&g.setZIndexOffset(1e6),u.addLayer(g);this.setOpacity(.3),c._ignoreMove=!1,c.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,o){var c=this,d=this._group,u=d._map,m=d._featureGroup,f=this._latlng,g=u.latLngToLayerPoint(f),x=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),w=v.opacity,b,j,S,_,k,A;for(w===void 0&&(w=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),x?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=w,d._ignoreMove=!0,b=0;b<i.length;b++)j=i[b],A=u.layerPointToLatLng(o[b]),S=new L.Polyline([f,A],v),u.addLayer(S),j._spiderLeg=S,x&&(_=S._path,k=_.getTotalLength()+.1,_.style.strokeDasharray=k,_.style.strokeDashoffset=k),j.setZIndexOffset&&j.setZIndexOffset(1e6),j.clusterHide&&j.clusterHide(),m.addLayer(j),j._setPos&&j._setPos(g);for(d._forceLayout(),d._animationStart(),b=i.length-1;b>=0;b--)A=u.layerPointToLatLng(o[b]),j=i[b],j._preSpiderfyLatlng=j._latlng,j.setLatLng(A),j.clusterShow&&j.clusterShow(),x&&(S=j._spiderLeg,_=S._path,_.style.strokeDashoffset=0,S.setStyle({opacity:w}));this.setOpacity(.3),d._ignoreMove=!1,setTimeout(function(){d._animationEnd(),d.fire("spiderfied",{cluster:c,markers:i})},200)},_animationUnspiderfy:function(i){var o=this,c=this._group,d=c._map,u=c._featureGroup,m=i?d._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):d.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(null,!0),g=L.Path.SVG,x,v,w,b,j,S;for(c._ignoreMove=!0,c._animationStart(),this.setOpacity(1),v=f.length-1;v>=0;v--)x=f[v],x._preSpiderfyLatlng&&(x.closePopup(),x.setLatLng(x._preSpiderfyLatlng),delete x._preSpiderfyLatlng,S=!0,x._setPos&&(x._setPos(m),S=!1),x.clusterHide&&(x.clusterHide(),S=!1),S&&u.removeLayer(x),g&&(w=x._spiderLeg,b=w._path,j=b.getTotalLength()+.1,b.style.strokeDashoffset=j,w.setStyle({opacity:0})));c._ignoreMove=!1,setTimeout(function(){var _=0;for(v=f.length-1;v>=0;v--)x=f[v],x._spiderLeg&&_++;for(v=f.length-1;v>=0;v--)x=f[v],x._spiderLeg&&(x.clusterShow&&x.clusterShow(),x.setZIndexOffset&&x.setZIndexOffset(0),_>1&&u.removeLayer(x),d.removeLayer(x._spiderLeg),delete x._spiderLeg);c._animationEnd(),c.fire("unspiderfied",{cluster:o,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var o,c;for(o in i)for(c=i[o].__parent;c;)c._iconNeedsUpdate=!0,c=c.__parent},_refreshSingleMarkerModeMarkers:function(i){var o,c;for(o in i)c=i[o],this.hasLayer(c)&&c.setIcon(this._overrideMarkerIcon(c))}}),L.Marker.include({refreshIconOptions:function(i,o){var c=this.options.icon;return L.setOptions(c,i),this.setIcon(c),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=s,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})})(e3,e3.exports);function Jie(e){let t={},n={};const{children:s,...a}=e;return Object.entries(a).forEach(([i,o])=>{i.startsWith("on")?n={...n,[i]:o}:t={...t,[i]:o}}),{clusterProps:t,clusterEvents:n}}function Xie(e,t){const{clusterProps:n,clusterEvents:s}=Jie(e),a=new Ui.MarkerClusterGroup(n);return Object.entries(s).forEach(([i,o])=>{const c=`cluster${i.substring(2).toLowerCase()}`;a.on(c,o)}),tu(a,kj(t,{layerContainer:a}))}const eoe=(e,t,n)=>{},toe=QP(Xie,eoe);function roe({isOpen:e,onClose:t,onApplyFilters:n,onSelectPapers:s,currentPapers:a=[]}){const[i,o]=p.useState([{role:"assistant",content:`Hi! I can help you find conservation research papers. Try asking me things like:

 "Find elephant papers in Malawi after 2020"
 "Show me marine research in Cambodia"
 "Papers about deforestation in the Amazon"

I can also control what's shown on the map!`,timestamp:new Date}]),[c,d]=p.useState(""),[u,m]=p.useState(!1),f=p.useRef(null),g=()=>{var b;(b=f.current)==null||b.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{g()},[i]);const x=async()=>{if(!c.trim()||u)return;const b={role:"user",content:c,timestamp:new Date};o(j=>[...j,b]),d(""),m(!0);try{const j=a.map(A=>{var P;return{title:A.title,authors:A.authors,year:A.year,location:((P=A.location)==null?void 0:P.name)||null,ecosystems:A.ecosystem_types||[],methods:A.research_methods||[],taxonomic_coverage:A.taxonomic_coverage||[]}}),S=await fetch("http://localhost:3001/api/ai/search-assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c,conversationHistory:i,currentPapers:j})});if(!S.ok)throw new Error("Failed to get AI response");const _=await S.json(),k={role:"assistant",content:_.message,timestamp:new Date,filters:_.filters,applyToMap:_.applyToMap,actions:_.actions};o(A=>[...A,k]),_.applyToMap&&_.filters&&n(_.filters),_.selectPapers&&s&&s(_.selectPapers)}catch(j){console.error("AI Search Assistant Error:",j);const S={role:"assistant",content:"Sorry, I encountered an error processing your request. Please try again.",timestamp:new Date,isError:!0};o(_=>[..._,S])}finally{m(!1)}},v=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),x())},w=b=>{if(b.filters){n(b.filters);const j={role:"assistant",content:`Applied filters: ${b.label}`,timestamp:new Date};o(S=>[...S,j])}};return e?r.jsxs("div",{className:"fixed right-0 top-20 h-[calc(100vh-5rem)] w-96 bg-white shadow-2xl z-[2000] flex flex-col border-l border-gray-200 rounded-tl-lg",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 flex items-center justify-between rounded-tl-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-6 w-6"}),r.jsx("h2",{className:"text-lg font-semibold",children:"AI Search Assistant"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors hover:scale-110",title:"Close AI Search Assistant","aria-label":"Close",children:r.jsx(Rt,{className:"h-6 w-6 stroke-2"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[i.map((b,j)=>r.jsx("div",{className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-lg p-3 ${b.role==="user"?"bg-blue-600 text-white":b.isError?"bg-red-50 text-red-800 border border-red-200":"bg-white text-gray-800 border border-gray-200 shadow-sm"}`,children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.content}),b.actions&&b.actions.length>0&&r.jsx("div",{className:"mt-3 space-y-2",children:b.actions.map((S,_)=>r.jsxs("button",{onClick:()=>w(S),className:"w-full text-left px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-md text-sm font-medium transition-colors flex items-center space-x-2",children:[S.icon==="map"&&r.jsx(Wt,{className:"h-4 w-4"}),S.icon==="filter"&&r.jsx(Ja,{className:"h-4 w-4"}),S.icon==="clock"&&r.jsx(hc,{className:"h-4 w-4"}),r.jsx("span",{children:S.label})]},_))}),b.filters&&!b.applyToMap&&r.jsxs("div",{className:"mt-3 p-2 bg-gray-100 rounded text-xs",children:[r.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"Suggested filters:"}),b.filters.locations&&b.filters.locations.length>0&&r.jsxs("div",{className:"text-gray-600",children:["Locations: ",b.filters.locations.join(", ")]}),b.filters.species&&b.filters.species.length>0&&r.jsxs("div",{className:"text-gray-600",children:["Species: ",b.filters.species.join(", ")]}),b.filters.dateRange&&r.jsxs("div",{className:"text-gray-600",children:["Years: ",b.filters.dateRange.min||"?"," - ",b.filters.dateRange.max||"?"]})]}),r.jsx("div",{className:"text-xs opacity-70 mt-2",children:b.timestamp.toLocaleTimeString()})]})},j)),u&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-white text-gray-800 border border-gray-200 shadow-sm rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Thinking..."})]})})}),r.jsx("div",{ref:f})]}),r.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("textarea",{value:c,onChange:b=>d(b.target.value),onKeyPress:v,placeholder:"Ask me to find papers or filter the map...",className:"flex-1 resize-none rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,disabled:u}),r.jsx("button",{onClick:x,disabled:!c.trim()||u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:r.jsx(ux,{className:"h-5 w-5"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]}):null}const noe={"Marine & Coastal":"#3B82F6","Tropical Forests":"#10B981","Temperate Forests":"#059669","Grasslands & Savannas":"#F59E0B",Wetlands:"#06B6D4","Mountains & Alpine":"#8B5CF6","Desert & Arid":"#F97316",Freshwater:"#0EA5E9","Urban & Built":"#6B7280",Agricultural:"#84CC16","Other/Mixed":"#64748B"},soe=({paper:e,isOpen:t,onClose:n,onFetchSimilar:s})=>{var v,w,b,j,S,_,k,A;const[a,i]=p.useState([]),[o,c]=p.useState(!1),[d,u]=p.useState(!1);p.useEffect(()=>{t&&e&&s&&m()},[t,e]);const m=async()=>{if(!(!e||!s)){c(!0);try{const P=await s(e);i(P||[])}catch(P){console.error("Error fetching similar papers:",P),i([])}finally{c(!1)}}};if(!t||!e)return null;const f=tt.useMemo(()=>typeof e.authors=="string"?e.authors.split(",").map(P=>P.trim()).filter(Boolean):Array.isArray(e.authors)?e.authors.map(P=>{if(typeof P=="object"&&P!==null){if(P.name)return P.name;const E=P.given||"",T=P.family||"";return`${E} ${T}`.trim()}return String(P)}).filter(Boolean):[],[e.authors]),g=d?f:f.slice(0,5),x=f.length>5;return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:n}),r.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-start justify-between z-10",children:[r.jsxs("div",{className:"flex-1 pr-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.title}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 flex-wrap",children:[e.year&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"w-4 h-4"}),e.year]}),e.journal&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"italic",children:e.journal})]}),e.citations&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{className:"font-medium",children:[e.citations," citations"]})]}),e.source&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"text-blue-600 font-medium",children:e.source})]})]})]}),r.jsx("button",{onClick:n,className:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"px-6 py-6 space-y-6",children:[f.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Authors"}),r.jsxs("div",{className:"space-y-1",children:[g.map((P,E)=>r.jsxs("div",{className:"text-sm text-gray-700",children:[E+1,". ",P]},E)),x&&!d&&r.jsxs("button",{onClick:()=>u(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium mt-2",children:["Show all ",f.length," authors"]}),d&&x&&r.jsx("button",{onClick:()=>u(!1),className:"text-sm text-blue-600 hover:text-blue-700 font-medium mt-2",children:"Show less"})]})]}),e.abstract&&e.abstract!=="No abstract available"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Abstract"}),r.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.abstract})]}),e.doi&&r.jsx("div",{children:r.jsxs("a",{href:`https://doi.org/${e.doi}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:[r.jsx(Ma,{className:"w-4 h-4"}),"View Full Paper (DOI: ",e.doi,")"]})}),(((v=e.ecosystem_types)==null?void 0:v.length)>0||((w=e.research_methods)==null?void 0:w.length)>0||((b=e.frameworks)==null?void 0:b.length)>0||((j=e.taxonomic_coverage)==null?void 0:j.length)>0||e.location||e.geographic_scope)&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Research Metadata"}),r.jsxs("div",{className:"space-y-4",children:[((S=e.ecosystem_types)==null?void 0:S.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Ecosystem Types"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.ecosystem_types.map((P,E)=>r.jsx("span",{className:"px-3 py-1.5 text-sm rounded-full text-white font-medium",style:{backgroundColor:noe[P]||"#64748B"},children:P},E))})]}),((_=e.research_methods)==null?void 0:_.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Research Methods"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.research_methods.map((P,E)=>r.jsx("span",{className:"px-3 py-1.5 text-sm rounded-full bg-purple-100 text-purple-700 font-medium",children:P},E))})]}),((k=e.frameworks)==null?void 0:k.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Policy Frameworks"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.frameworks.map((P,E)=>r.jsx("span",{className:"px-3 py-1.5 text-sm rounded-full bg-green-100 text-green-700 font-medium",children:P},E))})]}),((A=e.taxonomic_coverage)==null?void 0:A.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Taxonomic Groups"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.taxonomic_coverage.map((P,E)=>r.jsx("span",{className:"px-3 py-1.5 text-sm rounded-full bg-amber-100 text-amber-700 font-medium",children:P},E))})]}),e.geographic_scope&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Geographic Scope"}),r.jsx("span",{className:"px-3 py-1.5 text-sm rounded-full bg-cyan-100 text-cyan-700 font-medium",children:e.geographic_scope})]}),e.location&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Study Location"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"px-3 py-1.5 text-sm rounded-full bg-gray-100 text-gray-700 flex items-center gap-1 font-medium",children:[r.jsx(Wt,{className:"w-4 h-4"}),e.location.name]}),e.location.latitude&&e.location.longitude&&r.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.location.latitude.toFixed(4),", ",e.location.longitude.toFixed(4),")"]})]}),e.aiGenerated&&e.location.confidence&&r.jsxs("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1",children:[r.jsx(Ct,{className:"w-3 h-3"}),"AI Confidence: ",Math.round(e.location.confidence*100),"%"]})]}),e.temporal_range&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Study Period"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[e.temporal_range.start," - ",e.temporal_range.end]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Similar Papers"}),o?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Finding similar papers..."})]}):a.length>0?r.jsx("div",{className:"space-y-3",children:a.map((P,E)=>{const T=typeof P.authors=="string"?P.authors:Array.isArray(P.authors)?P.authors.map(M=>typeof M=="object"&&M!==null?M.name?M.name:`${M.given||""} ${M.family||""}`.trim():String(M)).filter(Boolean).join(", "):"Unknown authors";return r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1 text-sm line-clamp-2",children:P.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[T&&r.jsx("span",{className:"line-clamp-1",children:T}),P.year&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:P.year})]}),P.citations&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{children:[P.citations," citations"]})]})]}),P.doi&&r.jsxs("a",{href:`https://doi.org/${P.doi}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium",children:["View Paper",r.jsx(IP,{className:"w-3 h-3"})]})]},E)})}):r.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No similar papers found. Try searching for related topics on CrossRef."})]})]}),r.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:r.jsx("button",{onClick:n,className:"px-6 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Close"})})]})]})})},Bf=["Marine & Coastal","Tropical Forests","Temperate Forests","Grasslands & Savannas","Wetlands","Mountains & Alpine","Desert & Arid","Freshwater","Urban & Built","Agricultural","Other/Mixed"],aoe=["Remote Sensing","Satellite Imagery","Aerial Surveys","Drone/UAV Monitoring","LiDAR","Satellite Tracking","GPS Telemetry","Radio Telemetry","Acoustic Telemetry","Geolocators","Field Surveys","Transect Surveys","Point Count Surveys","Mark-Recapture","Quadrat Sampling","Plot Sampling","Ecological Surveys","Species Inventories","Biodiversity Assessment","Camera Traps","Underwater Photography","Time-Lapse Photography","Video Analysis","Acoustic Monitoring","Bioacoustics","Passive Acoustic Monitoring (PAM)","Hydrophone Arrays","DNA Barcoding","eDNA (Environmental DNA)","Genomic Sequencing","Metabarcoding","Microsatellite Analysis","Population Genetics","Genetic Analysis","Phylogenetic Analysis","Isotope Analysis","Species Distribution Modeling","Population Viability Analysis","Habitat Suitability Modeling","Climate Modeling","Agent-Based Modeling","Artificial Intelligence","AI","Machine Learning","Deep Learning","Neural Networks","Convolutional Neural Networks (CNN)","Recurrent Neural Networks (RNN)","R-CNN","Fast R-CNN","Faster R-CNN","YOLO (Object Detection)","Random Forest","Support Vector Machines (SVM)","Decision Trees","Gradient Boosting","XGBoost","k-Nearest Neighbors (k-NN)","Naive Bayes","Ensemble Methods","Transfer Learning","Computer Vision","Image Classification","Object Detection","Semantic Segmentation","Natural Language Processing (NLP)","GIS Analysis","Statistical Analysis","Modeling","Population Modeling","Ecosystem Modeling","Habitat Modeling","Water Quality Sampling","Soil Sampling","Sediment Core Analysis","Tissue Sampling","Plankton Tows","Laboratory Analysis","Environmental Monitoring","Citizen Science","Crowdsourced Data","Interview Surveys","Participatory Monitoring","Questionnaire","Interviews","Focus Groups","Participatory Mapping","Experimental Manipulation","Controlled Experiments","Mesocosm Studies","Translocation Experiments","Experimental Design","Meta-Analysis","Literature Review","Systematic Review"],$f=["Site-specific","Local","Regional","National","Continental","Global"],zf=["Mammals","Birds","Reptiles","Amphibians","Marine Fish","Freshwater Fish","Insects","Arachnids","Crustaceans","Mollusks","Corals & Cnidarians","Echinoderms","Other Invertebrates","Vascular Plants","Bryophytes","Algae","Fungi","Lichens","Bacteria","Protists","Multiple Taxa","Ecosystem-level"],Uf=["Open Access","Public Dataset Available","Code/Scripts Available","Restricted Access","No Data Available"],Gf=["Habitat Loss","Climate Change","Human-Wildlife Conflict","Overexploitation","Pollution","Disease","Invasive Species","Habitat Fragmentation","Biodiversity Loss","Land Use Change","Deforestation","Urbanization","Agricultural Intensification","Illegal Wildlife Trade","Drought","Hunting","Poaching","Mining","Wildfires","Ocean Acidification"],Wf=["Protected Areas","Legislation/Policy","Monitoring","Habitat Restoration","Community-Based Conservation","Species Monitoring","Habitat Protection","Policy Development","Population Monitoring","Habitat Management","Species Reintroduction","Ex-situ Conservation","Biodiversity Monitoring","Habitat Conservation","Species Protection","Conservation Planning","Stakeholder Engagement","Community Engagement","Ecosystem Management","International Cooperation","Traditional Ecological Knowledge (TEK)","Indigenous-Led Conservation","Ethnobotany","Traditional Fire Management","Sacred Natural Sites","Community Conserved Areas"],Hf=["Literature Review","Field Study","Modeling/Simulation","Experimental","Mixed Methods","Meta-Analysis","Other"],ioe={International:ar.filter(e=>e.level==="international").slice(0,20),Regional:ar.filter(e=>e.level==="regional").slice(0,15),National:ar.filter(e=>e.level==="national").slice(0,15),Subnational:ar.filter(e=>e.level==="subnational").slice(0,10)},qf={"Marine & Coastal":"#3B82F6","Tropical Forests":"#10B981","Temperate Forests":"#059669","Grasslands & Savannas":"#F59E0B",Wetlands:"#06B6D4","Mountains & Alpine":"#8B5CF6","Desert & Arid":"#F97316",Freshwater:"#0EA5E9","Urban & Built":"#6B7280",Agricultural:"#84CC16","Other/Mixed":"#64748B"},t3=()=>{const{user:e}=Ot(),t=p.useRef(null),[n,s]=p.useState(""),[a,i]=p.useState(!1),[o,c]=p.useState(!1),[d,u]=p.useState(""),[m,f]=p.useState([]),[g,x]=p.useState([]),[v,w]=p.useState([]),[b,j]=p.useState([]),[S,_]=p.useState([]),[k,A]=p.useState([]),[P,E]=p.useState([]),[T,M]=p.useState([]),[U,D]=p.useState([]),[B,z]=p.useState(!1),[X,le]=p.useState({min:"",max:""}),[$,ae]=p.useState(""),[G,ie]=p.useState(!1),[ce,I]=p.useState(""),[pe,Q]=p.useState(!1),[xe,je]=p.useState([]),[Re,rt]=p.useState([]),[Z,J]=p.useState(new Set),[De,Fe]=p.useState("relevance"),[ge,te]=p.useState(1),Te=10,[Le,ze]=p.useState(new Set),[Qe,Tt]=p.useState({}),[At,W]=p.useState([20,0]),[R,ee]=p.useState(3),[se,we]=p.useState(!1),[ue,ye]=p.useState(null),[He,ut]=p.useState(!1),[Bt,qt]=p.useState(!1),[rr,K]=p.useState(!1),[Se,Oe]=p.useState([]),[lt,Qt]=p.useState(!1),[$t,an]=p.useState(!1),[Kr,zt]=p.useState(""),[Hs,Dr]=p.useState(""),[yn,Bn]=p.useState("#3B82F6"),[Jt,$n]=p.useState(!1),[$a,Br]=p.useState(null),[vn,is]=p.useState(null),[Y,me]=p.useState(null),[Be,at]=p.useState(!1),[Ie,Lt]=p.useState(null),[Xt,on]=p.useState([]),[re,Ye]=p.useState(0),nt=F=>F?typeof F=="string"?F:Array.isArray(F)&&F.map(ve=>ve.name||ve).filter(Boolean).join(", ")||"Unknown authors":"Unknown authors",[Pe,ft]=p.useState(null),qe=(F,ve)=>{const Ne=ve.map(([Ce])=>Ce),be=Pe&&Pe.type===F;ft(be?null:{type:F,order:Ne})},Me=async(F=!0)=>{var ve,Ne,be;F&&(te(1),rt([])),i(!0),Br(null);try{const Ce=n.trim()?rA(n):!1;let et=[];if(Ce&&n.trim())try{is("ai");const ct=await Li.naturalLanguageSearch(n,1,1e3);ct.data&&(me(ct.data.explanation||"AI-powered semantic search"),et=ct.data.papers||[])}catch(ct){console.error("AI search error:",ct),((ve=ct.response)==null?void 0:ve.status)===403&&(at(!0),Lt(((be=(Ne=ct.response)==null?void 0:Ne.data)==null?void 0:be.message)||"AI-powered natural language search is available for Pro users. Upgrade to unlock semantic search capabilities!")),is("keyword"),me(null),et=(await FS({query:n,author:n,frameworks:v,ecosystem:m.length>0?m[0]:"",methods:g,threatTypes:P,conservationActions:T,studyTypes:U,tekOnly:B,yearMin:X.min,yearMax:X.max})).papers||[]}else is(n.trim()?"keyword":null),me(null),et=(await FS({query:n,author:n,frameworks:v,ecosystem:m.length>0?m[0]:"",methods:g,threatTypes:P,conservationActions:T,studyTypes:U,tekOnly:B,yearMin:X.min,yearMax:X.max})).papers||[];const Ut=et.filter(ct=>ct.location&&ct.location.latitude&&ct.location.longitude);let gt=_e(Ut,De);Pe&&Pe.order&&Pe.order.length>0&&(gt=Ue(gt,Pe)),je(gt),J(new Set(gt.map(ct=>ct.id))),rt(gt),i(!1)}catch(Ce){console.error("Search error:",Ce),Br(Ce.message||"An error occurred during search"),je([]),i(!1)}},H=async F=>{if(!(Le.has(F.id)||Qe[F.id])){ze(ve=>new Set(ve).add(F.id));try{const ve=await Y2({title:F.title,abstract:F.abstract,existingTags:[]});if(ve.success&&ve.data){const Ne={location:ve.data.location||null,ecosystem_types:ve.data.ecosystem_types||[],research_methods:ve.data.research_methods||[],frameworks:ve.data.frameworks||[],taxonomic_coverage:ve.data.taxonomic_coverage||[],geographic_scope:ve.data.geographic_scope||null,temporal_range:ve.data.temporal_range||null,confidence:ve.data.confidence||.5,aiGenerated:!0};je(be=>be.map(Ce=>Ce.id===F.id?{...Ce,...Ne,location:Ne.location}:Ce)),Tt(be=>({...be,[F.id]:Ne}))}}catch(ve){console.error("AI metadata extraction error:",ve),Br(`Failed to extract metadata for: ${F.title.substring(0,50)}...`)}finally{ze(ve=>{const Ne=new Set(ve);return Ne.delete(F.id),Ne})}}},_e=(F,ve)=>{const Ne=[...F];return ve==="date"?Ne.sort((be,Ce)=>(Ce.year||0)-(be.year||0)):ve==="citations"&&Ne.sort((be,Ce)=>(Ce.citations||0)-(be.citations||0)),Ne},Ue=(F,ve)=>{const{type:Ne,order:be}=ve,Ce=[...F];return Ce.sort((et,Ut)=>{let gt=-1,ct=-1,jt=[],$r=[];Ne==="ecosystem"?(jt=et.ecosystem_types||(et.ecosystem?[et.ecosystem]:[]),$r=Ut.ecosystem_types||(Ut.ecosystem?[Ut.ecosystem]:[])):Ne==="method"?(jt=et.research_methods||[],$r=Ut.research_methods||[]):Ne==="taxonomic"?(jt=et.taxonomic_coverage||[],$r=Ut.taxonomic_coverage||[]):Ne==="framework"&&(jt=et.frameworks||[],$r=Ut.frameworks||[]);for(const Dt of jt){const $e=be.indexOf(Dt);$e!==-1&&(gt===-1||$e<gt)&&(gt=$e)}for(const Dt of $r){const $e=be.indexOf(Dt);$e!==-1&&(ct===-1||$e<ct)&&(ct=$e)}return gt!==-1&&ct===-1?-1:gt===-1&&ct!==-1?1:gt!==-1&&ct!==-1?gt-ct:0}),Ce},mt=(F,ve,Ne)=>{ve.includes(F)?Ne(ve.filter(be=>be!==F)):Ne([...ve,F])},dr=F=>{J(ve=>{const Ne=new Set(ve);return Ne.has(F)?Ne.delete(F):Ne.add(F),Ne})},nr=()=>{u(""),f([]),x([]),w([]),j([]),_([]),A([]),le({min:"",max:""})},ln=F=>{const{action:ve,criteria:Ne}=F;if(ve==="select_matching"){const be=xe.filter(Ce=>{var et,Ut,gt;return Ne.location&&((et=Ce.location)!=null&&et.name)&&!Ce.location.name.toLowerCase().includes(Ne.location.toLowerCase())||Ne.ecosystems&&Ne.ecosystems.length>0&&!((Ut=Ce.ecosystem_types)==null?void 0:Ut.some(jt=>Ne.ecosystems.some($r=>jt.toLowerCase().includes($r.toLowerCase()))))||Ne.species&&Ne.species.length>0&&!((gt=Ce.taxonomic_coverage)==null?void 0:gt.some(jt=>Ne.species.some($r=>jt.toLowerCase().includes($r.toLowerCase()))))?!1:Ce.location&&Ce.location.latitude&&Ce.location.longitude});J(new Set(be.map(Ce=>Ce.id))),console.log(`AI Selection: Found ${be.length} matching papers out of ${xe.length} total papers`)}else if(ve==="deselect_all")J(new Set),console.log("AI Selection: Deselected all papers");else if(ve==="select_all"){const be=xe.filter(Ce=>Ce.location&&Ce.location.latitude&&Ce.location.longitude);J(new Set(be.map(Ce=>Ce.id))),console.log(`AI Selection: Selected all ${be.length} papers with locations`)}},Ns=F=>{F.ecosystems&&F.ecosystems.length>0&&f(F.ecosystems),F.methods&&F.methods.length>0&&x(F.methods);const ve=[];if(F.species&&F.species.length>0){const Ne={elephants:"Mammals",elephant:"Mammals",mammals:"Mammals",birds:"Birds",fish:"Fish",reptiles:"Reptiles",amphibians:"Amphibians",plants:"Plants"},be=F.species.map(Ce=>{const et=Ce.toLowerCase();return Ne[et]||null}).filter(Boolean);be.length>0&&_(Ce=>Array.from(new Set([...Ce,...be]))),ve.push(...F.species)}if(F.locations&&F.locations.length>0&&ve.push(...F.locations),F.keywords&&F.keywords.length>0&&ve.push(...F.keywords),ve.length>0){const Ne=ve.map(et=>et.toLowerCase()),Ce=Array.from(new Set(Ne)).join(" ");s(Ce),F.dateRange&&(F.dateRange.min&&le(et=>({...et,min:F.dateRange.min.toString()})),F.dateRange.max&&le(et=>({...et,max:F.dateRange.max.toString()}))),setTimeout(()=>{Me(!0)},100)}else Br("Please provide search terms or keywords to search. Try being more specific in your AI Search Assistant query.")},_s=(F,ve,Ne)=>{const be=new Blob([F],{type:Ne}),Ce=window.URL.createObjectURL(be),et=document.createElement("a");et.href=Ce,et.download=ve,document.body.appendChild(et),et.click(),document.body.removeChild(et),window.URL.revokeObjectURL(Ce)},yl=()=>{const F=Ve.filter(Ce=>Z.has(Ce.id));if(F.length===0){alert("Please select papers to export");return}const ve=["Title","Authors","Year","Journal","DOI","Abstract","Ecosystems","Research Methods","Frameworks","Geographic Scope","Taxonomic Coverage","Data Availability","Temporal Range","Location Name","Latitude","Longitude","AI Generated","Source"],Ne=F.map(Ce=>{var et,Ut,gt;return[`"${(Ce.title||"").replace(/"/g,'""')}"`,`"${nt(Ce.authors).replace(/"/g,'""')}"`,Ce.year||"",`"${(Ce.journal||"").replace(/"/g,'""')}"`,Ce.doi||"",`"${(Ce.abstract||"").substring(0,500).replace(/"/g,'""')}"`,`"${(Ce.ecosystem_types||[]).join("; ")}"`,`"${(Ce.research_methods||[]).join("; ")}"`,`"${(Ce.frameworks||[]).join("; ")}"`,Ce.geographic_scope||"",`"${(Ce.taxonomic_coverage||[]).join("; ")}"`,Ce.data_availability||"",Ce.temporal_range?`${Ce.temporal_range.start}-${Ce.temporal_range.end}`:"",((et=Ce.location)==null?void 0:et.name)||"",((Ut=Ce.location)==null?void 0:Ut.latitude)||"",((gt=Ce.location)==null?void 0:gt.longitude)||"",Ce.aiGenerated?"Yes":"No",Ce.source||"COMPASSID"]}),be=[ve.join(","),...Ne.map(Ce=>Ce.join(","))].join(`
`);_s(be,`geographic-explorer-export-${new Date().toISOString().split("T")[0]}.csv`,"text/csv")},jr=()=>{const F=Ve.filter(be=>Z.has(be.id));if(F.length===0){alert("Please select papers to export");return}const Ne=F.map((be,Ce)=>{const et=be.doi?be.doi.replace(/[\/\\.]/g,"_"):`paper_${Ce+1}`,Ut=nt(be.authors),gt=(be.title||"Untitled").replace(/[{}]/g,""),ct=be.year||new Date().getFullYear(),jt=be.journal||"",$r=be.doi||"";return`@article{${et},
  author = {${Ut}},
  title = {${gt}},
  journal = {${jt}},
  year = {${ct}},
  doi = {${$r}},
  note = {Exported from COMPASSID Geographic Explorer}
}`}).join(`

`);_s(Ne,`geographic-explorer-export-${new Date().toISOString().split("T")[0]}.bib`,"application/x-bibtex")},za=()=>{const F=Ve.filter(be=>Z.has(be.id));if(F.length===0){alert("Please select papers to export");return}const Ne=F.map(be=>{var Ut,gt,ct;const Ce=nt(be.authors).split(",").map(jt=>jt.trim());return["TY  - JOUR",`TI  - ${be.title||"Untitled"}`,...Ce.map(jt=>`AU  - ${jt}`),`PY  - ${be.year||new Date().getFullYear()}`,be.journal?`JO  - ${be.journal}`:"",be.doi?`DO  - ${be.doi}`:"",be.abstract&&be.abstract!=="No abstract available"?`AB  - ${be.abstract}`:"",(Ut=be.location)!=null&&Ut.name?`N1  - Location: ${be.location.name}`:"",((gt=be.ecosystem_types)==null?void 0:gt.length)>0?`KW  - ${be.ecosystem_types.join("; ")}`:"",((ct=be.research_methods)==null?void 0:ct.length)>0?`KW  - ${be.research_methods.join("; ")}`:"","ER  - "].filter(jt=>jt).join(`
`)}).join(`

`);_s(Ne,`geographic-explorer-export-${new Date().toISOString().split("T")[0]}.ris`,"application/x-research-info-systems")},vl=()=>{const F=Ve.filter(be=>{var Ce,et;return Z.has(be.id)&&((Ce=be.location)==null?void 0:Ce.latitude)&&((et=be.location)==null?void 0:et.longitude)});if(F.length===0){alert("Please select papers with geographic coordinates to export as shapefile");return}const ve={type:"FeatureCollection",name:"COMPASSID_Geographic_Explorer",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:F.map(be=>({type:"Feature",geometry:{type:"Point",coordinates:[be.location.longitude,be.location.latitude]},properties:{title:be.title||"",authors:nt(be.authors),year:be.year||null,journal:be.journal||"",doi:be.doi||"",location:be.location.name||"",ecosystems:(be.ecosystem_types||[]).join("; "),methods:(be.research_methods||[]).join("; "),frameworks:(be.frameworks||[]).join("; "),geo_scope:be.geographic_scope||"",taxonomic:(be.taxonomic_coverage||[]).join("; "),ai_generated:be.aiGenerated?"Yes":"No",source:be.source||"COMPASSID"}}))},Ne=JSON.stringify(ve,null,2);_s(Ne,`geographic-explorer-export-${new Date().toISOString().split("T")[0]}.geojson`,"application/geo+json")},Lh=async()=>{Qt(!0);try{const F=await Ej();F.success&&Oe(F.folders)}catch(F){console.error("Error loading folders:",F),Br("Failed to load folders")}finally{Qt(!1)}},bl=async()=>{if(!Kr.trim()){Br("Folder name is required");return}try{const F=await tA({name:Kr,description:Hs,color:yn});F.success&&(Oe(ve=>[F.folder,...ve]),zt(""),Dr(""),Bn("#3B82F6"),an(!1))}catch(F){console.error("Error creating folder:",F),Br(F.message||"Failed to create folder")}},St=async F=>{if(Z.size!==0){$n(!0),Br(null);try{const Ne=Array.from(Z).map(be=>Ve.find(Ce=>Ce.id===be)).filter(Boolean).map(async be=>{const Ce={paper_title:be.title,paper_doi:be.doi||null,paper_authors:typeof be.authors=="string"?be.authors:JSON.stringify(be.authors),paper_year:be.year||be.publication_year||null,paper_journal:be.journal||be.container_title||null,paper_abstract:be.abstract||null,paper_url:be.url||(be.doi?`https://doi.org/${be.doi}`:null),notes:"",tags:[],folder_id:F};return eA(Ce)});await Promise.all(Ne),Br(null),alert(`Successfully saved ${Ss.size} paper(s) to folder!`),K(!1)}catch(ve){console.error("Error saving papers:",ve),Br("Failed to save papers. "+(ve.message||""))}finally{$n(!1)}}},ur=()=>{if(!e){alert("Please log in to save papers to folders");return}K(!0),Se.length===0&&Lh()},no=F=>{Fe(F),je(ve=>_e(ve,F))},di=aoe.filter(F=>F.toLowerCase().includes($.toLowerCase())),Ac=(()=>{if(!ce)return{};const F={},ve=ce.toLowerCase();return Object.entries(ioe).forEach(([Ne,be])=>{const Ce=be.filter(et=>(et.name||et.shortName||"").toLowerCase().includes(ve)&&!v.includes(et.id));Ce.length>0&&(F[Ne]=Ce)}),F})(),Ve=tt.useMemo(()=>{const F=xe.filter(Ne=>{const be=Ne.ecosystem_types||(Ne.ecosystem?[Ne.ecosystem]:[]);return!(be.length===0||be.includes("Urban & Built")||Ne.ecosystem_type==="Urban & Built")});if(!d.trim())return F;const ve=d.toLowerCase();return F.filter(Ne=>{var be,Ce,et,Ut,gt,ct,jt,$r,Dt,$e;return((be=Ne.title)==null?void 0:be.toLowerCase().includes(ve))||nt(Ne.authors).toLowerCase().includes(ve)||((Ce=Ne.abstract)==null?void 0:Ce.toLowerCase().includes(ve))||((et=Ne.journal)==null?void 0:et.toLowerCase().includes(ve))||((gt=(Ut=Ne.location)==null?void 0:Ut.name)==null?void 0:gt.toLowerCase().includes(ve))||((ct=Ne.ecosystem_types)==null?void 0:ct.some(Gt=>Gt.toLowerCase().includes(ve)))||((jt=Ne.research_methods)==null?void 0:jt.some(Gt=>Gt.toLowerCase().includes(ve)))||(($r=Ne.frameworks)==null?void 0:$r.some(Gt=>Gt.toLowerCase().includes(ve)))||((Dt=Ne.taxonomic_coverage)==null?void 0:Dt.some(Gt=>Gt.toLowerCase().includes(ve)))||(($e=Ne.geographic_scope)==null?void 0:$e.toLowerCase().includes(ve))})},[xe,d]),Nr=new Set(Ve.map(F=>F.id)),Ss=new Set(Array.from(Z).filter(F=>Nr.has(F))),so=Ve.filter(F=>Z.has(F.id)&&F.location&&F.location.latitude&&F.location.longitude),Pn=Ve.length,ui=Math.ceil(Pn/Te),ao=(ge-1)*Te,Ua=ao+Te,Or=Ve.slice(ao,Ua);tt.useEffect(()=>{ge>ui&&ui>0&&te(1)},[ge,ui]),tt.useEffect(()=>{if(xe.length!==0){if(Pe&&Pe.order&&Pe.order.length>0){const F=Ue(xe,Pe);je(F)}else if(Pe===null){const F=_e(xe,De);je(F)}}},[Pe]),tt.useEffect(()=>{const F=ve=>{var Ce;const Ne=ve.target.closest("button"),be=ve.target.closest(".export-dropdown-menu");Bt&&!((Ce=Ne==null?void 0:Ne.textContent)!=null&&Ce.includes("Export"))&&!be&&qt(!1)};if(Bt)return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[Bt]),tt.useEffect(()=>{const F=ve=>{var et;const Ne=ve.target.closest("button"),be=ve.target.closest(".save-dropdown-menu"),Ce=ve.target.closest(".create-folder-modal");rr&&!((et=Ne==null?void 0:Ne.textContent)!=null&&et.includes("Save to Folder"))&&!be&&!Ce&&K(!1)};if(rr)return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[rr]);const ga=(d?1:0)+m.length+g.length+v.length+b.length+S.length+k.length+(X.min?1:0)+(X.max?1:0),Mt=tt.useMemo(()=>{if(Ve.length===0)return null;const F=new Set(Ve.filter(Dt=>{var $e;return($e=Dt.location)==null?void 0:$e.name}).map(Dt=>Dt.location.name)).size,ve=Ve.map(Dt=>Dt.year).filter(Boolean),Ne=ve.length>0?{min:Math.min(...ve),max:Math.max(...ve)}:null,be={};Ve.forEach(Dt=>{var $e;($e=Dt.ecosystem_types)==null||$e.forEach(Gt=>{be[Gt]=(be[Gt]||0)+1})});const Ce=Object.entries(be).sort((Dt,$e)=>$e[1]-Dt[1]).slice(0,5),et={};Ve.forEach(Dt=>{var $e;($e=Dt.research_methods)==null||$e.forEach(Gt=>{et[Gt]=(et[Gt]||0)+1})});const Ut=Object.entries(et).sort((Dt,$e)=>$e[1]-Dt[1]).slice(0,5),gt={};Ve.forEach(Dt=>{var $e;($e=Dt.taxonomic_coverage)==null||$e.forEach(Gt=>{gt[Gt]=(gt[Gt]||0)+1})});const ct=Object.entries(gt).sort((Dt,$e)=>$e[1]-Dt[1]).slice(0,5),jt={};Ve.forEach(Dt=>{var $e;($e=Dt.frameworks)==null||$e.forEach(Gt=>{jt[Gt]=(jt[Gt]||0)+1})});const $r=Object.entries(jt).sort((Dt,$e)=>$e[1]-Dt[1]).slice(0,5);return{totalPapers:Ve.length,uniqueLocations:F,yearRange:Ne,topEcosystems:Ce,topMethods:Ut,topTaxonomic:ct,topFrameworks:$r,papersWithLocation:Ve.filter(Dt=>Dt.location).length}},[Ve]);return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Geographic Explorer"}),r.jsx("p",{className:"text-gray-600",children:"Search and visualize conservation research on an interactive map. Discover papers from COMPASSID or CrossRef with AI-powered metadata extraction."})]}),r.jsx("div",{className:"flex-shrink-0 relative",children:r.jsxs("button",{onClick:()=>we(!se),className:`flex items-center gap-3 px-6 py-3.5 rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg ${se?"bg-blue-600 text-white ring-2 ring-blue-300":"bg-white text-gray-700 border-2 border-blue-500 hover:bg-blue-50"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(zi,{className:"w-6 h-6 text-blue-600"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm font-semibold",children:"AI Research Assistant"}),r.jsx("div",{className:"text-xs opacity-75",children:"Ask questions in plain English"})]})]})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:n,onChange:F=>s(F.target.value),onKeyPress:F=>F.key==="Enter"&&Me(),placeholder:"Try natural language! e.g., 'camera trap studies of tigers in India' or keywords like 'elephant conservation'",className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),r.jsx("button",{onClick:()=>Me(),disabled:a,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium transition-colors",children:a?"Searching...":"Search"})]}),vn&&r.jsxs("div",{className:"mt-2 flex items-start gap-2",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium flex-shrink-0 ${vn==="ai"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:vn==="ai"?"AI-powered search":"Keyword search"}),Y&&vn==="ai"&&r.jsx("span",{className:"text-sm text-gray-600 flex-1",children:Y})]})]}),!a&&vn==="ai"&&xe.length===0&&Y&&r.jsx("div",{className:"mt-4 p-6 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Papers found, but none have geographic coordinates"}),r.jsx("p",{className:"text-sm text-blue-800 mb-4",children:"The AI search found papers matching your query, but none of them include location data needed for map display. This often happens with theoretical papers, literature reviews, or studies that don't specify geographic locations."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("a",{href:"/search",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:"View results on Search page"}),r.jsx("button",{onClick:()=>{s(""),je([]),is(null),me(null)},className:"inline-flex items-center px-4 py-2 bg-white text-blue-600 border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors font-medium text-sm",children:"Clear search"})]})]})]})}),$a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-red-800",children:$a}),r.jsx("button",{onClick:()=>Br(null),className:"text-red-600 hover:text-red-800 text-sm font-medium mt-2",children:"Dismiss"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-4",children:[r.jsxs("button",{onClick:()=>c(!o),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ja,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Advanced Filters"}),ga>0&&r.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:[ga," active"]})]}),o?r.jsx(dx,{className:"w-5 h-5 text-gray-500"}):r.jsx(la,{className:"w-5 h-5 text-gray-500"})]}),o&&r.jsxs("div",{className:"px-4 pb-4 space-y-6 border-t border-gray-200 pt-4",children:[ga>0&&r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:nr,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear all filters"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Filter Results by Keyword"}),r.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Filter displayed results by species names, locations, keywords, or any text within the results"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:d,onChange:F=>u(F.target.value),placeholder:"e.g., elephant, coral, Amazon, Kenya...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d&&r.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.jsx(Rt,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Ecosystem Types"}),r.jsx("button",{onClick:()=>f(m.length===Bf.length?[]:Bf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:m.length===Bf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Bf.map(F=>r.jsx("button",{onClick:()=>mt(F,m,f),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${m.includes(F)?"text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:m.includes(F)?{backgroundColor:qf[F]}:{},children:F},F))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Research Methods (",g.length," selected)"]}),g.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g.map(F=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[F,r.jsx("button",{onClick:()=>mt(F,g,x),className:"hover:bg-purple-200 rounded-full p-0.5",children:r.jsx(Rt,{className:"w-3 h-3"})})]},F))}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:$,onChange:F=>{ae(F.target.value),ie(!0)},onFocus:()=>ie(!0),placeholder:"Search methods (e.g., Remote Sensing, Camera Traps...)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),G&&di.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:di.map(F=>r.jsx("button",{onClick:()=>{mt(F,g,x),ae(""),ie(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:F},F))})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Policy Frameworks (",v.length," selected)"]}),v.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.map(F=>{const ve=ar.find(Ne=>Ne.id===F);return r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:[(ve==null?void 0:ve.shortName)||F,r.jsx("button",{onClick:()=>mt(F,v,w),className:"hover:bg-green-200 rounded-full p-0.5",children:r.jsx(Rt,{className:"w-3 h-3"})})]},F)})}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:ce,onChange:F=>{I(F.target.value),Q(!0)},onFocus:()=>Q(!0),placeholder:"Search frameworks (e.g., Paris Agreement, CBD, SDG...)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),pe&&Object.keys(Ac).length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:Object.entries(Ac).map(([F,ve])=>r.jsxs("div",{children:[r.jsx("div",{className:"px-3 py-2 bg-gray-50 text-xs font-semibold text-gray-600 sticky top-0",children:F}),ve.map(Ne=>r.jsxs("button",{onClick:()=>{mt(Ne.id,v,w),I(""),Q(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm border-b border-gray-100",children:[r.jsx("div",{className:"font-medium",children:Ne.shortName||Ne.name}),Ne.description&&r.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:Ne.description})]},Ne.id))]},F))})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Geographic Scope"}),r.jsx("button",{onClick:()=>j(b.length===$f.length?[]:$f),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:b.length===$f.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:$f.map(F=>r.jsx("button",{onClick:()=>mt(F,b,j),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${b.includes(F)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F},F))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Taxonomic Groups"}),r.jsx("button",{onClick:()=>_(S.length===zf.length?[]:zf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:S.length===zf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:zf.map(F=>r.jsx("button",{onClick:()=>mt(F,S,_),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${S.includes(F)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F},F))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Data Availability"}),r.jsx("button",{onClick:()=>A(k.length===Uf.length?[]:Uf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:k.length===Uf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Uf.map(F=>r.jsx("button",{onClick:()=>mt(F,k,A),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${k.includes(F)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F},F))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Threat Types"}),r.jsx("button",{onClick:()=>E(P.length===Gf.length?[]:Gf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:P.length===Gf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 max-h-48 overflow-y-auto",children:Gf.map(F=>r.jsx("button",{onClick:()=>mt(F,P,E),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${P.includes(F)?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F},F))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Conservation Actions"}),r.jsx("button",{onClick:()=>M(T.length===Wf.length?[]:Wf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:T.length===Wf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 max-h-48 overflow-y-auto",children:Wf.map(F=>r.jsx("button",{onClick:()=>mt(F,T,M),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${T.includes(F)?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F},F))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Study Type"}),r.jsx("button",{onClick:()=>D(U.length===Hf.length?[]:Hf),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:U.length===Hf.length?"Clear All":"Select All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Hf.map(F=>r.jsx("button",{onClick:()=>mt(F,U,D),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${U.includes(F)?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F},F))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Publication Year Range"}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("input",{type:"number",placeholder:"Start year",value:X.min,onChange:F=>le(ve=>({...ve,min:F.target.value})),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("span",{className:"text-gray-500",children:"to"}),r.jsx("input",{type:"number",placeholder:"End year",value:X.max,onChange:F=>le(ve=>({...ve,max:F.target.value})),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-4 overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Interactive Map"}),so.length>0&&r.jsxs("span",{className:"text-sm text-gray-600",children:["(",so.length," selected papers shown)"]}),Le.size>0&&r.jsxs("span",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[r.jsx(Ct,{className:"w-4 h-4 animate-pulse"}),"AI extracting metadata for ",Le.size," paper",Le.size>1?"s":"","..."]})]}),Z.size===0&&Le.size===0&&r.jsx("span",{className:"text-xs text-gray-500",children:"Check papers below to display them on the map"})]})}),r.jsxs(Xo,{center:At,zoom:R,style:{height:"700px",width:"100%"},ref:t,zoomControl:!0,minZoom:3,maxBounds:[[-90,-180],[90,180]],maxBoundsViscosity:1,worldCopyJump:!1,children:[r.jsx(el,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",noWrap:!0}),r.jsx(toe,{iconCreateFunction:F=>{const ve=F.getChildCount();return Ui.divIcon({html:`<div style="
                    background-color: white;
                    border: 3px solid #f97316;
                    border-radius: 50%;
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    font-size: 16px;
                    color: #1f2937;
                    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
                  ">${ve}</div>`,className:"custom-cluster-icon",iconSize:Ui.point(40,40,!0)})},children:so.map(F=>{var Ce;const Ne=(F.ecosystem_types||(F.ecosystem?[F.ecosystem]:[]))[0],be=qf[Ne]||"#64748B";return r.jsx(Pj,{center:[F.location.latitude,F.location.longitude],radius:8,pathOptions:{fillColor:be,color:"#ffffff",weight:2,opacity:1,fillOpacity:.8},children:r.jsx(XP,{direction:"top",offset:[0,-10],children:r.jsxs("div",{className:"text-sm",style:{maxWidth:"300px",width:"300px"},children:[Ne&&r.jsx("div",{className:"font-semibold text-blue-600 mb-2 text-xs",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word"},children:Ne}),r.jsx("div",{className:"font-medium mb-2 text-gray-900",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:F.title}),F.authors&&F.authors.length>0&&r.jsx("div",{className:"text-xs text-gray-600 mb-1",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word"},children:nt(F.authors)}),F.journal&&r.jsx("div",{className:"text-xs text-gray-500 italic mb-1",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word"},children:F.journal}),F.year&&r.jsx("div",{className:"text-xs text-gray-500",style:{whiteSpace:"normal",wordWrap:"break-word",overflowWrap:"break-word"},children:F.year}),((Ce=F.location)==null?void 0:Ce.name)&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-700 bg-gray-100 px-2 py-1 rounded mt-2",children:[r.jsx(Wt,{className:"w-3 h-3"}),F.location.name]})]})})},F.id)})})]})]}),Mt&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Papers"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Mt.totalPapers})]}),r.jsx(bt,{className:"w-10 h-10 text-blue-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unique Locations"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Mt.uniqueLocations}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Mt.papersWithLocation," with coordinates"]})]}),r.jsx(Wt,{className:"w-10 h-10 text-green-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-purple-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Publication Years"}),Mt.yearRange?r.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[Mt.yearRange.min," - ",Mt.yearRange.max]}):r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:"N/A"})]}),r.jsx(Jr,{className:"w-10 h-10 text-purple-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-amber-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Top Ecosystem"}),Mt.topEcosystems.length>0?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1 line-clamp-1",children:Mt.topEcosystems[0][0]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[Mt.topEcosystems[0][1]," papers"]})]}):r.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:"N/A"})]}),r.jsx(en,{className:"w-10 h-10 text-amber-500"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(en,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Ecosystems"})]}),Mt.topEcosystems.length>0&&r.jsx("button",{onClick:()=>qe("ecosystem",Mt.topEcosystems),className:`transition-colors ${(Pe==null?void 0:Pe.type)==="ecosystem"?"text-orange-500":"text-gray-400 hover:text-orange-500"}`,title:"Order papers by top ecosystems",children:r.jsx(Ja,{className:"w-4 h-4"})})]}),Mt.topEcosystems.length>0?r.jsx("div",{className:"space-y-2",children:Mt.topEcosystems.map(([F,ve],Ne)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 truncate",children:F}),r.jsx("span",{className:"text-sm font-medium text-gray-900 ml-2",children:ve})]},Ne))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No ecosystem data available"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cr,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Research Methods"})]}),Mt.topMethods.length>0&&r.jsx("button",{onClick:()=>qe("method",Mt.topMethods),className:`transition-colors ${(Pe==null?void 0:Pe.type)==="method"?"text-orange-500":"text-gray-400 hover:text-orange-500"}`,title:"Order papers by top research methods",children:r.jsx(Ja,{className:"w-4 h-4"})})]}),Mt.topMethods.length>0?r.jsx("div",{className:"space-y-2",children:Mt.topMethods.map(([F,ve],Ne)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 truncate",children:F}),r.jsx("span",{className:"text-sm font-medium text-gray-900 ml-2",children:ve})]},Ne))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No method data available"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hb,{className:"w-5 h-5 text-green-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Taxonomic Groups"})]}),Mt.topTaxonomic.length>0&&r.jsx("button",{onClick:()=>qe("taxonomic",Mt.topTaxonomic),className:`transition-colors ${(Pe==null?void 0:Pe.type)==="taxonomic"?"text-orange-500":"text-gray-400 hover:text-orange-500"}`,title:"Order papers by top taxonomic groups",children:r.jsx(Ja,{className:"w-4 h-4"})})]}),Mt.topTaxonomic.length>0?r.jsx("div",{className:"space-y-2",children:Mt.topTaxonomic.map(([F,ve],Ne)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 truncate",children:F}),r.jsx("span",{className:"text-sm font-medium text-gray-900 ml-2",children:ve})]},Ne))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No taxonomic data available"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-5 h-5 text-orange-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Policy Frameworks"})]}),Mt.topFrameworks.length>0&&r.jsx("button",{onClick:()=>qe("framework",Mt.topFrameworks),className:`transition-colors ${(Pe==null?void 0:Pe.type)==="framework"?"text-orange-500":"text-gray-400 hover:text-orange-500"}`,title:"Order papers by top policy frameworks",children:r.jsx(Ja,{className:"w-4 h-4"})})]}),Mt.topFrameworks.length>0?r.jsx("div",{className:"space-y-2",children:Mt.topFrameworks.map(([F,ve],Ne)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 truncate",children:F}),r.jsx("span",{className:"text-sm font-medium text-gray-900 ml-2",children:ve})]},Ne))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No framework data available"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between flex-wrap gap-3",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[Ve.length," results",d&&Ve.length!==xe.length&&r.jsxs("span",{className:"text-gray-500 ml-1",children:["(filtered from ",xe.length,")"]}),Ss.size>0&&r.jsxs("span",{className:"text-blue-600 font-medium ml-1",children:["(",Ss.size," selected)"]})]}),Ve.some(F=>F.location)&&r.jsx("button",{onClick:()=>{const F=Ve.filter(ve=>ve.location&&ve.location.latitude&&ve.location.longitude);Z.size===F.length?J(new Set):J(new Set(F.map(ve=>ve.id)))},className:"text-xs text-blue-600 hover:text-blue-700 font-medium px-3 py-1 border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors",children:(()=>{const F=Ve.filter(ve=>ve.location&&ve.location.latitude&&ve.location.longitude);return Z.size===F.length&&F.length>0?"Clear All":`Select All (${F.length})`})()}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Sort:"}),r.jsx("button",{onClick:()=>no("relevance"),className:`px-3 py-1 text-sm rounded transition-colors ${De==="relevance"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Relevance"}),r.jsx("button",{onClick:()=>no("date"),className:`px-3 py-1 text-sm rounded transition-colors ${De==="date"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Date"}),r.jsx("button",{onClick:()=>no("citations"),className:`px-3 py-1 text-sm rounded transition-colors ${De==="citations"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Citations"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>qt(!Bt),disabled:Ss.size===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:[r.jsx(Zp,{className:"w-4 h-4"}),"Export Selected (",Ss.size,")",r.jsx(la,{className:"w-4 h-4"})]}),Bt&&Ss.size>0&&r.jsx("div",{className:"export-dropdown-menu absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:r.jsxs("div",{className:"py-1",children:[r.jsxs("button",{onClick:()=>{yl(),qt(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"font-medium",children:"CSV Format"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Spreadsheet data with all metadata"})]}),r.jsxs("button",{onClick:()=>{jr(),qt(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"font-medium",children:"BibTeX Format"}),r.jsx("div",{className:"text-xs text-gray-500",children:"For LaTeX citations"})]}),r.jsxs("button",{onClick:()=>{za(),qt(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"font-medium",children:"RIS Format (Zotero/Mendeley)"}),r.jsx("div",{className:"text-xs text-gray-500",children:"For reference managers"})]}),r.jsxs("button",{onClick:()=>{vl(),qt(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"font-medium",children:"GeoJSON Format (Shapefile)"}),r.jsx("div",{className:"text-xs text-gray-500",children:"For GIS applications (QGIS, ArcGIS)"})]})]})})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:ur,disabled:Ss.size===0,title:e?"":"Please log in to save papers to folders",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:[r.jsx(Vo,{className:"w-4 h-4"}),"Save to Folder (",Ss.size,")",r.jsx(la,{className:"w-4 h-4"})]}),rr&&Ss.size>0&&r.jsxs("div",{className:"save-dropdown-menu absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"p-3 border-b border-gray-200",children:r.jsxs("button",{onClick:()=>an(!0),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-md hover:bg-blue-100 transition-colors text-sm font-medium",children:[r.jsx(zP,{className:"w-4 h-4"}),"Create New Folder"]})}),r.jsx("div",{className:"py-1 max-h-64 overflow-y-auto",children:lt?r.jsxs("div",{className:"px-4 py-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Loading folders..."})]}):Se.length===0?r.jsxs("div",{className:"px-4 py-8 text-center",children:[r.jsx(Qp,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No folders yet"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create one to get started"})]}):Se.map(F=>r.jsxs("button",{onClick:()=>St(F.id),disabled:Jt,className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:F.color}}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:F.name}),F.description&&r.jsx("div",{className:"text-xs text-gray-500 truncate",children:F.description}),r.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[F.paper_count||0," paper(s)"]})]})]},F.id))})]})]})]})]}),r.jsxs("div",{className:"divide-y divide-gray-200",children:[Ve.length===0&&!a&&xe.length>0&&r.jsxs("div",{className:"px-4 py-12 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-2",children:r.jsx(Ja,{className:"w-12 h-12 mx-auto"})}),r.jsx("p",{className:"text-gray-500",children:"No papers match your filter. Try different keywords or clear filters."})]}),xe.length===0&&!a&&r.jsxs("div",{className:"px-4 py-12 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-2",children:r.jsx(Dn,{className:"w-12 h-12 mx-auto"})}),r.jsx("p",{className:"text-gray-500",children:"No papers found. Try adjusting your search or filters."})]}),a&&r.jsxs("div",{className:"px-4 py-12 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Searching..."})]}),Or.map(F=>{var et,Ut,gt;const ve=F.ecosystem_types||(F.ecosystem?[F.ecosystem]:[]),Ne=ve[0],be=Le.has(F.id),Ce=F.aiGenerated||Qe[F.id];return r.jsx("div",{className:`px-4 py-4 hover:bg-gray-50 transition-colors ${Ne?"border-l-8":""}`,style:Ne?{borderLeftColor:qf[Ne]}:{},children:r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"flex-shrink-0 pt-1",children:[r.jsx("input",{type:"checkbox",checked:Z.has(F.id),onChange:()=>dr(F.id),disabled:!F.location,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 disabled:opacity-50"}),!F.location&&r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"No location"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>{ye(F),ut(!0)},children:F.title}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-2 flex-wrap",children:[r.jsx("span",{children:nt(F.authors)}),(F.publication_date||F.year)&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:F.publication_date?new Date(F.publication_date).toLocaleDateString("en-US",{month:"short",year:"numeric"}):F.year})]}),F.journal&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"italic",children:F.journal})]}),F.citations!==void 0&&F.citations!==null&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{className:"font-medium text-indigo-600",children:[F.citations," ",F.citations===1?"citation":"citations"]})]}),F.source&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"text-blue-600 font-medium",children:F.source})]})]}),F.doi&&r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[r.jsx("span",{className:"font-medium",children:"DOI:"})," ",r.jsx("a",{href:`https://doi.org/${F.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",onClick:ct=>ct.stopPropagation(),children:F.doi})]}),F.abstract&&F.abstract!=="No abstract available"?r.jsx("p",{className:"text-sm text-gray-700 mb-3 line-clamp-2",children:F.abstract}):r.jsx("p",{className:"text-sm text-gray-400 italic mb-3",children:"No abstract available"}),r.jsxs("div",{className:"flex items-start gap-2 flex-wrap mb-3",children:[ve.map((ct,jt)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full text-white font-medium",style:{backgroundColor:qf[ct]||"#64748B"},children:ct},`eco-${jt}`)),(et=F.research_methods)==null?void 0:et.map((ct,jt)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-700 font-medium",children:ct},`method-${jt}`)),(Ut=F.frameworks)==null?void 0:Ut.map((ct,jt)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-700 font-medium",children:ct},`fw-${jt}`)),(gt=F.taxonomic_coverage)==null?void 0:gt.map((ct,jt)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-amber-100 text-amber-700 font-medium",children:ct},`taxa-${jt}`)),F.location&&r.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-700 flex items-center gap-1 font-medium",children:[r.jsx(Wt,{className:"w-3 h-3"}),F.location.name]}),Ce&&r.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-700 flex items-center gap-1 font-medium",children:[r.jsx(Ct,{className:"w-3 h-3"}),"AI Generated"]})]}),r.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:F.source==="CrossRef"&&!Ce&&r.jsxs("button",{onClick:()=>H(F),disabled:be,className:"flex items-center gap-1 px-3 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ct,{className:"w-3 h-3"}),be?"Extracting...":"Extract Metadata"]})})]})]})},F.id)})]}),ui>1&&r.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[r.jsx("button",{onClick:()=>{te(F=>Math.max(1,F-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:ge===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",children:"Previous"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",ge," of ",ui]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(Showing ",ao+1,"-",Math.min(Ua,Pn)," of ",Pn,")"]})]}),r.jsx("button",{onClick:()=>{te(F=>Math.min(ui,F+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:ge===ui,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]}),r.jsx(roe,{isOpen:se,onClose:()=>we(!1),onApplyFilters:Ns,onSelectPapers:ln,currentPapers:Ve}),r.jsx(soe,{paper:ue,isOpen:He,onClose:()=>{ut(!1),ye(null)},onFetchSimilar:jz}),$t&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:r.jsxs("div",{className:"create-folder-modal bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Folder"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder Name *"}),r.jsx("input",{type:"text",value:Kr,onChange:F=>zt(F.target.value),placeholder:"e.g., Marine Conservation Papers",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),r.jsx("textarea",{value:Hs,onChange:F=>Dr(F.target.value),placeholder:"What type of papers will this folder contain?",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Folder Color"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#6B7280"].map(F=>r.jsx("button",{onClick:()=>Bn(F),className:`w-10 h-10 rounded-lg transition-all ${yn===F?"ring-2 ring-offset-2 ring-gray-400 scale-110":"hover:scale-105"}`,style:{backgroundColor:F}},F))})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{onClick:()=>{an(!1),zt(""),Dr(""),Bn("#3B82F6")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:bl,disabled:!Kr.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Create Folder"})]})]})}),Be&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"Upgrade to Pro for AI Search"}),r.jsx("p",{className:"text-gray-700 mb-4",children:Ie}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>window.location.href="/pricing",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"View Pricing"}),r.jsx("button",{onClick:()=>at(!1),className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})})]})};function ooe(){const[e,t]=p.useState(""),[n,s]=p.useState(""),[a,i]=p.useState("all"),[o,c]=p.useState("all"),[d,u]=p.useState([]),m=async b=>{try{(await fetch(`http://localhost:3001/api/jobs/postings/${b}/save`,{method:"POST",credentials:"include"})).ok&&u([...d,b])}catch(j){console.error("Failed to save job:",j)}},f=async b=>{try{(await fetch(`http://localhost:3001/api/jobs/postings/${b}/save`,{method:"POST",credentials:"include"})).ok&&u(d.filter(S=>S!==b))}catch(j){console.error("Failed to unsave job:",j)}},x=[].filter(b=>{const j=b.title.toLowerCase().includes(e.toLowerCase())||b.institution.toLowerCase().includes(e.toLowerCase())||b.description.toLowerCase().includes(e.toLowerCase()),S=!n||b.location.toLowerCase().includes(n.toLowerCase());let _=!0;a==="Remote"?_=b.remote:a!=="all"&&(_=b.type===a);let k=!0;if(o!=="all"){const A=new Date(b.deadline),P=new Date,E=Math.ceil((A.getTime()-P.getTime())/(1e3*60*60*24));o==="week"?k=E<=7&&E>=0:o==="month"&&(k=E<=30&&E>=0)}return j&&S&&_&&k}),v=["all","Full-time","Fellowship","Contract","Remote"],w=[{value:"all",label:"All Deadlines"},{value:"week",label:"Closing in 7 Days"},{value:"month",label:"Closing in 30 Days"}];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Research Positions"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Conservation, sustainability, and environmental research opportunities aligned with global frameworks"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[r.jsx("input",{type:"text",placeholder:"Search by title, institution, or keyword...",value:e,onChange:b=>t(b.target.value),className:"w-full px-6 py-4 text-lg border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("input",{type:"text",placeholder:"Location (city, state, or country)...",value:n,onChange:b=>s(b.target.value),className:"w-full px-6 py-4 text-lg border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:v.map(b=>r.jsx("button",{onClick:()=>i(b),className:`px-5 py-2 rounded-full text-sm font-medium transition-all ${a===b?"bg-[#009edb] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:b==="all"?"All Types":b},b))}),r.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:w.map(b=>r.jsx("button",{onClick:()=>c(b.value),className:`px-5 py-2 rounded-full text-sm font-medium transition-all ${o===b.value?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:b.label},b.value))})]}),r.jsxs("div",{className:"text-base text-gray-600 mb-6",children:[x.length," ",x.length===1?"position":"positions"," found"]})]})}),r.jsx("section",{className:"py-12 px-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:x.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No job postings yet"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back soon or post your position to get started"})]}):r.jsx("div",{className:"space-y-6",children:x.map(b=>r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 hover:border-[#009edb] transition-all",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${b.type==="Full-time"?"bg-blue-100 text-blue-700":b.type==="Fellowship"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:b.type}),b.remote&&r.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-semibold rounded-full",children:"Remote"})]}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:b.title}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-4",children:[b.institutionLogo?r.jsx("img",{src:b.institutionLogo,alt:`${b.institution} logo`,className:"w-10 h-10 rounded-lg object-cover border border-gray-200"}):r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm",children:g0(b.institution)}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:b.institution}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:b.location})]})]}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:b.description}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[r.jsxs("span",{children:["Posted ",new Date(b.posted).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{children:["Apply by ",new Date(b.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx(p0,{type:"job",itemId:b.id,isSaved:d.includes(b.id),onSave:m,onUnsave:f}),r.jsx(ne,{to:`/jobs/${b.id}`,className:"inline-flex items-center justify-center bg-[#009edb] text-white px-6 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all whitespace-nowrap",children:"View Details"})]})]})},b.id))})})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-white rounded-2xl p-8 md:p-12 border border-blue-100",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Hiring conservation researchers?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Post your position and connect with researchers working on policy-aligned conservation science"}),r.jsx(ne,{to:"/jobs/create",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Post a Position"})]})})})})]})}function loe(){const{id:e}=ul(),t=Yt(),[n,s]=p.useState([]),a=async d=>{try{(await fetch(`http://localhost:3001/api/jobs/postings/${d}/save`,{method:"POST",credentials:"include"})).ok&&s([...n,d])}catch(u){console.error("Failed to save job:",u)}},i=async d=>{try{(await fetch(`http://localhost:3001/api/jobs/postings/${d}/save`,{method:"POST",credentials:"include"})).ok&&s(n.filter(m=>m!==d))}catch(u){console.error("Failed to unsave job:",u)}},o={1:{id:1,title:"Research Scientist - Climate Change Adaptation",institution:"Global Environmental Research Institute",location:"Boston, MA",type:"Full-time",posted:"2024-10-20",deadline:"2024-11-30",remote:!0,salary:"$75,000 - $95,000",description:"We are seeking a Research Scientist to lead groundbreaking research on climate adaptation strategies in vulnerable ecosystems. This position focuses on developing evidence-based solutions aligned with SDG 13 (Climate Action) and Paris Agreement targets. The ideal candidate will work with interdisciplinary teams to assess ecosystem resilience, develop adaptation frameworks, and translate research findings into policy recommendations.",requirements:["PhD in Environmental Science, Ecology, Climate Science, or related field","Minimum 5 years of research experience in climate adaptation or related area","Demonstrated expertise in climate modeling and scenario analysis","Strong publication record in peer-reviewed journals","Experience with statistical analysis software (R, Python, or similar)","Excellent written and oral communication skills"],responsibilities:["Design and lead research projects on climate adaptation strategies","Develop climate models and analyze ecosystem vulnerability data","Collaborate with international research teams and policy stakeholders","Publish research findings in high-impact journals","Present research at international conferences and policy forums","Mentor graduate students and early-career researchers","Contribute to grant proposal development and fundraising efforts"],frameworks:["SDG 13: Climate Action","Paris Agreement","IPCC Framework"],applyUrl:"mailto:careers@geri.org"},2:{id:2,title:"Postdoctoral Fellow - Marine Conservation",institution:"Ocean Research Foundation",location:"San Diego, CA",type:"Fellowship",posted:"2024-10-18",deadline:"2024-12-15",remote:!1,salary:"$55,000 - $65,000",description:"Join our world-class research team investigating coral reef resilience and ecosystem restoration. This postdoctoral position focuses on understanding the biological and ecological factors that promote coral reef recovery in the face of climate change. Research will directly support SDG 14 (Life Below Water) and CBD biodiversity targets, with emphasis on translating findings into practical restoration strategies.",requirements:["PhD in Marine Biology, Oceanography, or related field","Field research experience in tropical marine ecosystems","Proficiency in statistical analysis and ecological modeling","Demonstrated ability to work independently and as part of a team","Strong publication record relative to career stage","Diving certification (SCUBA) preferred but not required"],responsibilities:["Conduct field research on coral reef ecosystems","Design and implement experimental studies on coral resilience","Analyze ecological data using advanced statistical methods","Collaborate with conservation practitioners and policymakers","Publish research in peer-reviewed scientific journals","Contribute to outreach and education initiatives","Assist in grant writing and project management"],frameworks:["SDG 14: Life Below Water","CBD Post-2020 Framework","Ocean Decade"],applyUrl:"mailto:hiring@oceanresearch.org"},3:{id:3,title:"Policy Analyst - Renewable Energy Transitions",institution:"Sustainable Energy Policy Center",location:"Washington, DC",type:"Full-time",posted:"2024-10-15",deadline:"2024-11-20",remote:!0,salary:"$65,000 - $85,000",description:"We seek a Policy Analyst to evaluate renewable energy policies and their effectiveness in meeting Paris Agreement commitments. This role bridges research and policy, requiring both analytical rigor and the ability to communicate complex findings to diverse stakeholders. The position offers unique opportunities to influence national and international energy policy while working with leading researchers and policymakers.",requirements:["Master's degree in Public Policy, Environmental Studies, Energy Policy, or related field","Minimum 3 years of experience in policy research or analysis","Deep knowledge of renewable energy technologies and markets","Strong quantitative and qualitative research skills","Excellent written and verbal communication abilities","Experience with policy evaluation methodologies"],responsibilities:["Analyze renewable energy policies and regulatory frameworks","Evaluate policy effectiveness using quantitative methods","Prepare policy briefs and technical reports for stakeholders","Engage with government officials and industry representatives","Monitor developments in energy policy at national and international levels","Present findings at conferences and stakeholder meetings","Support advocacy efforts for evidence-based energy policy"],frameworks:["Paris Agreement","SDG 7: Affordable Clean Energy","SDG 13: Climate Action"],applyUrl:"mailto:jobs@sepc.org"}},c=e?o[e]:null;return c?r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-12 px-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("button",{onClick:()=>t("/jobs"),className:"text-gray-600 hover:text-gray-900 mb-6 text-sm font-medium transition-colors",children:" Back to all positions"}),r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${c.type==="Full-time"?"bg-blue-100 text-blue-700":c.type==="Fellowship"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:c.type}),c.remote&&r.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-semibold rounded-full",children:"Remote"})]}),r.jsx("h1",{className:"text-4xl sm:text-5xl text-gray-900 mb-6 leading-tight font-semibold",children:c.title}),r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[c.institutionLogo?r.jsx("img",{src:c.institutionLogo,alt:`${c.institution} logo`,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl object-cover border-2 border-gray-200 flex-shrink-0"}):r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0 border-2 border-gray-200",children:g0(c.institution)}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-xl font-semibold text-gray-900",children:c.institution}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-base text-gray-600",children:[r.jsx("span",{children:c.location}),c.salary&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:c.salary})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[r.jsxs("span",{children:["Posted ",new Date(c.posted).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{children:["Apply by ",new Date(c.deadline).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),r.jsx(p0,{type:"job",itemId:c.id,isSaved:n.includes(c.id),onSave:a,onUnsave:i})]})]})}),r.jsx("section",{className:"py-16 px-4",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"About the Position"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:c.description})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Requirements"}),r.jsx("ul",{className:"space-y-3",children:c.requirements.map((d,u)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-[#009edb] rounded-full mt-2 flex-shrink-0"}),r.jsx("span",{className:"text-base text-gray-600 leading-relaxed",children:d})]},u))})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Responsibilities"}),r.jsx("ul",{className:"space-y-3",children:c.responsibilities.map((d,u)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-[#009edb] rounded-full mt-2 flex-shrink-0"}),r.jsx("span",{className:"text-base text-gray-600 leading-relaxed",children:d})]},u))})]}),c.frameworks.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Aligned Frameworks"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:c.frameworks.map((d,u)=>r.jsx("span",{className:"px-4 py-2 bg-green-50 text-green-700 rounded-full text-sm font-medium",children:d},u))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[r.jsx("a",{href:c.applyUrl||"#",className:"block w-full bg-[#009edb] text-white px-6 py-4 rounded-full text-center text-base font-medium hover:bg-[#0077b3] transition-all mb-4",children:"Apply for this Position"}),r.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Deadline: ",new Date(c.deadline).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Share this position"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{className:"flex-1 bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors",children:"Copy link"}),r.jsx("button",{className:"flex-1 bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors",children:"Email"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Similar positions"}),r.jsx("div",{className:"space-y-3",children:Object.values(o).filter(d=>d.id!==c.id).slice(0,3).map(d=>r.jsxs(ne,{to:`/jobs/${d.id}`,className:"block p-3 bg-white rounded-lg border border-gray-200 hover:border-[#009edb] transition-all",children:[r.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:d.title}),r.jsx("p",{className:"text-xs text-gray-600",children:d.institution})]},d.id))})]})]})]})})})]}):r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Job not found"}),r.jsx(ne,{to:"/jobs",className:"text-[#009edb] hover:text-[#0077b3] font-medium",children:"Return to job board"})]})})}function coe(){const e=Yt(),{isAuthenticated:t}=Ot();p.useEffect(()=>{t||e("/login",{state:{from:"/jobs/create"}})},[t,e]);const[n,s]=p.useState({title:"",institution:"",institutionLogo:"",location:"",type:"Full-time",remote:!1,salary:"",deadline:"",description:"",requirements:"",responsibilities:"",frameworks:[],contactEmail:""}),a=["SDG 13: Climate Action","SDG 14: Life Below Water","SDG 15: Life on Land","SDG 7: Affordable Clean Energy","SDG 2: Zero Hunger","Paris Agreement","CBD Post-2020 Framework","IPCC Framework","Ocean Decade"],i=d=>{d.preventDefault(),alert("Position posted successfully!"),e("/jobs")},o=d=>{const{name:u,value:m,type:f}=d.target,g=d.target.checked;s(x=>({...x,[u]:f==="checkbox"?g:m}))},c=d=>{s(u=>({...u,frameworks:u.frameworks.includes(d)?u.frameworks.filter(m=>m!==d):[...u.frameworks,d]}))};return t?r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Post a Position"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed",children:"Connect with conservation researchers working on policy-aligned science"})]})}),r.jsx("section",{className:"py-16 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("form",{onSubmit:i,className:"space-y-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900 mb-2",children:"Position Title *"}),r.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:n.title,onChange:o,placeholder:"e.g., Research Scientist - Climate Change Adaptation",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"institution",className:"block text-sm font-medium text-gray-900 mb-2",children:"Institution/Organization *"}),r.jsx("input",{type:"text",id:"institution",name:"institution",required:!0,value:n.institution,onChange:o,placeholder:"e.g., Global Environmental Research Institute",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"institutionLogo",className:"block text-sm font-medium text-gray-900 mb-2",children:"Institution Logo URL (optional)"}),r.jsx("input",{type:"url",id:"institutionLogo",name:"institutionLogo",value:n.institutionLogo,onChange:o,placeholder:"https://example.com/logo.png",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"If not provided, we'll display your organization's initials"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-900 mb-2",children:"Location *"}),r.jsx("input",{type:"text",id:"location",name:"location",required:!0,value:n.location,onChange:o,placeholder:"e.g., Boston, MA or Remote",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-900 mb-2",children:"Employment Type *"}),r.jsxs("select",{id:"type",name:"type",required:!0,value:n.type,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all",children:[r.jsx("option",{value:"Full-time",children:"Full-time"}),r.jsx("option",{value:"Part-time",children:"Part-time"}),r.jsx("option",{value:"Fellowship",children:"Fellowship"}),r.jsx("option",{value:"Contract",children:"Contract"}),r.jsx("option",{value:"Internship",children:"Internship"})]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-900 mb-2",children:"Salary Range"}),r.jsx("input",{type:"text",id:"salary",name:"salary",value:n.salary,onChange:o,placeholder:"e.g., $75,000 - $95,000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"deadline",className:"block text-sm font-medium text-gray-900 mb-2",children:"Application Deadline *"}),r.jsx("input",{type:"date",id:"deadline",name:"deadline",required:!0,value:n.deadline,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"remote",checked:n.remote,onChange:o,className:"w-4 h-4 text-[#009edb] border-gray-300 rounded focus:ring-[#009edb]"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Remote work available"})]})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Position Details"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-900 mb-2",children:"Position Description *"}),r.jsx("textarea",{id:"description",name:"description",required:!0,value:n.description,onChange:o,rows:6,placeholder:"Provide a detailed description of the position, research focus, and organizational context...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-900 mb-2",children:"Requirements *"}),r.jsx("textarea",{id:"requirements",name:"requirements",required:!0,value:n.requirements,onChange:o,rows:6,placeholder:"List qualifications, education, experience, and skills required (one per line)...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"responsibilities",className:"block text-sm font-medium text-gray-900 mb-2",children:"Responsibilities *"}),r.jsx("textarea",{id:"responsibilities",name:"responsibilities",required:!0,value:n.responsibilities,onChange:o,rows:6,placeholder:"List key responsibilities and duties (one per line)...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all resize-none"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Framework Alignment"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select the policy frameworks this position supports (optional but recommended)"}),r.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:a.map(d=>r.jsxs("label",{className:`flex items-center gap-3 p-4 border rounded-lg cursor-pointer transition-all ${n.frameworks.includes(d)?"border-[#009edb] bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("input",{type:"checkbox",checked:n.frameworks.includes(d),onChange:()=>c(d),className:"w-4 h-4 text-[#009edb] border-gray-300 rounded focus:ring-[#009edb]"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:d})]},d))})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Contact Information"}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-900 mb-2",children:"Contact Email *"}),r.jsx("input",{type:"email",id:"contactEmail",name:"contactEmail",required:!0,value:n.contactEmail,onChange:o,placeholder:"applications@institution.org",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Applicants will use this email to apply for the position"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{type:"submit",className:"flex-1 bg-[#009edb] text-white px-8 py-4 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Post Position"}),r.jsx("button",{type:"button",onClick:()=>e("/jobs"),className:"px-8 py-4 border border-gray-300 text-gray-700 rounded-full text-base font-medium hover:bg-gray-50 transition-all",children:"Cancel"})]})]})})})]}):null}function doe(){const[e,t]=p.useState("auth"),n={auth:{title:"Authentication",description:"User authentication and session management",endpoints:[{method:"POST",path:"/api/auth/register",description:"Register a new user account",auth:!1,body:{email:"string (required)",password:"string (required)",first_name:"string (required)",last_name:"string (required)",institution:"string (optional)",orcid:"string (optional)"},response:{user:"User object",token:"JWT token string"}},{method:"POST",path:"/api/auth/login",description:"Authenticate user and receive JWT token",auth:!1,body:{email:"string (required)",password:"string (required)"},response:{user:"User object",token:"JWT token string"}},{method:"GET",path:"/api/auth/me",description:"Get current user profile",auth:!0,response:{user:"User object with profile data"}}]},research:{title:"Research",description:"Submit, search, and retrieve research papers",endpoints:[{method:"GET",path:"/api/research",description:"Search and filter research papers",auth:!1,params:{search:"string (optional) - Search query",framework:"string (optional) - Filter by framework",sdg:"string (optional) - Filter by SDG target",region:"string (optional) - Filter by geographic region",limit:"number (optional) - Results per page (default: 20)",offset:"number (optional) - Pagination offset"},response:{research:"Array of research objects",total:"Total count of matching results"}},{method:"GET",path:"/api/research/:id",description:"Get detailed information about a specific research paper",auth:!1,response:{id:"Research ID",title:"Research title",doi:"DOI",authors:"Array of authors",frameworks:"Associated policy frameworks",metadata:"COMPASS metadata fields"}},{method:"POST",path:"/api/research",description:"Submit new research paper to the database",auth:!0,body:{title:"string (required)",doi:"string (required)",authors:"array (required)",abstract:"string (required)",publication_date:"date (required)",frameworks:"array (optional) - Policy frameworks",sdg_targets:"array (optional) - SDG targets",geographic_scope:"object (optional)",taxonomic_coverage:"array (optional)",temporal_range:"object (optional)",research_methods:"array (optional)",data_availability:"object (optional)"},response:{id:"Created research ID",message:"Success message"}}]},frameworks:{title:"Frameworks",description:"Access policy frameworks and targets",endpoints:[{method:"GET",path:"/api/frameworks",description:"Get list of all supported policy frameworks",auth:!1,response:{frameworks:"Array of framework objects (SDGs, CBD, Paris Agreement, etc.)"}},{method:"GET",path:"/api/frameworks/:id",description:"Get detailed information about a specific framework",auth:!1,response:{id:"Framework ID",name:"Framework name",description:"Framework description",targets:"Array of targets/indicators",research_count:"Number of linked research papers"}}]},grants:{title:"Grants",description:"Funding opportunities and grant management",endpoints:[{method:"GET",path:"/api/grants",description:"Search available grants and funding opportunities",auth:!1,params:{search:"string (optional)",category:"string (optional)",region:"string (optional)",deadline:"date (optional)"},response:{grants:"Array of grant objects",total:"Total count"}},{method:"POST",path:"/api/grants",description:"Submit a new grant opportunity",auth:!0,body:{title:"string (required)",funder:"string (required)",amount:"number (required)",deadline:"date (required)",description:"string (required)",eligibility:"string (optional)",url:"string (optional)"}}]},stats:{title:"Statistics",description:"Platform analytics and research trends",endpoints:[{method:"GET",path:"/api/stats/overview",description:"Get platform statistics overview",auth:!1,response:{total_research:"Number of research papers",total_frameworks:"Number of frameworks",total_researchers:"Number of registered researchers",coverage_by_region:"Geographic distribution",trending_topics:"Popular research areas"}},{method:"GET",path:"/api/stats/frameworks",description:"Get research distribution by framework",auth:!1,response:{frameworks:"Array of frameworks with research counts"}}]}};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500 font-medium",children:"Developer Resources"})}),r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"API Documentation"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Build applications that connect research to policy frameworks using the COMPASS ID REST API"})]})}),r.jsx("section",{className:"py-20 px-4 border-t border-gray-200 bg-white",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-8 font-semibold",children:"Quick Start"}),r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 border border-gray-200 mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Base URL"}),r.jsx("code",{className:"block bg-gray-900 text-green-400 px-6 py-4 rounded-xl font-mono text-sm",children:"https://api.compassid.org"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 border border-gray-200 mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Authentication"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Protected endpoints require a JWT token in the Authorization header:"}),r.jsx("code",{className:"block bg-gray-900 text-green-400 px-6 py-4 rounded-xl font-mono text-sm",children:"Authorization: Bearer YOUR_JWT_TOKEN"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Rate Limits"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"100 requests per 15 minutes for unauthenticated requests. Higher limits for authenticated users."})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Response Format"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"All responses are in JSON format with consistent structure and error handling."})]})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-8 font-semibold",children:"API Endpoints"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200",children:Object.entries(n).map(([s,a])=>r.jsx("button",{onClick:()=>t(s),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e===s?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.title},s))}),r.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200",children:[r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:n[e].description}),r.jsx("div",{className:"space-y-6",children:n[e].endpoints.map((s,a)=>r.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-semibold ${s.method==="GET"?"bg-blue-100 text-blue-700":s.method==="POST"?"bg-green-100 text-green-700":s.method==="PUT"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s.method}),r.jsx("code",{className:"text-gray-900 font-mono text-sm",children:s.path}),s.auth&&r.jsx("span",{className:"ml-auto px-2 py-1 bg-orange-100 text-orange-700 text-xs font-semibold rounded",children:"Auth Required"})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:s.description})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[s.params&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Query Parameters"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:Object.entries(s.params).map(([i,o])=>r.jsxs("div",{className:"flex gap-4 py-2 border-b border-gray-200 last:border-b-0",children:[r.jsx("code",{className:"text-blue-600 font-mono text-sm font-semibold min-w-[120px]",children:i}),r.jsx("span",{className:"text-gray-600 text-sm",children:o})]},i))})]}),s.body&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Request Body"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:Object.entries(s.body).map(([i,o])=>r.jsxs("div",{className:"flex gap-4 py-2 border-b border-gray-200 last:border-b-0",children:[r.jsx("code",{className:"text-blue-600 font-mono text-sm font-semibold min-w-[160px]",children:i}),r.jsx("span",{className:"text-gray-600 text-sm",children:o})]},i))})]}),s.response&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Response"}),r.jsx("div",{className:"bg-gray-900 text-green-400 rounded-lg p-4 font-mono text-sm",children:r.jsx("pre",{children:JSON.stringify(s.response,null,2)})})]})]})]},a))})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-8 font-semibold",children:"Code Examples"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"JavaScript / Fetch"}),r.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:r.jsx("pre",{className:"text-green-400 p-6 overflow-x-auto font-mono text-sm",children:`// Search research papers
const response = await fetch('https://api.compassid.org/api/research?sdg=13&limit=10');
const data = await response.json();

// Submit new research (requires authentication)
const token = 'YOUR_JWT_TOKEN';
const newResearch = {
  title: 'Climate adaptation strategies',
  doi: '10.1234/example',
  authors: ['Dr. Jane Smith'],
  abstract: 'Research abstract...',
  publication_date: '2024-01-15',
  sdg_targets: ['13.1', '13.2']
};

const submitResponse = await fetch('https://api.compassid.org/api/research', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': \`Bearer \${token}\`
  },
  body: JSON.stringify(newResearch)
});`})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Python / Requests"}),r.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:r.jsx("pre",{className:"text-green-400 p-6 overflow-x-auto font-mono text-sm",children:`import requests

# Search research papers
response = requests.get(
    'https://api.compassid.org/api/research',
    params={'sdg': '13', 'limit': 10}
)
data = response.json()

# Submit new research (requires authentication)
token = 'YOUR_JWT_TOKEN'
new_research = {
    'title': 'Climate adaptation strategies',
    'doi': '10.1234/example',
    'authors': ['Dr. Jane Smith'],
    'abstract': 'Research abstract...',
    'publication_date': '2024-01-15',
    'sdg_targets': ['13.1', '13.2']
}

submit_response = requests.post(
    'https://api.compassid.org/api/research',
    json=new_research,
    headers={'Authorization': f'Bearer {token}'}
)`})})]})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-8 font-semibold",children:"Error Handling"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"The API uses standard HTTP status codes and returns errors in a consistent JSON format:"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Common Status Codes"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("code",{className:"text-green-600 font-mono font-semibold",children:"200"}),r.jsx("span",{className:"text-gray-600",children:"Success"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("code",{className:"text-yellow-600 font-mono font-semibold",children:"400"}),r.jsx("span",{className:"text-gray-600",children:"Bad Request"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("code",{className:"text-orange-600 font-mono font-semibold",children:"401"}),r.jsx("span",{className:"text-gray-600",children:"Unauthorized"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("code",{className:"text-red-600 font-mono font-semibold",children:"404"}),r.jsx("span",{className:"text-gray-600",children:"Not Found"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("code",{className:"text-red-600 font-mono font-semibold",children:"429"}),r.jsx("span",{className:"text-gray-600",children:"Rate Limit Exceeded"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("code",{className:"text-red-600 font-mono font-semibold",children:"500"}),r.jsx("span",{className:"text-gray-600",children:"Server Error"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Error Response Format"}),r.jsx("div",{className:"bg-gray-900 text-red-400 rounded-lg p-4 font-mono text-sm",children:r.jsx("pre",{children:`{
  "error": {
    "message": "Error description",
    "code": "ERROR_CODE",
    "status": 400
  }
}`})})]})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-white rounded-2xl p-8 md:p-12 border border-blue-100",children:[r.jsx("h2",{className:"text-3xl text-gray-900 font-semibold mb-4",children:"Need Help?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Join our developer community, report issues, or request new features"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx(ne,{to:"/about",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Contact Support"}),r.jsx("a",{href:"https://github.com/compassid",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-3 rounded-full text-base font-medium border border-gray-300 hover:border-gray-400 transition-all",children:"View on GitHub"})]})]})})}),r.jsx("section",{className:"py-12 px-4 border-t border-gray-200 bg-gray-50",children:r.jsx("div",{className:"max-w-5xl mx-auto text-center",children:r.jsx("p",{className:"text-sm text-gray-500",children:"API v1.0  Free and open source  Currently in development"})})})]})}function uoe(){const[e,t]=p.useState("news"),n=[];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500 font-medium",children:"Stay Updated"})}),r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"News & Updates"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Platform announcements, partnerships, and research-policy developments"})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("news"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="news"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Latest News"}),r.jsx("button",{onClick:()=>t("announcements"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="announcements"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Announcements"}),r.jsx("button",{onClick:()=>t("partnerships"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="partnerships"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Partnerships"})]}),r.jsxs("div",{children:[e==="news"&&r.jsx("div",{className:"space-y-6",children:n.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No news articles yet"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back soon for platform updates and announcements"})]}):n.map(s=>r.jsxs("article",{className:"bg-white rounded-xl p-8 border border-gray-200 hover:border-[#009edb] transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full mb-3",children:s.category}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:s.title})]}),r.jsx("time",{className:"text-sm text-gray-500 whitespace-nowrap ml-4",children:new Date(s.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),r.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:s.excerpt}),r.jsxs(ne,{to:`/blog/${s.id}`,className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["Read more",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},s.id))}),e==="announcements"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No announcements yet"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back soon for upcoming events and webinars"})]})}),e==="partnerships"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No partnerships announced yet"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back soon for collaboration updates"})]})})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-white rounded-2xl p-8 md:p-12 border border-blue-100",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Stay in the loop"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Get updates on platform features, upcoming events, and research-policy insights delivered to your inbox"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-xl mx-auto",children:[r.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-6 py-3 text-base border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("button",{className:"bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all whitespace-nowrap",children:"Subscribe"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No spam, unsubscribe anytime"})]})})})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-6 font-semibold",children:"Join the community"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Connect with researchers, policymakers, and institutions working to bridge the gap between science and policy"})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs(ne,{to:"/dashboard",className:"bg-white rounded-xl p-6 border border-gray-200 hover:border-[#009edb] transition-all group",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-blue-200 transition-colors",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Community Hub"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Connect with other researchers and share insights"})]}),r.jsxs("a",{href:"https://github.com/compassid",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-xl p-6 border border-gray-200 hover:border-[#009edb] transition-all group",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-gray-200 transition-colors",children:r.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"GitHub"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Contribute to open source development"})]}),r.jsxs(ne,{to:"/about",className:"bg-white rounded-xl p-6 border border-gray-200 hover:border-[#009edb] transition-all group",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-200 transition-colors",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Get Support"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Questions? Reach out to our team"})]})]})]})}),r.jsx("section",{className:"py-12 px-4 border-t border-gray-200 bg-gray-50",children:r.jsx("div",{className:"max-w-5xl mx-auto text-center",children:r.jsx("p",{className:"text-sm text-gray-500",children:"Building in public  Free and open source  Join us in creating policy-science infrastructure"})})})]})}function moe(){const[e,t]=p.useState("all"),[n,s]=p.useState(""),[a,i]=p.useState([]),[o,c]=p.useState(!0),{isAuthenticated:d}=Ot(),u=Yt();p.useEffect(()=>{m()},[]);const m=async()=>{try{const v=await(await fetch(Sr("/api/groups"),{credentials:"include"})).json();i(v.groups||[])}catch(x){console.error("Error fetching groups:",x)}finally{c(!1)}},f=()=>{d?u("/groups/create"):u("/login",{state:{from:"/groups/create"}})},g=a.filter(x=>{const v=e==="all"||x.type===e,w=n===""||x.name.toLowerCase().includes(n.toLowerCase())||x.description.toLowerCase().includes(n.toLowerCase());return v&&w});return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Research Groups"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl mb-8",children:"Collaborative communities organized around policy frameworks, geographic regions, and research themes"}),r.jsx("button",{onClick:f,className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Create a group"})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"max-w-3xl",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-6 font-semibold leading-tight",children:"Amplify collective impact"}),r.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:"Research groups connect scientists working on related policy goalsbuilding shared evidence bases, coordinating multi-author publications, and demonstrating collective contributions to frameworks."})]})})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-8 font-semibold",children:"Browse groups"}),r.jsx("div",{className:"mb-8",children:r.jsx("input",{type:"text",placeholder:"Search by name or description...",value:n,onChange:x=>s(x.target.value),className:"w-full px-6 py-4 text-lg border-2 border-gray-300 rounded-full focus:border-[#007aff] focus:outline-none transition-all"})}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("all"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="all"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"All Groups"}),r.jsx("button",{onClick:()=>t("framework"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="framework"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"By Framework"}),r.jsx("button",{onClick:()=>t("geographic"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="geographic"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"By Region"}),r.jsx("button",{onClick:()=>t("theme"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="theme"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"By Theme"}),r.jsx("button",{onClick:()=>t("methodology"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="methodology"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"By Methodology"})]}),r.jsx("div",{className:"space-y-4",children:g.map(x=>r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 hover:border-[#009edb] transition-all",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:x.name}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${x.type==="framework"?"bg-blue-100 text-blue-700":x.type==="geographic"?"bg-green-100 text-green-700":x.type==="theme"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:x.type==="framework"?"Framework":x.type==="geographic"?"Geographic":x.type==="theme"?"Theme":"Methodology"})]}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4 max-w-2xl",children:x.description}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[r.jsxs("span",{children:[x.members.toLocaleString()," members"]}),r.jsxs("span",{children:[x.research_papers.toLocaleString()," research papers"]}),r.jsxs("span",{children:["Last active ",x.last_active]})]})]}),r.jsxs(ne,{to:`/groups/${x.id}`,className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium ml-8",children:["View Group",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},x.id))}),g.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No research groups yet"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Be the first to create a group and connect with other researchers"})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-12 font-semibold",children:"How groups are organized"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full flex-shrink-0 mt-2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Framework-Based"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:"Groups organized around specific policy frameworks like SDG targets, CBD indicators, or Paris Agreement articles. Researchers coordinate evidence for shared policy goals."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Examples: SDG 13 Climate Action, CBD Target 3 Protected Areas"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full flex-shrink-0 mt-2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Geographic"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:"Regional networks connecting researchers working in the same geographic area. Essential for context-specific policy implementation and local knowledge sharing."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Examples: Latin America Biodiversity, Pacific Islands Climate"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full flex-shrink-0 mt-2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Thematic"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:"Cross-cutting groups focused on research themes that span multiple frameworks. Ideal for interdisciplinary collaboration on complex challenges."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Examples: Marine Restoration, Urban Climate Adaptation"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full flex-shrink-0 mt-2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Methodology"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:"Communities of practice sharing specific research methods and analytical approaches. Supports technical collaboration and methodological standardization."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Examples: Remote Sensing, Community-Based Monitoring"})]})]})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-6 font-semibold leading-tight",children:"Start your own research group"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Create a group and invite researchers working on similar policy connections. All authenticated users can create and manage groups."}),r.jsx("button",{onClick:f,className:"inline-flex items-center justify-center bg-[#009edb] text-white px-10 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all shadow-lg hover:shadow-xl",children:"Create a group"})]})})})]})}function hoe(){const{id:e}=ul(),{isAuthenticated:t,user:n}=Ot(),s=Yt(),[a,i]=p.useState("research"),[o,c]=p.useState(null),[d,u]=p.useState(!0);p.useEffect(()=>{m()},[e]);const m=async()=>{try{const j=await(await fetch(Sr(`/api/groups/${e}`),{credentials:"include"})).json();c(j.group)}catch(b){console.error("Error fetching group:",b)}finally{u(!1)}};if(d)return r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})});if(!o)return r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Group not found"}),r.jsx(ne,{to:"/groups",className:"text-primary-600 hover:underline",children:"Back to groups"})]})});const f=[{id:1,title:"Climate adaptation strategies in coastal regions",authors:"Chen, S., et al.",journal:"Nature Climate Change",year:2024,doi:"10.1038/s41558-024-xxxxx",sdg_targets:["13.1","13.2"]},{id:2,title:"Carbon pricing mechanisms and policy effectiveness",authors:"Wilson, J., Rodriguez, M.",journal:"Science",year:2024,doi:"10.1126/science.xxxxx",sdg_targets:["13.1"]},{id:3,title:"Renewable energy transition pathways",authors:"Kim, L., et al.",journal:"Energy Policy",year:2024,doi:"10.1016/j.enpol.2024.xxxxx",sdg_targets:["13.2","13.3"]}],g=[{name:"Dr. Sarah Chen",institution:"Stanford University",joined:"2024-03-15"},{name:"Prof. James Wilson",institution:"Oxford University",joined:"2024-03-18"},{name:"Dr. Maria Rodriguez",institution:"ETH Zurich",joined:"2024-04-02"},{name:"Dr. Li Kim",institution:"Seoul National University",joined:"2024-04-15"}],x=[{id:1,title:"Best practices for tagging adaptation vs mitigation research",author:"Sarah Chen",replies:12,last_activity:"3 hours ago"},{id:2,title:"Coordinating submissions for upcoming IPCC synthesis",author:"James Wilson",replies:8,last_activity:"1 day ago"}],v=()=>{t||s("/login",{state:{from:`/groups/${e}`}})},w=()=>{t?s("/submit",{state:{groupId:e}}):s("/login",{state:{from:`/groups/${e}/contribute`}})};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("div",{className:"flex items-start justify-between mb-6",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-700",children:[o.is_private?"Private":"Public"," Group"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Created ",new Date(o.created_at).toLocaleDateString()]})]}),r.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl text-gray-900 mb-4 leading-tight font-semibold tracking-tight",children:o.name}),r.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-6 max-w-3xl",children:o.description}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-6",children:[r.jsxs("span",{children:[parseInt(o.member_count||0)," members"]}),r.jsxs("span",{children:["Created by ",o.first_name," ",o.last_name]}),o.institution&&r.jsx("span",{children:o.institution})]})]})}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{onClick:v,className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Join group"}),r.jsx("button",{onClick:w,className:"inline-flex items-center justify-center border-2 border-gray-300 text-gray-700 px-8 py-3 rounded-full text-base font-medium hover:border-gray-400 transition-all",children:"Contribute research"})]})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>i("research"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${a==="research"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Research Papers"}),r.jsx("button",{onClick:()=>i("members"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${a==="members"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Members"}),r.jsx("button",{onClick:()=>i("discussion"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${a==="discussion"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Discussion"}),r.jsx("button",{onClick:()=>i("about"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${a==="about"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"About"})]}),r.jsxs("div",{children:[a==="research"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Research Papers (",o.research_papers,")"]}),r.jsxs("button",{onClick:w,className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["Add research",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]})]}),f.map(b=>r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.title}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[b.authors,"  ",b.journal," (",b.year,")"]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("a",{href:`https://doi.org/${b.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#009edb] hover:text-[#0077b3]",children:["DOI: ",b.doi]}),r.jsx("div",{className:"flex gap-2",children:b.sdg_targets.map(j=>r.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["SDG ",j]},j))})]})]},b.id)),r.jsx("div",{className:"text-center pt-8",children:r.jsxs(ne,{to:`/search?group=${e}`,className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["View all research papers",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),a==="members"&&r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:["Members (",o.members,")"]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Group Administrators"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:o.admins.map((b,j)=>r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#009edb] rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-semibold text-lg",children:b.name.charAt(0)})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:b.name}),r.jsx("p",{className:"text-sm text-gray-600",children:b.institution})]})]})},j))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Members"}),r.jsx("div",{className:"space-y-3",children:g.map((b,j)=>r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-gray-600 font-semibold",children:b.name.charAt(0)})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:b.name}),r.jsx("p",{className:"text-sm text-gray-600",children:b.institution})]})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Joined ",new Date(b.joined).toLocaleDateString()]})]},j))})]}),r.jsx("div",{className:"text-center pt-8",children:r.jsxs("button",{className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["View all members",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),a==="discussion"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Discussion"}),r.jsx("button",{onClick:()=>{t||s("/login")},className:"inline-flex items-center bg-[#009edb] text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-[#0077b3] transition-all",children:"New discussion"})]}),r.jsx("div",{className:"space-y-3",children:x.map(b=>r.jsxs(ne,{to:`/groups/${e}/discussions/${b.id}`,className:"block bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all cursor-pointer",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:["Started by ",b.author]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[b.replies," replies"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Last activity ",b.last_activity]})]})]},b.id))}),x.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No discussions yet"}),r.jsx("button",{className:"inline-flex items-center bg-[#009edb] text-white px-6 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Start the first discussion"})]})]}),a==="about"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"About this group"}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:o.description})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Group Focus"}),r.jsxs("p",{className:"text-base text-gray-600 leading-relaxed",children:["This group focuses on ",o.framework||o.type," research and coordinates evidence-based contributions to policy frameworks. Members collaborate on research tagging, multi-author publications, and policy engagement."]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"How to Contribute"}),r.jsxs("ul",{className:"space-y-2 text-base text-gray-600",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#009edb] mt-1",children:""}),r.jsx("span",{children:"Tag your research papers with relevant policy framework connections"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#009edb] mt-1",children:""}),r.jsx("span",{children:"Participate in discussions about methodology and policy alignment"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#009edb] mt-1",children:""}),r.jsx("span",{children:"Collaborate on coordinated submissions to policy processes"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#009edb] mt-1",children:""}),r.jsx("span",{children:"Share updates on relevant policy developments and evidence needs"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Group Guidelines"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"This is a collaborative space for researchers. All members are expected to maintain professional standards, respect diverse perspectives, and contribute constructively to policy-science connections."})]})]})]})]})]})}),!o.is_member&&r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-6 font-semibold",children:"Join this research group"}),r.jsxs("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed max-w-2xl mx-auto",children:["Connect with ",o.members," researchers working on ",o.name.toLowerCase()," and contribute to collective policy impact"]}),r.jsx("button",{onClick:v,className:"inline-flex items-center justify-center bg-[#009edb] text-white px-10 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all shadow-lg hover:shadow-xl",children:"Join group"})]})})]})}function foe(){const{user:e}=Ot(),t=Yt(),[n,s]=p.useState(!1),[a,i]=p.useState(""),[o,c]=p.useState({name:"",description:"",is_private:!1}),d=async m=>{m.preventDefault(),i(""),s(!0);try{const f=await fetch(Sr("/api/groups"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)});if(!f.ok){const x=await f.json();throw new Error(x.error||"Failed to create group")}const g=await f.json();t(`/groups/${g.group.id}`)}catch(f){i(f.message),s(!1)}},u=m=>{const{name:f,value:g,type:x,checked:v}=m.target;c(w=>({...w,[f]:x==="checkbox"?v:g}))};return e?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-purple-500 rounded-xl flex items-center justify-center",children:r.jsx(Qn,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create a Research Group"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Connect with other researchers"})]})]}),r.jsx("button",{onClick:()=>t("/groups"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-600"})})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[a&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(fb,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error creating group"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:a})]})]}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-900 mb-2",children:["Group Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"name",name:"name",required:!0,maxLength:100,value:o.name,onChange:u,placeholder:"e.g., Antarctic Marine Conservation Network",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a descriptive name that represents your research focus"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-900 mb-2",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{id:"description",name:"description",required:!0,rows:6,value:o.description,onChange:u,placeholder:"Describe the purpose of this group, research interests, and what members can expect...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Provide details about the group's focus and collaboration goals"})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{type:"checkbox",id:"is_private",name:"is_private",checked:o.is_private,onChange:u,className:"mt-1 w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"is_private",className:"block text-sm font-medium text-gray-900 cursor-pointer",children:"Make this group private"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.is_private?r.jsx(r.Fragment,{children:"Only invited members can see and join this group. You'll need to manually approve membership requests."}):r.jsx(r.Fragment,{children:"Anyone can discover and join this group. This is recommended for open collaboration."})})]})]})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(Ae,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"What happens after creation?"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[r.jsx("li",{children:"You'll become the group admin"}),r.jsx("li",{children:"You can invite other researchers to join"}),r.jsx("li",{children:"Members can share papers and collaborate on research"}),r.jsx("li",{children:"You can edit group settings anytime"})]})]})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>t("/groups"),disabled:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating...":"Create Group"})]})]})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[r.jsx(fb,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Required"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to create a group."}),r.jsx("button",{onClick:()=>t("/login",{state:{from:"/groups/create"}}),className:"w-full bg-primary-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Go to Login"})]})})}function poe(){const{groupId:e,discussionId:t}=ul(),{isAuthenticated:n,user:s}=Ot(),a=Yt(),[i,o]=p.useState(""),c={title:"Best practices for tagging adaptation vs mitigation research",author:"Sarah Chen",author_institution:"Stanford University",created:"2024-10-15T10:30:00",content:`I've noticed some inconsistency in how we're tagging climate research as either "adaptation" or "mitigation" when connecting to SDG 13 targets. Some papers clearly fall into both categories.

What are your thoughts on best practices here? Should we:
1. Allow dual tagging for papers that address both?
2. Create a separate "adaptation + mitigation" category?
3. Tag based on the primary focus only?

Would love to hear how others are approaching this, especially for policy briefs that need clear categorization.`,replies:12},d={name:"SDG 13: Climate Action"},u=[{id:1,author:"James Wilson",author_institution:"Oxford University",created:"2024-10-15T14:20:00",content:"Great question Sarah. I think dual tagging makes the most sense. Many nature-based solutions, for example, provide both adaptation benefits (coastal protection) and mitigation (carbon sequestration). Policy makers need to see both connections."},{id:2,author:"Maria Rodriguez",author_institution:"ETH Zurich",created:"2024-10-15T16:45:00",content:"I agree with James. The IPCC itself recognizes significant overlap between adaptation and mitigation. We should reflect that in our tagging. However, I do think we should indicate which is the PRIMARY focus in the metadata."},{id:3,author:"Li Kim",author_institution:"Seoul National University",created:"2024-10-16T09:15:00",content:"From a policy perspective, dual tagging is definitely valuable. When we're preparing national reports for SDG 13, we often need to show both adaptation and mitigation contributions. Having research tagged with both makes our evidence gathering much easier."}],m=()=>{if(!n){a("/login",{state:{from:`/groups/${e}/discussions/${t}`}});return}i.trim()&&o("")};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-6 px-4 border-b border-gray-200 bg-gray-50",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(ne,{to:"/groups",className:"hover:text-[#009edb]",children:"Groups"}),r.jsx("span",{children:""}),r.jsx(ne,{to:`/groups/${e}`,className:"hover:text-[#009edb]",children:d.name}),r.jsx("span",{children:""}),r.jsx("span",{className:"text-gray-900",children:"Discussion"})]})})}),r.jsx("section",{className:"py-12 px-4 bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl text-gray-900 mb-4 font-semibold leading-tight",children:c.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-[#009edb] rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:c.author.charAt(0)})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:c.author}),r.jsx("span",{className:"mx-1",children:""}),r.jsx("span",{children:c.author_institution})]})]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(c.created).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),r.jsx("span",{children:""}),r.jsxs("span",{children:[c.replies," replies"]})]})]})}),r.jsx("section",{className:"py-8 px-4 bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"prose prose-lg max-w-none",children:r.jsx("p",{className:"text-base text-gray-700 leading-relaxed whitespace-pre-line",children:c.content})})})}),r.jsx("section",{className:"py-8 px-4 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Replies (",u.length,")"]}),r.jsx("div",{className:"space-y-6",children:u.map(f=>r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-gray-600 font-semibold",children:f.author.charAt(0)})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:f.author}),r.jsx("span",{className:"text-sm text-gray-500",children:""}),r.jsx("span",{className:"text-sm text-gray-600",children:f.author_institution})]}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(f.created).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})})]})]}),r.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:f.content})]},f.id))})]})}),r.jsx("section",{className:"py-8 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add your reply"}),n?r.jsxs("div",{children:[r.jsx("textarea",{value:i,onChange:f=>o(f.target.value),placeholder:"Share your thoughts on this discussion...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-[#009edb] focus:outline-none transition-all resize-none"}),r.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[r.jsx("button",{onClick:()=>o(""),className:"px-6 py-2 text-gray-700 border border-gray-300 rounded-full hover:border-gray-400 transition-all",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:!i.trim(),className:"px-6 py-2 bg-[#009edb] text-white rounded-full hover:bg-[#0077b3] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Post reply"})]})]}):r.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-8 text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Sign in to join this discussion"}),r.jsx("button",{onClick:()=>a("/login",{state:{from:`/groups/${e}/discussions/${t}`}}),className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Sign in"})]})]})}),r.jsx("section",{className:"py-8 px-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsxs(ne,{to:`/groups/${e}`,className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to ",d.name]})})})]})}function goe(){const[e,t]=p.useState("activity"),{isAuthenticated:n,user:s}=Ot();Yt();const a=[],i=[],o=[],c=[];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Community Hub"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Connect with researchers, join collaborative groups, and contribute to policy-science infrastructure"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs(ne,{to:"/groups",className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all group",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-[#009edb] transition-colors",children:"Browse Research Groups"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Join collaborative communities organized around frameworks, regions, and themes"}),r.jsxs("span",{className:"inline-flex items-center text-[#009edb] font-medium",children:["Explore groups",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),r.jsxs(ne,{to:"/submit",className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all group",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-[#009edb] transition-colors",children:"Contribute Research"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Add your research to the database and connect it to policy frameworks"}),r.jsxs("span",{className:"inline-flex items-center text-[#009edb] font-medium",children:["Submit research",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),r.jsxs(ne,{to:"/news",className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all group",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-[#009edb] transition-colors",children:"Events & News"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Stay updated on platform developments and upcoming community events"}),r.jsxs("span",{className:"inline-flex items-center text-[#009edb] font-medium",children:["View updates",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("activity"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="activity"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Recent Activity"}),r.jsx("button",{onClick:()=>t("groups"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="groups"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Featured Groups"}),r.jsx("button",{onClick:()=>t("trending"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="trending"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Trending Topics"})]}),r.jsxs("div",{children:[e==="activity"&&r.jsx("div",{className:"space-y-3",children:a.length>0?a.map((d,u)=>r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-gray-600 font-semibold text-sm",children:d.user.charAt(0)})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-base text-gray-900",children:[r.jsx("span",{className:"font-semibold",children:d.user})," ",d.action," ",d.targetType==="group"?r.jsx(ne,{to:`/groups/${d.targetId}`,className:"text-[#009edb] hover:text-[#0077b3] font-medium",children:d.target}):r.jsx("span",{className:"font-medium",children:d.target})]}),r.jsx("span",{className:"text-sm text-gray-500",children:d.time})]})]})},u)):r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No activity yet - Check back soon"})})}),e==="groups"&&r.jsx("div",{className:"space-y-4",children:i.length>0?i.map(d=>r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:d.name}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${d.type==="framework"?"bg-blue-100 text-blue-700":d.type==="geographic"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:d.type==="framework"?"Framework":d.type==="geographic"?"Geographic":"Theme"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("span",{children:[d.members," members"]}),r.jsx("span",{className:"text-green-600",children:d.activity})]})]}),r.jsxs(ne,{to:`/groups/${d.id}`,className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["View group",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},d.id)):r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No featured groups yet - Check back soon"})})}),e==="trending"&&r.jsx("div",{className:"space-y-3",children:o.length>0?o.map((d,u)=>r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:d.topic}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[r.jsxs("span",{children:[d.papers," research papers"]}),r.jsxs("span",{children:[d.discussions," discussions"]})]})]}),r.jsxs(ne,{to:`/search?q=${encodeURIComponent(d.topic)}`,className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["Explore",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},u)):r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No trending topics yet - Check back soon"})})})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold",children:"Upcoming Events"}),r.jsxs(ne,{to:"/news",className:"inline-flex items-center text-[#009edb] hover:text-[#0077b3] font-medium",children:["View all events",r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c.length>0?c.map((d,u)=>r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full mb-3",children:d.type}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:d.title}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{children:new Date(d.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),r.jsx("span",{children:""}),r.jsx("span",{children:d.time})]})]},u)):r.jsx("div",{className:"col-span-2 bg-white rounded-xl border border-gray-200 p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No upcoming events yet - Check back soon"})})})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-12 font-semibold text-center",children:"Growing together"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-semibold text-gray-900 mb-2",children:"Building"}),r.jsx("p",{className:"text-gray-600",children:"Research groups active"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-semibold text-gray-900 mb-2",children:"Growing"}),r.jsx("p",{className:"text-gray-600",children:"Community discussions"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-semibold text-gray-900 mb-2",children:"Expanding"}),r.jsx("p",{className:"text-gray-600",children:"Policy connections"})]})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-6 font-semibold",children:"Join the community"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed max-w-2xl mx-auto",children:"Create your profile and start connecting research to policy frameworks"}),n?r.jsx(ne,{to:"/groups",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-10 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all shadow-lg hover:shadow-xl",children:"Browse groups"}):r.jsx(ne,{to:"/register",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-10 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all shadow-lg hover:shadow-xl",children:"Get started"})]})})]})}function xoe(){const[e,t]=p.useState("upcoming"),[n,s]=p.useState(!1),a=i=>{i.preventDefault(),s(!0),setTimeout(()=>s(!1),3e3)};return r.jsxs("div",{className:"min-h-screen bg-white",children:[n&&r.jsx("div",{className:"fixed top-4 right-4 z-50 animate-fade-in",children:r.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded-lg shadow-lg",children:[r.jsx("p",{className:"font-medium",children:"Coming Soon!"}),r.jsx("p",{className:"text-sm",children:"Event registration will be available in the next release."})]})}),r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Events & Webinars"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Community workshops, webinars, and collaborative sessions for researchers and policymakers"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("upcoming"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="upcoming"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Upcoming Events"}),r.jsx("button",{onClick:()=>t("past"),className:`px-6 py-3 text-base font-medium transition-all border-b-2 ${e==="past"?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Past Events"})]}),r.jsxs("div",{children:[e==="upcoming"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No upcoming events scheduled"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back soon for webinars, workshops, and community calls"})]})}),e==="past"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No past events"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Event recordings will appear here after they conclude"})]})})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 mb-12 font-semibold",children:"Types of events"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Webinars"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Educational sessions on using COMPASS ID, tagging research, and connecting to policy frameworks"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Workshops"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Hands-on technical sessions for API integration, data management, and institutional implementation"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Community Calls"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Monthly open discussions about platform development, feature requests, and community feedback"})]})]})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-white rounded-2xl p-8 md:p-12 border border-blue-100",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Never miss an event"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Subscribe to event notifications and get reminders for upcoming webinars and workshops"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-xl mx-auto",children:[r.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-6 py-3 text-base border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("button",{onClick:a,className:"bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all whitespace-nowrap",children:"Subscribe"})]})]})})})})]})}function yoe(){var le;const e=Yt(),t=ml(),{data:n}=kr({queryKey:["profile"],queryFn:()=>ei.getProfile().then($=>$.data)}),[s,a]=p.useState({first_name:"",last_name:"",institution:"",bio:"",position:"",department:"",location:"",website:"",orcid_id:"",google_scholar_url:"",research_interests:[],avatar_url:"",employment:[],education:[]}),[i,o]=p.useState(!1),[c,d]=p.useState(null),[u,m]=p.useState(null),[f,g]=p.useState(!1),[x,v]=p.useState({past:[],upcoming:[]}),[w,b]=p.useState(!1),[j,S]=p.useState(null),[_,k]=p.useState({title:"",description:"",event_type:"conference",event_date:"",end_date:"",timezone:"UTC",location_type:"virtual",location_name:"",location_address:"",event_link:"",registration_link:"",presenter_role:"speaker",materials:[],is_public:!0});p.useEffect(()=>{n!=null&&n.user&&a({first_name:n.user.first_name||"",last_name:n.user.last_name||"",institution:n.user.institution||"",bio:n.user.bio||"",position:n.user.position||"",department:n.user.department||"",location:n.user.location||"",website:n.user.website||"",orcid_id:n.user.orcid_id||"",google_scholar_url:n.user.google_scholar_url||"",research_interests:n.user.research_interests||[],avatar_url:n.user.avatar_url||"",employment:n.user.employment||[],education:n.user.education||[]})},[n]),p.useEffect(()=>{(async()=>{var ae;if((ae=n==null?void 0:n.user)!=null&&ae.id)try{const G=await sd(n.user.id,!0);v(G)}catch(G){console.error("Failed to load events:",G)}})()},[n]);const A=p.useMemo(()=>{if(!(n!=null&&n.user))return!1;const $={first_name:n.user.first_name||"",last_name:n.user.last_name||"",institution:n.user.institution||"",bio:n.user.bio||"",position:n.user.position||"",department:n.user.department||"",location:n.user.location||"",website:n.user.website||"",orcid_id:n.user.orcid_id||"",google_scholar_url:n.user.google_scholar_url||"",research_interests:n.user.research_interests||[],avatar_url:n.user.avatar_url||"",employment:n.user.employment||[],education:n.user.education||[]};return JSON.stringify(s)!==JSON.stringify($)},[s,n]),P=Ti({mutationFn:$=>ei.updateProfile($),onSuccess:()=>{var $;t.invalidateQueries({queryKey:["profile"]}),($=n==null?void 0:n.user)!=null&&$.compass_id&&t.invalidateQueries({queryKey:["researcher",n.user.compass_id]}),o(!0),setTimeout(()=>o(!1),3e3)},onError:$=>{var ae,G;console.error("Profile update failed:",$),alert(`Failed to update profile: ${((G=(ae=$.response)==null?void 0:ae.data)==null?void 0:G.message)||$.message}`)}}),E=$=>{$.preventDefault(),console.log(" Profile update submitted",s),P.mutate(s)},T=$=>{const ae=$.target.files[0];if(ae){if(!ae.type.startsWith("image/")){alert("Please select an image file for your profile pic");return}if(ae.size>5*1024*1024){alert("Profile pic must be smaller than 5MB");return}d(ae);const G=new FileReader;G.onloadend=()=>{m(G.result)},G.readAsDataURL(ae)}},M=async()=>{if(c){g(!0);try{const $=new FormData;$.append("avatar",c);const ae=await fetch("http://localhost:3001/api/auth/upload-avatar",{method:"POST",credentials:"include",body:$}),G=await ae.json();if(!ae.ok)throw new Error(G.error||"Upload failed");a(ie=>({...ie,avatar_url:G.avatarUrl})),d(null),m(null),t.invalidateQueries({queryKey:["profile"]}),alert("Profile pic uploaded successfully!")}catch($){console.error("Profile pic upload error:",$),alert(`Failed to upload profile pic: ${$.message}`)}finally{g(!1)}}},U=async()=>{try{await vie(_);const $=await sd(n.user.id,!0);v($),k({title:"",description:"",event_type:"conference",event_date:"",end_date:"",timezone:"UTC",location_type:"virtual",location_name:"",location_address:"",event_link:"",registration_link:"",presenter_role:"speaker",materials:[],is_public:!0}),b(!1),S(null)}catch($){console.error("Failed to create event:",$),alert("Failed to create event. Please try again.")}},D=async()=>{try{await bie(j,_);const $=await sd(n.user.id,!0);v($),k({title:"",description:"",event_type:"conference",event_date:"",end_date:"",timezone:"UTC",location_type:"virtual",location_name:"",location_address:"",event_link:"",registration_link:"",presenter_role:"speaker",materials:[],is_public:!0}),b(!1),S(null)}catch($){console.error("Failed to update event:",$),alert("Failed to update event. Please try again.")}},B=async $=>{if(confirm("Are you sure you want to delete this event?"))try{await wie($);const ae=await sd(n.user.id,!0);v(ae)}catch(ae){console.error("Failed to delete event:",ae),alert("Failed to delete event. Please try again.")}},z=$=>{S($.id),k({title:$.title||"",description:$.description||"",event_type:$.event_type||"conference",event_date:$.event_date?$.event_date.slice(0,16):"",end_date:$.end_date?$.end_date.slice(0,16):"",timezone:$.timezone||"UTC",location_type:$.location_type||"virtual",location_name:$.location_name||"",location_address:$.location_address||"",event_link:$.event_link||"",registration_link:$.registration_link||"",presenter_role:$.presenter_role||"speaker",materials:$.materials||[],is_public:$.is_public!==!1}),b(!0)},X=()=>{b(!1),S(null),k({title:"",description:"",event_type:"conference",event_date:"",end_date:"",timezone:"UTC",location_type:"virtual",location_name:"",location_address:"",event_link:"",registration_link:"",presenter_role:"speaker",materials:[],is_public:!0})};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[r.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Yi,{className:"w-5 h-5"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Profile"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Update your profile information to increase your visibility"})]})}),r.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12",children:r.jsxs("form",{onSubmit:E,className:"space-y-8",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Your COMPASS ID"}),r.jsx("div",{className:"font-mono text-lg font-semibold text-gray-900 mb-2",children:((le=n==null?void 0:n.user)==null?void 0:le.compass_id)||"Loading..."}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your COMPASS ID is permanent and cannot be changed. Share this with collaborators and on your publications."})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Picture"}),r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:u||s.avatar_url||"https://via.placeholder.com/100",alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-200"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",id:"avatar-upload",accept:"image/*",onChange:T,className:"hidden"}),r.jsx("label",{htmlFor:"avatar-upload",className:"inline-block px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:"Choose Photo"}),c&&r.jsx("button",{type:"button",onClick:M,disabled:f,className:"ml-3 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:f?"Uploading...":"Upload"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a photo for your profile picture. Max size: 5MB. Formats: JPG, PNG, GIF, WebP"}),c&&r.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Selected: ",c.name]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),r.jsx("input",{type:"text",value:s.first_name,onChange:$=>a({...s,first_name:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),r.jsx("input",{type:"text",value:s.last_name,onChange:$=>a({...s,last_name:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors",required:!0})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Institution / Organization"}),r.jsx("input",{type:"text",value:s.institution,onChange:$=>a({...s,institution:$.target.value}),placeholder:"e.g., Marine Research Institute",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Position"}),r.jsx("input",{type:"text",value:s.position,onChange:$=>a({...s,position:$.target.value}),placeholder:"e.g., Senior Research Scientist",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),r.jsx("input",{type:"text",value:s.department,onChange:$=>a({...s,department:$.target.value}),placeholder:"e.g., Marine Biology Department",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),r.jsx("input",{type:"text",value:s.location,onChange:$=>a({...s,location:$.target.value}),placeholder:"e.g., San Diego, CA",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biography"}),r.jsx("textarea",{value:s.bio,onChange:$=>a({...s,bio:$.target.value}),rows:"6",placeholder:"Tell us about your research interests and expertise...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors resize-none"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will appear on your public profile"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"External Links"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website / Personal Page"}),r.jsx("input",{type:"url",value:s.website,onChange:$=>a({...s,website:$.target.value}),placeholder:"https://example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ORCID iD (Optional)"}),r.jsx("input",{type:"text",value:s.orcid_id,onChange:$=>a({...s,orcid_id:$.target.value}),placeholder:"0000-0001-2345-6789",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors font-mono"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Link your ORCID profile (format: 0000-0001-2345-6789)"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Scholar URL (Optional)"}),r.jsx("input",{type:"url",value:s.google_scholar_url,onChange:$=>a({...s,google_scholar_url:$.target.value}),placeholder:"https://scholar.google.com/citations?user=...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Link to your Google Scholar profile"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Research Interests"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Interests (comma-separated)"}),r.jsx("textarea",{value:Array.isArray(s.research_interests)?s.research_interests.join(", "):"",onChange:$=>a({...s,research_interests:$.target.value.split(",").map(ae=>ae.trim()).filter(Boolean)}),rows:"3",placeholder:"e.g., Marine Conservation, Climate Change, Ecosystem Modeling",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors resize-none"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter your research interests separated by commas"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Employment History"}),r.jsxs("div",{className:"space-y-4",children:[s.employment.map(($,ae)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title *"}),r.jsx("input",{type:"text",value:$.title||"",onChange:G=>{const ie=[...s.employment];ie[ae].title=G.target.value,a({...s,employment:ie})},placeholder:"e.g., Senior Research Scientist",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Institution *"}),r.jsx("input",{type:"text",value:$.institution||"",onChange:G=>{const ie=[...s.employment];ie[ae].institution=G.target.value,a({...s,employment:ie})},placeholder:"e.g., Marine Research Institute",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),r.jsx("input",{type:"text",value:$.department||"",onChange:G=>{const ie=[...s.employment];ie[ae].department=G.target.value,a({...s,employment:ie})},placeholder:"e.g., Marine Biology Department",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),r.jsx("input",{type:"text",value:$.startDate||"",onChange:G=>{const ie=[...s.employment];ie[ae].startDate=G.target.value,a({...s,employment:ie})},placeholder:"e.g., January 2020",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"text",value:$.endDate||"",onChange:G=>{const ie=[...s.employment];ie[ae].endDate=G.target.value,a({...s,employment:ie})},placeholder:"e.g., December 2023",disabled:$.current,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors disabled:bg-gray-100"})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:$.current||!1,onChange:G=>{const ie=[...s.employment];ie[ae].current=G.target.checked,G.target.checked&&(ie[ae].endDate=""),a({...s,employment:ie})},className:"rounded"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Position"})]})})]}),r.jsx("button",{type:"button",onClick:()=>{const G=s.employment.filter((ie,ce)=>ce!==ae);a({...s,employment:G})},className:"mt-4 px-4 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Remove"})]},ae)),r.jsx("button",{type:"button",onClick:()=>{a({...s,employment:[...s.employment,{title:"",institution:"",department:"",startDate:"",endDate:"",current:!1}]})},className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-primary-500 hover:text-primary-600 transition-colors",children:"+ Add Employment"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Education"}),r.jsxs("div",{className:"space-y-4",children:[s.education.map(($,ae)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Degree *"}),r.jsx("input",{type:"text",value:$.degree||"",onChange:G=>{const ie=[...s.education];ie[ae].degree=G.target.value,a({...s,education:ie})},placeholder:"e.g., Ph.D. in Marine Biology",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Institution *"}),r.jsx("input",{type:"text",value:$.institution||"",onChange:G=>{const ie=[...s.education];ie[ae].institution=G.target.value,a({...s,education:ie})},placeholder:"e.g., University of California",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),r.jsx("input",{type:"text",value:$.year||"",onChange:G=>{const ie=[...s.education];ie[ae].year=G.target.value,a({...s,education:ie})},placeholder:"e.g., 2015",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thesis (Optional)"}),r.jsx("input",{type:"text",value:$.thesis||"",onChange:G=>{const ie=[...s.education];ie[ae].thesis=G.target.value,a({...s,education:ie})},placeholder:"Thesis title...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]})]}),r.jsx("button",{type:"button",onClick:()=>{const G=s.education.filter((ie,ce)=>ce!==ae);a({...s,education:G})},className:"mt-4 px-4 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Remove"})]},ae)),r.jsx("button",{type:"button",onClick:()=>{a({...s,education:[...s.education,{degree:"",institution:"",year:"",thesis:""}]})},className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-primary-500 hover:text-primary-600 transition-colors",children:"+ Add Education"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Events & Presentations"}),r.jsxs("button",{type:"button",onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[r.jsx(sa,{className:"w-5 h-5"}),"Add Event"]})]}),w&&r.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:j?"Edit Event":"New Event"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),r.jsx("input",{type:"text",value:_.title,onChange:$=>k({..._,title:$.target.value}),placeholder:"e.g., International Conservation Biology Conference 2024",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),r.jsxs("select",{value:_.event_type,onChange:$=>k({..._,event_type:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors",children:[r.jsx("option",{value:"conference",children:"Conference"}),r.jsx("option",{value:"workshop",children:"Workshop"}),r.jsx("option",{value:"webinar",children:"Webinar"}),r.jsx("option",{value:"seminar",children:"Seminar"}),r.jsx("option",{value:"talk",children:"Talk"}),r.jsx("option",{value:"poster",children:"Poster Presentation"}),r.jsx("option",{value:"panel",children:"Panel Discussion"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Role *"}),r.jsxs("select",{value:_.presenter_role,onChange:$=>k({..._,presenter_role:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors",children:[r.jsx("option",{value:"keynote",children:"Keynote Speaker"}),r.jsx("option",{value:"speaker",children:"Speaker"}),r.jsx("option",{value:"panelist",children:"Panelist"}),r.jsx("option",{value:"poster presenter",children:"Poster Presenter"}),r.jsx("option",{value:"attendee",children:"Attendee"}),r.jsx("option",{value:"organizer",children:"Organizer"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Jr,{className:"w-4 h-4 inline mr-1"}),"Start Date & Time *"]}),r.jsx("input",{type:"datetime-local",value:_.event_date,onChange:$=>k({..._,event_date:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Jr,{className:"w-4 h-4 inline mr-1"}),"End Date & Time"]}),r.jsx("input",{type:"datetime-local",value:_.end_date,onChange:$=>k({..._,end_date:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Wt,{className:"w-4 h-4 inline mr-1"}),"Location Type"]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",value:"virtual",checked:_.location_type==="virtual",onChange:$=>k({..._,location_type:$.target.value}),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Virtual"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",value:"physical",checked:_.location_type==="physical",onChange:$=>k({..._,location_type:$.target.value}),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"In-Person"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",value:"hybrid",checked:_.location_type==="hybrid",onChange:$=>k({..._,location_type:$.target.value}),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Hybrid"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue / Platform"}),r.jsx("input",{type:"text",value:_.location_name,onChange:$=>k({..._,location_name:$.target.value}),placeholder:"e.g., Zoom, Convention Center",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address (if physical)"}),r.jsx("input",{type:"text",value:_.location_address,onChange:$=>k({..._,location_address:$.target.value}),placeholder:"e.g., Singapore",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ma,{className:"w-4 h-4 inline mr-1"}),"Event Link (Zoom, Teams, etc.)"]}),r.jsx("input",{type:"url",value:_.event_link,onChange:$=>k({..._,event_link:$.target.value}),placeholder:"https://zoom.us/j/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ma,{className:"w-4 h-4 inline mr-1"}),"Registration Link"]}),r.jsx("input",{type:"url",value:_.registration_link,onChange:$=>k({..._,registration_link:$.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:_.description,onChange:$=>k({..._,description:$.target.value}),rows:"3",placeholder:"Brief description of your presentation or participation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-colors resize-none"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[r.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Presentation Materials & Downloads"}),r.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Add slides, posters, recordings, or other materials. You can lock materials to make them private."}),_.materials.length>0&&r.jsx("div",{className:"space-y-2 mb-4",children:_.materials.map(($,ae)=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 text-sm",children:$.name||"Untitled"}),$.description&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:$.description}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[$.type&&r.jsx("span",{className:"text-xs text-gray-500 uppercase",children:$.type}),$.size&&r.jsx("span",{className:"text-xs text-gray-500",children:$.size}),$.isLocked&&r.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-700 rounded text-xs",children:"Locked"})]}),$.url&&r.jsx("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline mt-1 inline-block",children:$.url})]}),r.jsx("button",{type:"button",onClick:()=>{const G=_.materials.filter((ie,ce)=>ce!==ae);k({..._,materials:G})},className:"ml-4 p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove",children:r.jsx(Rs,{className:"w-4 h-4"})})]})},ae))}),r.jsxs("button",{type:"button",onClick:()=>{const $=prompt('Material name (e.g., "Presentation Slides"):');if(!$)return;const ae=prompt("Material URL:");if(!ae)return;const G=prompt("File type (e.g., pdf, pptx, mp4):")||"",ie=prompt("File size (e.g., 2.5 MB):")||"",ce=prompt("Description (optional):")||"",I=confirm("Lock this material? (Only you can see locked materials)"),pe={name:$,url:ae,type:G,size:ie,description:ce,isLocked:I};k({..._,materials:[..._.materials,pe]})},className:"w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm text-gray-600 hover:border-primary-500 hover:text-primary-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx(sa,{className:"w-4 h-4"}),"Add Material"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_.is_public,onChange:$=>k({..._,is_public:$.target.checked}),className:"rounded"}),r.jsx(cr,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Make this event public"})]}),r.jsx("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:"Public events will be visible on your profile page"})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:j?D:U,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:j?"Update Event":"Create Event"}),r.jsx("button",{type:"button",onClick:X,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[x.upcoming&&x.upcoming.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Upcoming Events"}),r.jsx("div",{className:"space-y-3",children:x.upcoming.map($=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-gray-900",children:$.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"w-4 h-4"}),new Date($.event_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:$.event_type}),r.jsx("span",{className:"text-xs text-gray-500",children:$.presenter_role}),!$.is_public&&r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:"Private"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsx("button",{type:"button",onClick:()=>z($),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(Ma,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>B($.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(Rs,{className:"w-4 h-4"})})]})]})},$.id))})]}),x.past&&x.past.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Past Events"}),r.jsx("div",{className:"space-y-3",children:x.past.map($=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-gray-700",children:$.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"w-4 h-4"}),new Date($.event_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),r.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded",children:$.event_type}),r.jsx("span",{className:"text-xs",children:$.presenter_role}),!$.is_public&&r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:"Private"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsx("button",{type:"button",onClick:()=>z($),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(Ma,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>B($.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(Rs,{className:"w-4 h-4"})})]})]})},$.id))})]}),(!x.upcoming||x.upcoming.length===0)&&(!x.past||x.past.length===0)&&!w&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Jr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No events added yet"}),r.jsx("button",{type:"button",onClick:()=>b(!0),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Add Your First Event"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("div",{className:"flex items-center gap-4",children:[i&&r.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium",children:[r.jsx(Ae,{className:"w-5 h-5"}),r.jsx("span",{children:"Saved!"})]}),r.jsx("button",{type:"submit",disabled:P.isPending||!A,className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:P.isPending?"Saving...":A?"Save Changes":"No Changes"})]})]})]})})]})}function voe(){const e=Yt(),t=[{id:"sdg13",name:"SDG 13: Climate Action",category:"SDG",selected:!0},{id:"sdg14",name:"SDG 14: Life Below Water",category:"SDG",selected:!0},{id:"sdg15",name:"SDG 15: Life on Land",category:"SDG",selected:!1},{id:"sdg2",name:"SDG 2: Zero Hunger",category:"SDG",selected:!1},{id:"sdg6",name:"SDG 6: Clean Water and Sanitation",category:"SDG",selected:!1},{id:"sdg7",name:"SDG 7: Affordable Clean Energy",category:"SDG",selected:!1},{id:"sdg11",name:"SDG 11: Sustainable Cities",category:"SDG",selected:!1},{id:"sdg12",name:"SDG 12: Responsible Consumption",category:"SDG",selected:!1},{id:"paris",name:"Paris Agreement",category:"Climate",selected:!0},{id:"ipcc",name:"IPCC Framework",category:"Climate",selected:!1},{id:"unfccc",name:"UNFCCC",category:"Climate",selected:!1},{id:"cbd",name:"CBD Post-2020 Framework",category:"Biodiversity",selected:!0},{id:"cites",name:"CITES",category:"Biodiversity",selected:!1},{id:"ramsar",name:"Ramsar Convention",category:"Biodiversity",selected:!1},{id:"ocean-decade",name:"UN Ocean Decade",category:"Ocean",selected:!1},{id:"high-seas",name:"High Seas Treaty",category:"Ocean",selected:!1}],[n,s]=p.useState(t),a=c=>{s(n.map(d=>d.id===c?{...d,selected:!d.selected}:d))},i=[...new Set(n.map(c=>c.category))],o=()=>{e("/dashboard")};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[r.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(Yi,{className:"w-5 h-5"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Policy Frameworks"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Select the frameworks that align with your research to improve discoverability"})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200 mb-8",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Why select frameworks?"}),r.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[r.jsx("li",{children:" Your research will be discoverable by policymakers working on these frameworks"}),r.jsx("li",{children:" You'll receive notifications about relevant grant opportunities"}),r.jsx("li",{children:" Your profile will be featured in framework-specific searches"})]})]}),r.jsx("div",{className:"space-y-8",children:i.map(c=>{const d=n.filter(u=>u.category===c);return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c}),r.jsx("div",{className:"space-y-2",children:d.map(u=>r.jsxs("button",{onClick:()=>a(u.id),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg border-2 transition-all ${u.selected?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[r.jsx("span",{className:`font-medium ${u.selected?"text-primary-900":"text-gray-700"}`,children:u.name}),u.selected&&r.jsx(Ae,{className:"w-6 h-6 text-primary-600"})]},u.id))})]},c)})}),r.jsxs("div",{className:"mt-8 bg-gray-50 rounded-xl p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Selected Frameworks"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.filter(c=>c.selected).length===0?r.jsx("p",{className:"text-sm text-gray-600",children:"No frameworks selected yet"}):n.filter(c=>c.selected).map(c=>r.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:c.name},c.id))})]}),r.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>e("/dashboard"),className:"px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:o,className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"Save Changes"})]})]})]})}var BM={exports:{}},boe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",woe=boe,joe=woe;function $M(){}function zM(){}zM.resetWarningCache=$M;var Noe=function(){function e(s,a,i,o,c,d){if(d!==joe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zM,resetWarningCache:$M};return n.PropTypes=n,n};BM.exports=Noe();var _oe=BM.exports;const er=bs(_oe);function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function n3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(s){UM(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xp=function(t){return typeof t}:xp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function UM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Soe(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function koe(e,t){if(e==null)return{};var n=Soe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function GM(e,t){return Coe(e)||Poe(e,t)||Aoe(e,t)||Eoe()}function Coe(e){if(Array.isArray(e))return e}function Poe(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var s=[],a=!0,i=!1,o,c;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(d){i=!0,c=d}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw c}}return s}}function Aoe(e,t){if(e){if(typeof e=="string")return s3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s3(e,t)}}function s3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gn=function(t,n,s){var a=!!s,i=tt.useRef(s);tt.useEffect(function(){i.current=s},[s]),tt.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,o),function(){t.off(n,o)}},[a,n,t,i])},gw=function(t){var n=tt.useRef(t);return tt.useEffect(function(){n.current=t},[t]),n.current},Hd=function(t){return t!==null&&xp(t)==="object"},Ooe=function(t){return Hd(t)&&typeof t.then=="function"},Toe=function(t){return Hd(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},a3="[object Object]",Loe=function e(t,n){if(!Hd(t)||!Hd(n))return t===n;var s=Array.isArray(t),a=Array.isArray(n);if(s!==a)return!1;var i=Object.prototype.toString.call(t)===a3,o=Object.prototype.toString.call(n)===a3;if(i!==o)return!1;if(!i&&!s)return t===n;var c=Object.keys(t),d=Object.keys(n);if(c.length!==d.length)return!1;for(var u={},m=0;m<c.length;m+=1)u[c[m]]=!0;for(var f=0;f<d.length;f+=1)u[d[f]]=!0;var g=Object.keys(u);if(g.length!==c.length)return!1;var x=t,v=n,w=function(j){return e(x[j],v[j])};return g.every(w)},WM=function(t,n,s){return Hd(t)?Object.keys(t).reduce(function(a,i){var o=!Hd(n)||!Loe(t[i],n[i]);return s.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?n3(n3({},a||{}),{},UM({},i,t[i])):a},null):null},HM="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",i3=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HM;if(t===null||Toe(t))return t;throw new Error(n)},Moe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HM;if(Ooe(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return i3(a,n)})};var s=i3(t,n);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},Doe=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},x0=tt.createContext(null);x0.displayName="ElementsContext";var qM=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},X2=function(t){var n=t.stripe,s=t.options,a=t.children,i=tt.useMemo(function(){return Moe(n)},[n]),o=tt.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(s):null}}),c=GM(o,2),d=c[0],u=c[1];tt.useEffect(function(){var g=!0,x=function(w){u(function(b){return b.stripe?b:{stripe:w,elements:w.elements(s)}})};return i.tag==="async"&&!d.stripe?i.stripePromise.then(function(v){v&&g&&x(v)}):i.tag==="sync"&&!d.stripe&&x(i.stripe),function(){g=!1}},[i,d,s]);var m=gw(n);tt.useEffect(function(){m!==null&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,n]);var f=gw(s);return tt.useEffect(function(){if(d.elements){var g=WM(s,f,["clientSecret","fonts"]);g&&d.elements.update(g)}},[s,f,d.elements]),tt.useEffect(function(){Doe(d.stripe)},[d.stripe]),tt.createElement(x0.Provider,{value:d},a)};X2.propTypes={stripe:er.any,options:er.object};var Roe=function(t){var n=tt.useContext(x0);return qM(n,t)},VM=function(){var t=Roe("calls useElements()"),n=t.elements;return n};er.func.isRequired;var KM=tt.createContext(null);KM.displayName="CheckoutContext";er.any,er.shape({clientSecret:er.oneOfType([er.string,er.instanceOf(Promise)]).isRequired,elementsOptions:er.object}).isRequired;var xw=function(t){var n=tt.useContext(KM),s=tt.useContext(x0);if(n){if(s)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return qM(s,t)},Ioe=["mode"],Foe=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},ws=function(t,n){var s="".concat(Foe(t),"Element"),a=function(d){var u=d.id,m=d.className,f=d.options,g=f===void 0?{}:f,x=d.onBlur,v=d.onFocus,w=d.onReady,b=d.onChange,j=d.onEscape,S=d.onClick,_=d.onLoadError,k=d.onLoaderStart,A=d.onNetworksChange,P=d.onConfirm,E=d.onCancel,T=d.onShippingAddressChange,M=d.onShippingRateChange,U=d.onSavedPaymentMethodRemove,D=d.onSavedPaymentMethodUpdate,B=xw("mounts <".concat(s,">")),z="elements"in B?B.elements:null,X="checkoutState"in B?B.checkoutState:null,le=(X==null?void 0:X.type)==="success"||(X==null?void 0:X.type)==="loading"?X.sdk:null,$=tt.useState(null),ae=GM($,2),G=ae[0],ie=ae[1],ce=tt.useRef(null),I=tt.useRef(null);Gn(G,"blur",x),Gn(G,"focus",v),Gn(G,"escape",j),Gn(G,"click",S),Gn(G,"loaderror",_),Gn(G,"loaderstart",k),Gn(G,"networkschange",A),Gn(G,"confirm",P),Gn(G,"cancel",E),Gn(G,"shippingaddresschange",T),Gn(G,"shippingratechange",M),Gn(G,"savedpaymentmethodremove",U),Gn(G,"savedpaymentmethodupdate",D),Gn(G,"change",b);var pe;w&&(t==="expressCheckout"?pe=w:pe=function(){w(G)}),Gn(G,"ready",pe),tt.useLayoutEffect(function(){if(ce.current===null&&I.current!==null&&(z||le)){var xe=null;if(le)switch(t){case"payment":xe=le.createPaymentElement(g);break;case"address":if("mode"in g){var je=g.mode,Re=koe(g,Ioe);if(je==="shipping")xe=le.createShippingAddressElement(Re);else if(je==="billing")xe=le.createBillingAddressElement(Re);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":xe=le.createExpressCheckoutElement(g);break;case"currencySelector":xe=le.createCurrencySelectorElement();break;case"taxId":xe=le.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else z&&(xe=z.create(t,g));ce.current=xe,ie(xe),xe&&xe.mount(I.current)}},[z,le,g]);var Q=gw(g);return tt.useEffect(function(){if(ce.current){var xe=WM(g,Q,["paymentRequest"]);xe&&"update"in ce.current&&ce.current.update(xe)}},[g,Q]),tt.useLayoutEffect(function(){return function(){if(ce.current&&typeof ce.current.destroy=="function")try{ce.current.destroy(),ce.current=null}catch{}}},[]),tt.createElement("div",{id:u,className:m,ref:I})},i=function(d){xw("mounts <".concat(s,">"));var u=d.id,m=d.className;return tt.createElement("div",{id:u,className:m})},o=n?i:a;return o.propTypes={id:er.string,className:er.string,onChange:er.func,onBlur:er.func,onFocus:er.func,onReady:er.func,onEscape:er.func,onClick:er.func,onLoadError:er.func,onLoaderStart:er.func,onNetworksChange:er.func,onConfirm:er.func,onCancel:er.func,onShippingAddressChange:er.func,onShippingRateChange:er.func,onSavedPaymentMethodRemove:er.func,onSavedPaymentMethodUpdate:er.func,options:er.object},o.displayName=s,o.__elementType=t,o},js=typeof window>"u",Boe=tt.createContext(null);Boe.displayName="EmbeddedCheckoutProviderContext";var ZM=function(){var t=xw("calls useStripe()"),n=t.stripe;return n};ws("auBankAccount",js);var o3=ws("card",js);ws("cardNumber",js);ws("cardExpiry",js);ws("cardCvc",js);ws("iban",js);var $oe=ws("payment",js);ws("expressCheckout",js);ws("paymentRequestButton",js);ws("linkAuthentication",js);ws("address",js);ws("shippingAddress",js);ws("paymentMethodMessaging",js);ws("taxId",js);function zoe({planName:e,onSuccess:t,onCancel:n}){const s=ZM(),a=VM(),[i,o]=p.useState(null),[c,d]=p.useState(!1),u=async m=>{if(m.preventDefault(),!s||!a)return;d(!0),o(null);const{error:f}=await s.confirmPayment({elements:a,confirmParams:{return_url:`${window.location.origin}/settings?payment=success`}});f?(o(f.message),d(!1)):t==null||t()};return r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Upgrade to ",e]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enter your payment details to complete your subscription."})]}),r.jsx($oe,{}),i&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:i})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"submit",disabled:!s||c,className:"flex-1 bg-gradient-to-r from-primary-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-primary-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:c?"Processing...":"Subscribe Now"}),r.jsx("button",{type:"button",onClick:n,disabled:c,className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}function Uoe({isOpen:e,onClose:t,planName:n,clientSecret:s}){if(!e)return null;const a={clientSecret:s,appearance:{theme:"stripe",variables:{colorPrimary:"#2563eb",colorBackground:"#ffffff",colorText:"#1f2937",colorDanger:"#ef4444",fontFamily:"system-ui, sans-serif",borderRadius:"12px"}}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complete Your Subscription"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Rt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6",children:r.jsx(X2,{stripe:TM,options:a,children:r.jsx(zoe,{planName:n,onSuccess:()=>{setTimeout(()=>{t(),window.location.href="/settings?payment=success"},1e3)},onCancel:t})})})]})})}function Goe(){const{user:e}=Ot(),[t,n]=p.useState(!1),[s,a]=p.useState(null),[i,o]=p.useState(null),c=[{id:"small",name:"Small Pack",credits:100,price:10,pricePerCredit:.1,popular:!1},{id:"medium",name:"Medium Pack",credits:300,price:25,pricePerCredit:.083,popular:!0},{id:"large",name:"Large Pack",credits:1e3,price:75,pricePerCredit:.075,popular:!1}],d=async m=>{try{if(!e){alert("Please log in to purchase credits"),window.location.href="/login?redirect=/premium";return}a(m);const f=await J2(m.id,"one-time");if(f.url)window.location.href=f.url;else throw new Error("No checkout URL returned")}catch(f){console.error("Checkout error:",f),f.message.includes("Access token required")||f.message.includes("401")?(alert("Please log in to purchase credits. Redirecting to login page..."),window.location.href="/login?redirect=/premium"):alert(`Failed to start checkout: ${f.message}`)}},u=()=>{e?window.location.href="/":window.location.href="/register"};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Open Research Platform with Fair Use Limits"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto mb-8",children:"Start free, buy credits as needed"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border-2 border-green-200 p-8 md:p-12 shadow-lg",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-xl bg-green-100 text-green-600 mb-4",children:r.jsx(Ct,{className:"w-8 h-8"})}),r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"FREE"}),r.jsx("p",{className:"text-xl text-green-700 font-semibold",children:"Always Free"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ae,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-base text-gray-700",children:[r.jsx("strong",{children:"20"})," AI-powered searches/month"]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ae,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-base text-gray-700",children:[r.jsx("strong",{children:"5"})," research gap analyses/month"]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ae,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-base text-gray-700",children:[r.jsx("strong",{children:"3"})," grant writing assists/month"]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ae,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-base text-gray-700",children:[r.jsx("strong",{children:"10"})," literature syntheses/month"]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ae,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-base text-gray-700",children:[r.jsx("strong",{children:"Unlimited"})," basic search"]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ae,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-base text-gray-700",children:[r.jsx("strong",{children:"Unlimited"})," browse & save"]})]})]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:u,className:"bg-green-600 text-white px-12 py-4 rounded-full text-lg font-semibold hover:bg-green-700 transition-all shadow-md hover:shadow-lg",children:"Start Free"})})]})})}),r.jsx("section",{className:"py-12 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-3",children:"Buy More When You Need It"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Credits never expire and work across all AI features"})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:c.map(m=>r.jsxs("div",{className:`relative bg-white rounded-xl border transition-all ${m.popular?"border-[#009edb] shadow-lg":"border-gray-200 hover:border-[#009edb]"}`,children:[m.popular&&r.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:r.jsx("div",{className:"bg-[#009edb] text-white px-4 py-1 rounded-full text-xs font-semibold",children:"POPULAR"})}),r.jsxs("div",{className:"p-8",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center text-gray-900 mb-4",children:r.jsx(Kp,{className:"w-6 h-6"})}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:m.name}),r.jsxs("p",{className:"text-base text-gray-600 mb-6",children:[m.credits.toLocaleString()," credits"]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsxs("span",{className:"text-5xl font-bold text-gray-900",children:["$",m.price]}),r.jsx("span",{className:"text-gray-600 text-lg",children:"one-time"})]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["$",m.pricePerCredit.toFixed(3)," per credit"]})]}),r.jsx("button",{onClick:()=>d(m),className:`w-full py-3 px-6 rounded-full font-medium transition-all ${m.popular?"bg-[#009edb] text-white hover:bg-[#0077b3]":"bg-gray-900 text-white hover:bg-gray-800"}`,children:"Buy Credits"})]})]},m.id))})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-8",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-100 flex items-center justify-center text-gray-900 mb-4",children:r.jsx(ec,{className:"w-8 h-8"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-3xl font-semibold text-gray-900 mb-3",children:"Institutional Partnerships"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Custom solutions for universities and research organizations"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-x-8 gap-y-3 mb-8",children:["Custom usage limits for your institution","Bulk pricing for departments","Dedicated account management","Usage analytics & reporting","Single sign-on (SSO) integration","Priority support","Custom onboarding & training","Flexible billing options"].map((m,f)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-base text-gray-700",children:m})]},f))}),r.jsx("a",{href:"mailto:partnerships@compassid.org",className:"inline-flex items-center justify-center bg-gray-900 text-white px-8 py-3 rounded-full font-medium hover:bg-gray-800 transition-all",children:"Contact Us"})]})]})})})}),r.jsx("section",{className:"py-12 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-8 text-center",children:"Frequently Asked Questions"}),r.jsx("div",{className:"space-y-4",children:[{q:"How do credits work?",a:"Credits are used for AI-powered features like searches, gap analyses, grant writing, and literature syntheses. Each feature costs a certain number of credits. Free tier users get monthly credits that reset, while purchased credits never expire and can be used anytime."},{q:"What happens when I run out of credits?",a:"When you run out of free monthly credits, you can purchase a credit pack to continue using AI features. Basic features like search, browse, and save remain unlimited and always free. Your monthly free credits reset at the beginning of each month."},{q:"Can I get a refund?",a:"Yes, we offer refunds for unused credits within 30 days of purchase. If you're not satisfied with your credit purchase and haven't used the credits, contact us at support@compassid.org for a full refund."},{q:"What about institutional access?",a:"We offer custom institutional partnerships for universities and research organizations. These include higher usage limits, bulk pricing, dedicated support, and SSO integration. Contact us at partnerships@compassid.org to discuss your institution's needs."},{q:"Do purchased credits expire?",a:"No, purchased credits never expire. Once you buy a credit pack, those credits remain in your account until you use them. Only the monthly free tier credits reset each month."},{q:"What payment methods do you accept?",a:"We accept all major credit cards (Visa, Mastercard, Amex, Discover) through Stripe. Institutional partnerships can also pay via ACH transfer or invoice."},{q:"Is my research data private?",a:"Yes, absolutely. All data is encrypted in transit and at rest. Your research selections and AI conversations are private to your account. We never train AI models on your data or share it with third parties."},{q:"How many credits do different features use?",a:"AI-powered searches typically use 1 credit, research gap analyses use 3-5 credits, grant writing assistance uses 2-4 credits per session, and literature syntheses use 2 credits. The exact cost is shown before you use each feature."}].map((m,f)=>r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-lg",children:m.q}),r.jsx("p",{className:"text-base text-gray-600",children:m.a})]},f))})]})}),r.jsx("section",{className:"py-16 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-4",children:"Ready to accelerate your research?"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Start free today and only pay for what you need"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("button",{onClick:u,className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Start Free"}),r.jsx("a",{href:"mailto:support@compassid.org",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-3 rounded-full text-base font-medium border border-gray-300 hover:border-gray-400 transition-all",children:"Contact Support"})]})]})}),t&&i&&r.jsx(Uoe,{isOpen:t,onClose:()=>{n(!1),a(null),o(null)},planName:s==null?void 0:s.name,clientSecret:i})]})}function Woe(){var v;const{user:e}=Ot(),[t,n]=p.useState("gaps"),[s,a]=p.useState("all"),[i,o]=p.useState("all"),[c,d]=p.useState("5y"),u=(v=e==null?void 0:e.subscriptions)==null?void 0:v.some(w=>(w.type==="analytics"||w.type==="bundle")&&w.status==="active"),m=[{framework:"SDG 14: Life Below Water",region:"Indian Ocean Islands",targetArea:"Target 14.5: Coastal & Marine Conservation",currentResearch:12,expectedResearch:156,gapPercentage:92.3,fundingOpportunities:8,severity:"critical"},{framework:"CBD Target 3: 30x30 Protection",region:"Central Africa",targetArea:"Terrestrial Protected Areas",currentResearch:34,expectedResearch:189,gapPercentage:82,fundingOpportunities:12,severity:"critical"},{framework:"Paris Agreement",region:"Southeast Asia",targetArea:"Forest Carbon Sequestration",currentResearch:89,expectedResearch:234,gapPercentage:62,fundingOpportunities:15,severity:"high"},{framework:"SDG 15: Life on Land",region:"Arctic Region",targetArea:"Target 15.5: Biodiversity Loss",currentResearch:45,expectedResearch:98,gapPercentage:54.1,fundingOpportunities:6,severity:"high"},{framework:"Ramsar Convention",region:"Latin America",targetArea:"Wetland Conservation",currentResearch:67,expectedResearch:134,gapPercentage:50,fundingOpportunities:9,severity:"moderate"}],f=[{framework1:"SDG 14",framework2:"CBD Target 3",collaborations:234,institutions:89,growthRate:45.2,topInstitutions:["Stanford","Oxford","ANU"]},{framework1:"Paris Agreement",framework2:"SDG 13",collaborations:189,institutions:67,growthRate:38.7,topInstitutions:["MIT","ETH Zurich","Tsinghua"]},{framework1:"SDG 15",framework2:"CBD Target 3",collaborations:156,institutions:54,growthRate:22.1,topInstitutions:["Harvard","Cambridge","NUS"]}],g={topCited:[{title:"Global assessment of marine protected area effectiveness",authors:"Martinez et al.",citations:1247,citationVelocity:"+234/year",policyInfluence:8.9,frameworks:["SDG 14","CBD Target 3"]},{title:"Climate-smart agriculture in Sub-Saharan Africa",authors:"Chen et al.",citations:892,citationVelocity:"+189/year",policyInfluence:7.6,frameworks:["Paris Agreement","SDG 2"]},{title:"Biodiversity credits: A new conservation finance mechanism",authors:"Silva et al.",citations:756,citationVelocity:"+298/year",policyInfluence:9.2,frameworks:["CBD Target 3","SDG 15"]}],policyInfluence:[{framework:"CBD Target 3",citedInPolicy:234,nationalPlans:89,internationalAgreements:12},{framework:"Paris Agreement",citedInPolicy:189,nationalPlans:156,internationalAgreements:23}]},x=[{format:"CSV",description:"Download research data as spreadsheet",size:"Customizable",icon:r.jsx(Zp,{className:"w-6 h-6"})},{format:"Shapefile",description:"Geographic data for GIS analysis",size:"ZIP archive",icon:r.jsx(j$,{className:"w-6 h-6"})},{format:"JSON",description:"API response format for developers",size:"Compact",icon:r.jsx(fy,{className:"w-6 h-6"})},{format:"PDF Report",description:"Formatted analysis report with charts",size:"Ready to share",icon:r.jsx(Zp,{className:"w-6 h-6"})}];return u?r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Premium Analytics"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Advanced insights for accelerating conservation research"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Framework"}),r.jsxs("select",{value:s,onChange:w=>a(w.target.value),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all",children:[r.jsx("option",{value:"all",children:"All Frameworks"}),r.jsx("option",{value:"sdg14",children:"SDG 14: Life Below Water"}),r.jsx("option",{value:"cbd3",children:"CBD Target 3: 30x30"}),r.jsx("option",{value:"paris",children:"Paris Agreement"}),r.jsx("option",{value:"sdg15",children:"SDG 15: Life on Land"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),r.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all",children:[r.jsx("option",{value:"all",children:"Global"}),r.jsx("option",{value:"africa",children:"Africa"}),r.jsx("option",{value:"asia",children:"Asia"}),r.jsx("option",{value:"europe",children:"Europe"}),r.jsx("option",{value:"americas",children:"Americas"}),r.jsx("option",{value:"oceania",children:"Oceania"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),r.jsxs("select",{value:c,onChange:w=>d(w.target.value),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all",children:[r.jsx("option",{value:"1y",children:"Last Year"}),r.jsx("option",{value:"5y",children:"Last 5 Years"}),r.jsx("option",{value:"10y",children:"Last 10 Years"}),r.jsx("option",{value:"all",children:"All Time"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-900 text-white rounded-full hover:bg-gray-800 transition-all text-base font-medium",children:[r.jsx(Vp,{className:"w-4 h-4"}),"Refresh"]})]})]})]})}),r.jsx("section",{className:"px-4 border-b border-gray-200 bg-white",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsx("div",{className:"flex gap-2 border-b border-gray-200",children:[{id:"gaps",label:"Research Gaps",icon:r.jsx(en,{className:"w-4 h-4"})},{id:"networks",label:"Collaboration Networks",icon:r.jsx(IS,{className:"w-4 h-4"})},{id:"impact",label:"Impact Metrics",icon:r.jsx(hb,{className:"w-4 h-4"})},{id:"export",label:"Export Data",icon:r.jsx(fy,{className:"w-4 h-4"})}].map(w=>r.jsxs("button",{onClick:()=>n(w.id),className:`flex items-center gap-2 px-6 py-3 font-medium transition-all border-b-2 ${t===w.id?"border-[#009edb] text-[#009edb]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[w.icon,w.label]},w.id))})})}),r.jsx("section",{className:"py-12 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[t==="gaps"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-4",children:"Research Gap Analysis"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Identify underresearched areas with high funding potential. Gaps are calculated using AI-powered analysis of research distribution, policy priorities, and funding announcements."})]}),r.jsxs("div",{className:"flex gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Critical (>80%)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:"High (60-80%)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Moderate (40-60%)"})]})]}),r.jsx("div",{className:"space-y-6",children:m.map((w,b)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 hover:border-[#009edb] transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${w.severity==="critical"?"bg-red-500":w.severity==="high"?"bg-orange-500":"bg-yellow-500"}`}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:w.framework})]}),r.jsxs("div",{className:"flex items-center gap-4 text-base text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"w-4 h-4"}),w.region]}),r.jsx("div",{children:w.targetArea})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-4xl font-bold text-red-600",children:[w.gapPercentage,"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Research Gap"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Research"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w.currentResearch})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Expected Research"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w.expectedResearch})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Funding Opportunities"}),r.jsx("div",{className:"text-2xl font-bold text-[#009edb]",children:w.fundingOpportunities})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ne,{to:`/grants?framework=${w.framework}`,className:"flex-1 text-center px-6 py-3 bg-[#009edb] text-white rounded-full hover:bg-[#0077b3] transition-all font-medium",children:"View Funding"}),r.jsx(ne,{to:`/search?framework=${w.framework}&region=${w.region}`,className:"flex-1 text-center px-6 py-3 bg-white border border-gray-300 text-gray-900 rounded-full hover:border-gray-400 transition-all font-medium",children:"Search Research"})]})]},b))})]}),t==="networks"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-4",children:"Collaboration Networks"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Discover cross-framework collaborations and identify potential research partners working at the intersection of multiple policy frameworks."})]}),r.jsx("div",{className:"space-y-6",children:f.map((w,b)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 hover:border-[#009edb] transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-full text-sm font-medium",children:w.framework1}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-full text-sm font-medium",children:w.framework2})]}),r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-700 rounded-full text-sm font-medium",children:[r.jsx(um,{className:"w-4 h-4"}),"+",w.growthRate,"%"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Collaborations"}),r.jsx("div",{className:"text-4xl font-bold text-gray-900",children:w.collaborations})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Institutions Involved"}),r.jsx("div",{className:"text-4xl font-bold text-gray-900",children:w.institutions})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Top Collaborating Institutions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:w.topInstitutions.map((j,S)=>r.jsx("span",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm",children:j},S))})]}),r.jsx("button",{className:"w-full px-6 py-3 bg-[#009edb] text-white rounded-full hover:bg-[#0077b3] transition-all font-medium",children:"View Network Visualization"})]},b))})]}),t==="impact"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-4",children:"Impact Metrics"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Track citation velocity, policy influence scores, and real-world impact of conservation research."})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"High-Impact Research"}),r.jsx("div",{className:"space-y-6",children:g.topCited.map((w,b)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 hover:border-[#009edb] transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:w.title}),r.jsx("p",{className:"text-base text-gray-600 mb-4",children:w.authors}),r.jsx("div",{className:"flex flex-wrap gap-2",children:w.frameworks.map((j,S)=>r.jsx("span",{className:"px-3 py-1 bg-green-50 border border-green-200 text-green-800 rounded-full text-xs font-medium",children:j},S))})]}),r.jsxs("div",{className:"text-right ml-6",children:[r.jsx("div",{className:"text-3xl font-bold text-[#009edb]",children:w.policyInfluence}),r.jsx("div",{className:"text-xs text-gray-600",children:"Policy Score"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Citations"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w.citations.toLocaleString()})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Citation Velocity"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:w.citationVelocity})]})]})]},b))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Policy Influence by Framework"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:g.policyInfluence.map((w,b)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8",children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-6",children:w.framework}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[r.jsx("span",{className:"text-base text-gray-600",children:"Cited in Policy Documents"}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:w.citedInPolicy})]}),r.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[r.jsx("span",{className:"text-base text-gray-600",children:"National Action Plans"}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:w.nationalPlans})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-base text-gray-600",children:"International Agreements"}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:w.internationalAgreements})]})]})]},b))})]})]}),t==="export"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-4",children:"Export Data"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Download research data in multiple formats for custom analysis, GIS mapping, or integration with your tools."})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:x.map((w,b)=>r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-8 hover:border-[#009edb] transition-all",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-gray-100 text-gray-900 rounded-xl",children:w.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:w.format}),r.jsx("p",{className:"text-base text-gray-600 mb-3",children:w.description}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["File size: ",w.size]}),r.jsxs("button",{className:"w-full px-6 py-3 bg-[#009edb] text-white rounded-full hover:bg-[#0077b3] transition-all font-medium",children:["Export ",w.format]})]})]})},b))}),r.jsxs("div",{className:"bg-gray-900 text-white rounded-xl p-8",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:r.jsx(Cr,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"API Access"}),r.jsx("p",{className:"text-gray-300 text-lg",children:"Integrate COMPASS ID data directly into your applications with our RESTful API."})]})]}),r.jsxs("div",{className:"bg-black/30 rounded-xl p-6 mb-6 font-mono text-sm",children:[r.jsx("div",{className:"text-gray-400 mb-2",children:"# Example API Request"}),r.jsx("div",{className:"text-green-400",children:"GET https://api.compassid.org/v1/research"}),r.jsx("div",{className:"text-blue-400 ml-4",children:"?framework=sdg14"}),r.jsx("div",{className:"text-blue-400 ml-4",children:"&region=southeast-asia"}),r.jsx("div",{className:"text-blue-400 ml-4",children:"&format=json"})]}),r.jsxs(ne,{to:"/api-docs",className:"inline-flex items-center gap-2 px-8 py-3 bg-white text-gray-900 rounded-full hover:bg-gray-100 transition-all font-medium",children:["View API Documentation",r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[r.jsx(uo,{className:"w-4 h-4"}),"Premium Feature"]}),r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Advanced Analytics"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto mb-8",children:"Unlock powerful insights into research gaps, collaboration networks, and impact metrics to accelerate conservation science."}),r.jsx(ne,{to:"/premium",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Upgrade to Premium"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all",children:[r.jsx(en,{className:"w-12 h-12 text-gray-900 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Research Gap Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Identify underresearched areas by framework, region, and target"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all",children:[r.jsx(IS,{className:"w-12 h-12 text-gray-900 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Collaboration Networks"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Visualize cross-framework partnerships and find collaborators"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all",children:[r.jsx(hb,{className:"w-12 h-12 text-gray-900 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Impact Metrics"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Citation velocity, policy influence scores, and more"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:border-[#009edb] transition-all",children:[r.jsx(fy,{className:"w-12 h-12 text-gray-900 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Export & API"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Download data in multiple formats for custom analysis"})]})]})})}),r.jsx("section",{className:"py-16 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-4",children:"Start Your Free Trial"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-3xl mx-auto",children:"Get 14 days of Premium Analytics free. No credit card required."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(ne,{to:"/premium",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:"Start Free Trial"}),r.jsx(ne,{to:"/premium",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-3 rounded-full text-base font-medium border border-gray-300 hover:border-gray-400 transition-all",children:"View Pricing"})]})]})})]})}function Hoe(){const{user:e}=Ot(),t=Yt(),[n,s]=p.useState("research"),[a,i]=p.useState("all"),[o,c]=p.useState(new Set),[d,u]=p.useState(!1),m=p.useRef(null),[f,g]=p.useState(!1),[x,v]=p.useState(!1),[w,b]=p.useState(!1),[j,S]=p.useState(!1),[_,k]=p.useState({}),[A,P]=p.useState([]),[E,T]=p.useState(""),[M,U]=p.useState(!1),[D,B]=p.useState(null),[z,X]=p.useState("date"),[le,$]=p.useState(new Set),ae=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.subscription)==="premium"||(e==null?void 0:e.subscription_status)==="active",{data:G,isLoading:ie}=kr({queryKey:["saved-jobs"],queryFn:async()=>{const K=await fetch(Sr("/api/jobs/my/saved"),{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch saved jobs");return(await K.json()).saved_jobs||[]}}),{data:ce,isLoading:I}=kr({queryKey:["saved-grants"],queryFn:async()=>{const K=await fetch(Sr("/api/grants/user/bookmarks"),{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch saved grants");return(await K.json()).bookmarks||[]}}),{data:pe,isLoading:Q}=kr({queryKey:["grant-applications"],queryFn:async()=>{const K=await fetch(Sr("/api/ai-writing/applications"),{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch applications");return(await K.json()).applications||[]}}),{data:xe,isLoading:je}=kr({queryKey:["folders"],queryFn:async()=>(await Ej()).folders||[]}),{data:Re,isLoading:rt}=kr({queryKey:["saved-papers"],queryFn:async()=>(await Nz()).papers||[]});p.useEffect(()=>{const K=Se=>{m.current&&!m.current.contains(Se.target)&&u(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]);const Z=xe||[],J=Re||[],De=G||[],Fe=ce||[],ge=pe||[],te=[],Te=K=>{const Se={submitted:"bg-blue-100 text-blue-700",under_review:"bg-yellow-100 text-yellow-700",interview:"bg-purple-100 text-purple-700",accepted:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"},Oe={submitted:"Submitted",under_review:"Under Review",interview:"Interview Scheduled",accepted:"Accepted",rejected:"Not Selected"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Se[K]}`,children:Oe[K]})},Le=(K,Se)=>{},ze=(K,Se)=>{},Qe=K=>{const Se=new Set(o);Se.has(K)?Se.delete(K):Se.add(K),c(Se)},Tt=()=>{const K=J.filter(Se=>a==="all"||Se.folder_id===a);c(new Set(K.map(Se=>Se.id)))},At=()=>{c(new Set)},W=K=>{const Se=K.authors.split(",")[0].trim().split(" ");return`@article{${`${Se[Se.length-1]}${K.publication_year}`},
  title = {${K.title}},
  author = {${K.authors}},
  journal = {${K.journal}},
  year = {${K.publication_year}},
  institution = {${K.institution}},
  abstract = {${K.abstract}}
}`},R=K=>`TY  - JOUR
TI  - ${K.title}
AU  - ${K.authors.split(",").join(`
AU  - `)}
JO  - ${K.journal}
PY  - ${K.publication_year}
AB  - ${K.abstract}
ER  -`,ee=K=>{const Se=J.filter(zt=>o.has(zt.id));let Oe="",lt="",Qt="text/plain";switch(K){case"bibtex":Oe=Se.map(zt=>W(zt.paper)).join(`

`),lt=`citations_${new Date().toISOString().split("T")[0]}.bib`,Qt="application/x-bibtex";break;case"ris":Oe=Se.map(zt=>R(zt.paper)).join(`

`),lt=`citations_${new Date().toISOString().split("T")[0]}.ris`,Qt="application/x-research-info-systems";break;case"json":Oe=JSON.stringify(Se.map(zt=>zt.paper),null,2),lt=`citations_${new Date().toISOString().split("T")[0]}.json`,Qt="application/json";break;default:return}const $t=new Blob([Oe],{type:Qt}),an=URL.createObjectURL($t),Kr=document.createElement("a");Kr.href=an,Kr.download=lt,Kr.click(),URL.revokeObjectURL(an),u(!1)},se=()=>{alert("Zotero integration coming soon! For now, please export as RIS and import manually."),u(!1)},we=()=>{alert("Mendeley integration coming soon! For now, please export as RIS and import manually."),u(!1)},ue=async K=>{if(!(!ae||!K.paper.abstract)&&!(K.paper.aiFrameworks&&K.paper.aiFrameworks.length>0)){$(Se=>new Set([...Se,K.id]));try{const Se=await Y2({title:K.paper.title,abstract:K.paper.abstract,existingTags:K.paper.framework_alignment||[]});Se.success&&Se.suggestions&&Se.suggestions.frameworks&&setSavedResearch(Oe=>Oe.map(lt=>lt.id===K.id?{...lt,paper:{...lt.paper,aiFrameworks:Se.suggestions.frameworks}}:lt))}catch(Se){console.error("Failed to generate AI tags:",Se)}finally{$(Se=>{const Oe=new Set(Se);return Oe.delete(K.id),Oe})}}},ye=()=>{setSavedResearch(K=>K.map(Se=>_[Se.id]?{...Se,paper:{...Se.paper,framework_alignment:[...Se.paper.framework_alignment||[],..._[Se.id].map(Oe=>Oe.name)]}}:Se)),g(!1),k({})},He=()=>{if(!ae){t("/premium");return}v(!0),A.length===0&&P([{role:"assistant",content:`I'm here to help you explore your saved papers! You have ${J.filter(K=>a==="all"||K.folder_id===a).length} papers in this folder. Ask me anything about them!`}])},ut=async()=>{if(!E.trim()||M)return;const K=E.trim();T(""),P(Se=>[...Se,{role:"user",content:K}]),U(!0);try{const Se=J.filter(lt=>a==="all"||lt.folder_id===a).map(lt=>lt.paper),Oe=await Q2({question:K,papers:Se,conversationHistory:A});Oe.success&&P(lt=>[...lt,{role:"assistant",content:Oe.response}])}catch(Se){console.error("Chat error:",Se),P(Oe=>[...Oe,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{U(!1)}},Bt=()=>{if(!ae){t("/premium");return}b(!0)},qt=()=>{const K=J.filter(Se=>a==="all"||Se.folder_id===a).map(Se=>Se.paper);sessionStorage.setItem("geographicExplorerPapers",JSON.stringify(K)),t("/geographic-explorer")},rr=()=>{let K=J.filter(Se=>a==="all"||Se.folder_id===a);switch(z){case"date":K.sort((Se,Oe)=>new Date(Oe.saved_at)-new Date(Se.saved_at));break;case"title":K.sort((Se,Oe)=>Se.paper.title.localeCompare(Oe.paper.title));break;case"citations":K.sort((Se,Oe)=>(Oe.paper.citationCount||0)-(Se.paper.citationCount||0));break;case"year":K.sort((Se,Oe)=>(Oe.paper.publication_year||0)-(Se.paper.publication_year||0));break}return K};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[r.jsx(ne,{to:"/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),r.jsx("span",{children:"/"}),r.jsx("span",{className:"text-gray-900",children:"Saved Items"})]}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Saved Items"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Track jobs, grants, and applications you're interested in"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[r.jsxs("button",{onClick:()=>s("research"),className:`flex items-center gap-2 px-6 py-3 font-medium border-b-2 transition-all whitespace-nowrap ${n==="research"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(bt,{className:"w-5 h-5"}),"Research Papers",r.jsx("span",{className:"ml-1 px-2 py-0.5 bg-gray-100 text-gray-700 rounded-full text-xs",children:J.length})]}),r.jsxs("button",{onClick:()=>s("jobs"),className:`flex items-center gap-2 px-6 py-3 font-medium border-b-2 transition-all whitespace-nowrap ${n==="jobs"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Jo,{className:"w-5 h-5"}),"Saved Jobs",r.jsx("span",{className:"ml-1 px-2 py-0.5 bg-gray-100 text-gray-700 rounded-full text-xs",children:De.length})]}),r.jsxs("button",{onClick:()=>s("grants"),className:`flex items-center gap-2 px-6 py-3 font-medium border-b-2 transition-all ${n==="grants"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(hd,{className:"w-5 h-5"}),"Saved Grants",r.jsx("span",{className:"ml-1 px-2 py-0.5 bg-gray-100 text-gray-700 rounded-full text-xs",children:Fe.length})]}),r.jsxs("button",{onClick:()=>s("applications"),className:`flex items-center gap-2 px-6 py-3 font-medium border-b-2 transition-all ${n==="applications"?"border-purple-600 text-purple-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Ae,{className:"w-5 h-5"}),"My Applications",r.jsx("span",{className:"ml-1 px-2 py-0.5 bg-gray-100 text-gray-700 rounded-full text-xs",children:te.length})]})]})}),n==="research"&&r.jsxs("div",{children:[J.filter(K=>a==="all"||K.folder_id===a).length>0&&r.jsx("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:o.size>0?At:Tt,className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:o.size>0?"Deselect All":"Select All"}),o.size>0&&r.jsxs("span",{className:"text-sm text-gray-600",children:[o.size," paper",o.size>1?"s":""," selected"]})]})}),o.size>0&&r.jsxs("div",{ref:m,className:"relative",children:[r.jsxs("button",{onClick:()=>u(!d),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:[r.jsx(DP,{className:"w-5 h-5"}),"Export Citations",r.jsx(la,{className:"w-4 h-4"})]}),d&&r.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Export Formats"}),r.jsxs("button",{onClick:()=>ee("bibtex"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[r.jsx(bt,{className:"w-5 h-5 text-gray-500"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"BibTeX (.bib)"}),r.jsx("div",{className:"text-xs text-gray-500",children:"LaTeX, BibDesk"})]})]}),r.jsxs("button",{onClick:()=>ee("ris"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[r.jsx(B$,{className:"w-5 h-5 text-gray-500"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"RIS (.ris)"}),r.jsx("div",{className:"text-xs text-gray-500",children:"EndNote, RefWorks"})]})]}),r.jsxs("button",{onClick:()=>ee("json"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[r.jsx(bt,{className:"w-5 h-5 text-gray-500"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"JSON (.json)"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Structured data"})]})]}),r.jsx("div",{className:"border-t border-gray-200 my-2"}),r.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference Managers"}),r.jsxs("button",{onClick:se,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[r.jsx(Qo,{className:"w-5 h-5 text-red-500"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Zotero"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Direct import"})]})]}),r.jsxs("button",{onClick:we,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[r.jsx(Qo,{className:"w-5 h-5 text-blue-500"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Mendeley"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Direct import"})]})]})]})})]})]})}),r.jsxs("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-2",children:[r.jsxs("button",{onClick:()=>i("all"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${a==="all"?"bg-primary-600 text-white shadow-md":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(l$,{className:"w-5 h-5"}),"All Papers (",J.length,")"]}),Z.map(K=>r.jsxs("button",{onClick:()=>i(K.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${a===K.id?`bg-${K.color}-600 text-white shadow-md`:"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Qp,{className:"w-5 h-5"}),K.name," (",K.count,")"]},K.id))]}),J.filter(K=>a==="all"||K.folder_id===a).length>0&&r.jsx("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Sort by:"}),r.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[r.jsx("button",{onClick:()=>X("date"),className:`px-3 py-1.5 text-xs rounded transition-colors whitespace-nowrap ${z==="date"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-600 hover:text-gray-900"}`,children:"Date Saved"}),r.jsx("button",{onClick:()=>X("title"),className:`px-3 py-1.5 text-xs rounded transition-colors whitespace-nowrap ${z==="title"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-600 hover:text-gray-900"}`,children:"Title"}),r.jsx("button",{onClick:()=>X("year"),className:`px-3 py-1.5 text-xs rounded transition-colors whitespace-nowrap ${z==="year"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-600 hover:text-gray-900"}`,children:"Year"}),r.jsx("button",{onClick:()=>X("citations"),className:`px-3 py-1.5 text-xs rounded transition-colors whitespace-nowrap ${z==="citations"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-600 hover:text-gray-900"}`,children:"Citations"})]})]})}),J.filter(K=>a==="all"||K.folder_id===a).length>0&&r.jsxs("div",{className:"mb-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Ct,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Tools"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:He,className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-blue-50 border-2 border-blue-300 text-blue-700 rounded-lg font-medium transition-all shadow-sm hover:shadow-md",children:[r.jsx(zi,{className:"w-4 h-4"}),"Chat with Papers"]}),r.jsxs("button",{onClick:Bt,className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-green-50 border-2 border-green-300 text-green-700 rounded-lg font-medium transition-all shadow-sm hover:shadow-md",children:[r.jsx(DS,{className:"w-4 h-4"}),"Add to Grant"]}),r.jsxs("button",{onClick:qt,className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-indigo-50 border-2 border-indigo-300 text-indigo-700 rounded-lg font-medium transition-all shadow-sm hover:shadow-md",children:[r.jsx(cr,{className:"w-4 h-4"}),"View on Map"]})]})]}),rr().length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(bt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a==="all"?"No saved research yet":"No papers in this folder"}),r.jsx("p",{className:"text-gray-600 mb-6",children:a==="all"?"Start saving research papers to organize your reading and research":"Save papers to this folder from the search page"}),r.jsx(ne,{to:"/search",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all",children:"Browse Research"})]}):r.jsx("div",{className:"space-y-4",children:rr().map(K=>{var Se,Oe;return ae&&!K.paper.aiFrameworks&&K.paper.abstract&&!le.has(K.id)&&ue(K),r.jsxs("div",{className:`bg-white border-2 rounded-xl p-6 hover:shadow-lg transition-all ${o.has(K.id)?"border-primary-500 bg-primary-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("button",{onClick:()=>Qe(K.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${o.has(K.id)?"bg-primary-600 border-primary-600":"border-gray-300 hover:border-primary-500"}`,children:o.has(K.id)&&r.jsx(Tz,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx(ne,{to:`/research/${K.paper.id}`,className:"text-xl font-semibold text-gray-900 hover:text-primary-600 transition-colors block mb-2",children:K.paper.title}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:K.paper.authors}),r.jsx("span",{children:""}),r.jsx("span",{children:K.paper.institution}),r.jsx("span",{children:""}),r.jsx("span",{children:K.paper.publication_year})]}),r.jsx("div",{className:"text-sm text-gray-600 mb-3",children:r.jsx("span",{className:"font-medium",children:K.paper.journal})})]}),r.jsx("button",{onClick:()=>Le("paper",K.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Remove from saved",children:r.jsx(Rs,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium",children:[r.jsx(Qp,{className:"w-3 h-3"}),K.folder_name]})}),r.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-2",children:K.paper.abstract}),r.jsxs("div",{className:"space-y-3 mb-4",children:[((Se=K.paper.framework_alignment)==null?void 0:Se.length)>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:K.paper.framework_alignment.map((lt,Qt)=>r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:lt},Qt))}),ae&&((Oe=K.paper.aiFrameworks)==null?void 0:Oe.length)>0&&r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-50 text-purple-700 rounded-full text-xs font-medium",children:[r.jsx(Ct,{className:"w-3 h-3"}),"AI Tags:"]}),K.paper.aiFrameworks.map((lt,Qt)=>r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:lt.name},Qt))]}),ae&&le.has(K.id)&&r.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-purple-600"}),"Generating AI tags..."]}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600",children:[K.paper.geographic_scope&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(cr,{className:"w-3 h-3"}),K.paper.geographic_scope]}),K.paper.taxonomic_scope&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Rd,{className:"w-3 h-3"}),K.paper.taxonomic_scope]}),K.paper.research_methods&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Cr,{className:"w-3 h-3"}),K.paper.research_methods]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Saved ",new Date(K.saved_at).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[ae&&(!K.paper.aiFrameworks||K.paper.aiFrameworks.length===0)&&!le.has(K.id)&&K.paper.abstract&&r.jsxs("button",{onClick:()=>ue(K),className:"flex items-center gap-2 px-4 py-2 border-2 border-purple-300 text-purple-700 rounded-lg hover:bg-purple-50 transition-all font-medium text-sm",children:[r.jsx(Ct,{className:"w-4 h-4"}),"Generate AI Tags"]}),r.jsx("button",{className:"px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium text-sm",children:"Move to Folder"}),r.jsx(ne,{to:`/research/${K.paper.id}`,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all font-medium text-sm",children:"View Paper"})]})]})]},K.id)})})]}),n==="jobs"&&r.jsx("div",{children:De.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Vo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No saved jobs yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start saving jobs you're interested in to keep track of them"}),r.jsx(ne,{to:"/jobs",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all",children:"Browse Jobs"})]}):r.jsx("div",{className:"space-y-4",children:De.map(K=>{var Se;return r.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(ne,{to:`/jobs/${K.job.id}`,className:"text-xl font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:K.job.title}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ec,{className:"w-4 h-4"}),K.job.institution_name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"w-4 h-4"}),K.job.location]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"w-4 h-4"}),"Deadline: ",new Date(K.job.application_deadline).toLocaleDateString()]})]})]}),r.jsx("button",{onClick:()=>Le("job",K.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Remove from saved",children:r.jsx(Rs,{className:"w-5 h-5"})})]}),K.notes&&r.jsx("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Your Notes"}),r.jsx("p",{className:"text-sm text-blue-800",children:K.notes})]})]})}),K.reminder_date&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ii,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-yellow-900 mb-1",children:"Reminder Set"}),r.jsx("p",{className:"text-sm text-yellow-800",children:new Date(K.reminder_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Se=K.job.framework_names)==null?void 0:Se.map((Oe,lt)=>r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:Oe},lt)),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:K.job.employment_type})]}),r.jsxs("div",{className:"flex gap-2",children:[!K.reminder_date&&r.jsxs("button",{onClick:()=>ze("job",K.id),className:"px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium flex items-center gap-2",children:[r.jsx(ii,{className:"w-4 h-4"}),"Set Reminder"]}),r.jsx(ne,{to:`/jobs/${K.job.id}`,className:"px-4 py-2 border-2 border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-all font-medium",children:"View Details"}),r.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-medium",children:"Apply Now"})]})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500",children:["Saved ",new Date(K.saved_at).toLocaleDateString()]})]},K.id)})})}),n==="grants"&&r.jsx("div",{children:Fe.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(hd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No saved grants yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Save grants you're interested in and set deadline reminders"}),r.jsx(ne,{to:"/grants",className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:"Browse Grants"})]}):r.jsx("div",{className:"space-y-4",children:Fe.map(K=>{var Se;return r.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(ne,{to:`/grants/${K.grant.id}`,className:"text-xl font-semibold text-gray-900 hover:text-green-600 transition-colors",children:K.grant.title}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ec,{className:"w-4 h-4"}),K.grant.funder]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(hd,{className:"w-4 h-4"}),"$",K.grant.amount.toLocaleString()," ",K.grant.currency]}),r.jsxs("div",{className:"flex items-center gap-1 text-orange-600 font-medium",children:[r.jsx(Jr,{className:"w-4 h-4"}),"Deadline: ",new Date(K.grant.deadline).toLocaleDateString()]})]})]}),r.jsx("button",{onClick:()=>Le("grant",K.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Remove from saved",children:r.jsx(Rs,{className:"w-5 h-5"})})]}),K.notes&&r.jsx("div",{className:"bg-green-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-green-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-green-900 mb-1",children:"Your Notes"}),r.jsx("p",{className:"text-sm text-green-800",children:K.notes})]})]})}),K.reminder_date&&r.jsx("div",{className:"bg-yellow-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ii,{className:"w-4 h-4 text-yellow-600"}),r.jsxs("span",{className:"text-sm text-yellow-800",children:["Reminder set for ",new Date(K.reminder_date).toLocaleDateString()]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:K.grant.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:(Se=K.grant.tags)==null?void 0:Se.map((Oe,lt)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:Oe},lt))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>ze(K.grant.id),className:"px-4 py-2 border-2 border-green-600 text-green-600 rounded-lg hover:bg-green-50 transition-all font-medium",children:"Set Reminder"}),r.jsx(ne,{to:`/grants/${K.grant.id}`,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all font-medium",children:"View Details"})]})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500",children:["Saved ",new Date(K.saved_at).toLocaleDateString()]})]},K.id)})})}),n==="applications"&&r.jsx("div",{children:te.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Ae,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No applications yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your job applications will appear here with status tracking"}),r.jsx(ne,{to:"/jobs",className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all",children:"Browse Jobs"})]}):r.jsx("div",{className:"space-y-4",children:te.map(K=>r.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:K.job.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ec,{className:"w-4 h-4"}),K.job.institution_name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"w-4 h-4"}),K.job.location]})]})]}),Te(K.status)]}),K.interview_scheduled_at&&r.jsx("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"w-5 h-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-purple-900",children:"Interview Scheduled"}),r.jsx("div",{className:"text-sm text-purple-700",children:new Date(K.interview_scheduled_at).toLocaleString()})]})]})}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{children:["Applied ",new Date(K.submitted_at).toLocaleDateString()]}),r.jsxs("div",{children:["Updated ",new Date(K.status_updated_at).toLocaleDateString()]})]}),r.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all font-medium",children:"View Application"})]})]},K.id))})})]}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ct,{className:"w-6 h-6 text-white"}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"AI-Generated Framework Tags"})]}),r.jsx("button",{onClick:()=>g(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:""})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:j?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Analyzing papers and generating framework tags..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-4",children:J.filter(K=>a==="all"||K.folder_id===a).map(K=>{var Se;return r.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:K.paper.title}),r.jsx("div",{className:"flex flex-wrap gap-2",children:((Se=_[K.id])==null?void 0:Se.map((Oe,lt)=>r.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[Oe.name," ",Oe.confidence&&`(${Math.round(Oe.confidence*100)}%)`]},lt)))||r.jsx("span",{className:"text-gray-500 text-sm",children:"No tags generated"})})]},K.id)})}),r.jsxs("div",{className:"sticky bottom-0 mt-6 pt-4 bg-white border-t-2 border-gray-200 flex gap-3",children:[r.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium",children:"Cancel"}),r.jsx("button",{onClick:ye,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all font-medium",children:"Apply Tags to Papers"})]})]})})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 pt-24 z-[100]",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[calc(100vh-8rem)] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zi,{className:"w-6 h-6 text-white"}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"AI Research Assistant"})]}),r.jsx("button",{onClick:()=>v(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:""})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-50",children:[A.map((K,Se)=>r.jsx("div",{className:`flex ${K.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${K.role==="user"?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:K.content})},Se)),M&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),r.jsx("div",{className:"border-t border-gray-200 p-4 bg-white flex-shrink-0",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:E,onChange:K=>T(K.target.value),onKeyPress:K=>K.key==="Enter"&&ut(),placeholder:"Ask about your saved papers...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:M}),r.jsx("button",{onClick:ut,disabled:M||!E.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Send"})]})})]})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(DS,{className:"w-6 h-6 text-white"}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Add to Grant Application"})]}),r.jsx("button",{onClick:()=>b(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:""})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("p",{className:"text-gray-600 mb-6",children:["Select or create a grant application to add these ",J.filter(K=>a==="all"||K.folder_id===a).length," papers."]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[ge.map(K=>r.jsxs("button",{onClick:()=>B(K.id),className:`w-full p-4 border-2 rounded-xl transition-all text-left ${D===K.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-500 hover:bg-green-50"}`,children:[r.jsx("div",{className:"font-semibold text-gray-900",children:K.title}),r.jsxs("div",{className:"text-sm text-gray-600",children:[K.funder," - Due ",new Date(K.deadline).toLocaleDateString()]})]},K.id)),r.jsxs("button",{onClick:()=>{b(!1),t("/grants/new")},className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-green-500 hover:bg-green-50 transition-all flex items-center justify-center gap-2 text-green-600 font-medium",children:[r.jsx(sa,{className:"w-5 h-5"}),"Create New Grant Application"]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{b(!1),B(null)},className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium",children:"Cancel"}),r.jsx("button",{onClick:()=>{if(!D){alert("Please select a grant application first");return}const K=ge.find(Oe=>Oe.id===D),Se=J.filter(Oe=>a==="all"||Oe.folder_id===a).length;b(!1),B(null),alert(`Successfully added ${Se} papers to "${K.title}"!`)},disabled:!D,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Add to Grant"})]})]})]})})]})}function qoe(){const[e,t]=p.useState(""),[n,s]=p.useState(""),[a,i]=p.useState("all"),[o,c]=p.useState([]),[d,u]=p.useState(!0),{isAuthenticated:m}=Ot(),f=Yt();p.useEffect(()=>{g()},[]);const g=async()=>{try{const j=await(await fetch(Sr("/api/featured-opportunities"),{credentials:"include"})).json();c(j.opportunities||[])}catch(b){console.error("Error fetching opportunities:",b)}finally{u(!1)}},v=o.filter(b=>{const j=b.title.toLowerCase().includes(e.toLowerCase())||b.organization.toLowerCase().includes(e.toLowerCase())||b.description.toLowerCase().includes(e.toLowerCase()),S=!n||b.location.toLowerCase().includes(n.toLowerCase()),_=a==="all"||b.type===a;return j&&S&&_}),w=[{value:"all",label:"All Opportunities"},{value:"job",label:"Jobs"},{value:"grant",label:"Grants"},{value:"training",label:"Training"},{value:"event",label:"Events"}];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Featured Opportunities"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Premium-curated opportunities from leading conservation organizations. Verified positions, grants, training programs, and events."})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[r.jsx("input",{type:"text",placeholder:"Search by title, organization, or keyword...",value:e,onChange:b=>t(b.target.value),className:"w-full px-6 py-4 text-lg border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all"}),r.jsx("input",{type:"text",placeholder:"Location (city, state, or country)...",value:n,onChange:b=>s(b.target.value),className:"w-full px-6 py-4 text-lg border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none transition-all"})]}),r.jsx("div",{className:"space-y-4 mb-8",children:r.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:w.map(b=>r.jsx("button",{onClick:()=>i(b.value),className:`px-5 py-2 rounded-full text-sm font-medium transition-all ${a===b.value?"bg-[#009edb] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:b.label},b.value))})}),r.jsxs("div",{className:"text-base text-gray-600 mb-6",children:[v.length," ",v.length===1?"opportunity":"opportunities"," found"]})]})}),r.jsx("section",{className:"py-12 px-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:v.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:"No opportunities match your criteria"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Try adjusting your filters"})]}):r.jsx("div",{className:"space-y-6",children:v.map(b=>{var j;return r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 hover:border-[#009edb] transition-all",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${b.type==="job"?"bg-blue-100 text-blue-700":b.type==="grant"?"bg-green-100 text-green-700":b.type==="training"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:b.type.toUpperCase()}),r.jsx("span",{className:"px-3 py-1 bg-[#009edb] text-white text-xs font-semibold rounded-full",children:"FEATURED"}),b.remote&&r.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-semibold rounded-full",children:"Remote"})]}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:b.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ec,{className:"w-4 h-4"}),b.organization]}),b.location&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"w-4 h-4"}),b.location]}),r.jsxs("div",{className:"flex items-center gap-2 text-red-600 font-semibold",children:[r.jsx(Jr,{className:"w-4 h-4"}),"Deadline: ",new Date(b.deadline).toLocaleDateString()]})]}),r.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:b.description}),(b.salary||b.amount||b.duration||b.date||b.cost)&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:[b.salary&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Salary"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:b.salary})]}),b.amount&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Funding"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:b.amount})]}),b.duration&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Duration"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:b.duration})]}),b.date&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Date"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:b.date})]}),b.cost&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Cost"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:b.cost})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(j=b.frameworks)==null?void 0:j.map((S,_)=>r.jsx("span",{className:"px-3 py-1 bg-green-50 border border-green-200 text-green-800 rounded-full text-xs font-medium",children:S},_))})]}),r.jsx("div",{className:"flex flex-col gap-3",children:r.jsx(ne,{to:`/${b.type}s/${b.id}`,className:"px-8 py-3 bg-[#009edb] text-white rounded-full font-medium hover:bg-[#0077b3] transition-all text-center whitespace-nowrap",children:"View Details"})})]})},b.id)})})})}),r.jsx("section",{className:"py-16 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-gray-900 mb-4",children:"Feature Your Opportunity"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Get your job, grant, or training opportunity in front of conservation professionals worldwide with premium placement."})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:"$99"}),r.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"30 Days Featured"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Top placement for one month"})]}),r.jsxs("div",{className:"bg-white rounded-xl border-2 border-primary-500 p-6 text-center relative",children:[r.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:r.jsx("span",{className:"bg-primary-500 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"BEST VALUE"})}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:"$149"}),r.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"60 Days Featured"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Save $49 vs two 30-day listings"})]}),r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:"$199"}),r.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"90 Days Featured"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Save $98 vs three 30-day listings"})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("button",{onClick:()=>f("/featured/submit"),className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-3 rounded-full text-base font-medium hover:bg-[#0077b3] transition-all",children:[r.jsx(sa,{className:"w-5 h-5 mr-2"}),"Submit Your Opportunity"]})})]})})]})}function Voe(){const[e,t]=p.useState({type:"job",title:"",organization:"",location:"",description:"",salary:"",amount:"",deadline:"",duration:"",cost:"",date_range:"",frameworks:"",remote:!1,pricing_tier:"30day"}),[n,s]=p.useState(!1),[a,i]=p.useState(""),{isAuthenticated:o}=Ot(),c=Yt(),d=f=>{const{name:g,value:x,type:v,checked:w}=f.target;t(b=>({...b,[g]:v==="checkbox"?w:x}))},u=async f=>{if(f.preventDefault(),i(""),!o){c("/login",{state:{from:"/featured/submit"}});return}if(!e.title||!e.organization||!e.description||!e.deadline){i("Please fill in all required fields");return}s(!0);try{const g=e.frameworks?e.frameworks.split(",").map(w=>w.trim()).filter(w=>w):[],x=await fetch(Sr("/api/featured-opportunities"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...e,frameworks:g})}),v=await x.json();if(!x.ok)throw new Error(v.error||"Failed to create opportunity");if(v.sessionUrl)window.location.href=v.sessionUrl;else throw new Error("No payment URL received")}catch(g){console.error("Submit error:",g),i(g.message),s(!1)}},m=[{value:"30day",label:"30 Days",price:"$99",description:"Top placement for one month"},{value:"60day",label:"60 Days",price:"$149",description:"Save $49 vs two 30-day listings",badge:"BEST VALUE"},{value:"90day",label:"90 Days",price:"$199",description:"Save $98 vs three 30-day listings"}];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Submit Featured Opportunity"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed",children:"Get your job, grant, training, or event in front of 250,000+ conservation professionals worldwide"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white",children:r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsxs("form",{onSubmit:u,className:"space-y-8",children:[a&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:a}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["Opportunity Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["job","grant","training","event"].map(f=>r.jsx("button",{type:"button",onClick:()=>t(g=>({...g,type:f})),className:`px-4 py-3 rounded-lg border-2 font-medium capitalize transition-all ${e.type===f?"border-[#009edb] bg-[#009edb] text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:f},f))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-3",children:"Basic Information"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:e.title,onChange:d,placeholder:"e.g., Senior Marine Conservation Scientist",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Organization ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"organization",value:e.organization,onChange:d,placeholder:"e.g., Ocean Conservation Institute",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Location ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"location",value:e.location,onChange:d,placeholder:"e.g., Remote / Sydney, Australia",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:e.description,onChange:d,rows:"5",placeholder:"Provide a detailed description of the opportunity...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Application Deadline ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"deadline",value:e.deadline,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none",required:!0})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-3",children:"Additional Details"}),e.type==="job"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Salary Range"}),r.jsx("input",{type:"text",name:"salary",value:e.salary,onChange:d,placeholder:"e.g., $120,000 - $150,000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"remote",checked:e.remote,onChange:d,className:"w-5 h-5 text-[#009edb] border-gray-300 rounded focus:ring-[#009edb]"}),r.jsx("label",{className:"ml-3 text-sm font-semibold text-gray-900",children:"Remote position"})]})]}),e.type==="grant"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Funding Amount"}),r.jsx("input",{type:"text",name:"amount",value:e.amount,onChange:d,placeholder:"e.g., Up to $2,000,000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Duration"}),r.jsx("input",{type:"text",name:"duration",value:e.duration,onChange:d,placeholder:"e.g., 36 months",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]})]}),e.type==="training"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Duration"}),r.jsx("input",{type:"text",name:"duration",value:e.duration,onChange:d,placeholder:"e.g., 8 weeks",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Cost"}),r.jsx("input",{type:"text",name:"cost",value:e.cost,onChange:d,placeholder:"e.g., $1,200 (Scholarships available)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]})]}),e.type==="event"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Event Dates"}),r.jsx("input",{type:"text",name:"date_range",value:e.date_range,onChange:d,placeholder:"e.g., 2024-06-15 to 2024-06-18",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Related Frameworks"}),r.jsx("input",{type:"text",name:"frameworks",value:e.frameworks,onChange:d,placeholder:"e.g., SDG 14, CBD Target 3, Paris Agreement (comma-separated)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-[#009edb] focus:outline-none"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Separate multiple frameworks with commas"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-3",children:"Select Pricing Tier"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:m.map(f=>r.jsxs("button",{type:"button",onClick:()=>t(g=>({...g,pricing_tier:f.value})),className:`relative p-6 rounded-xl border-2 text-left transition-all ${e.pricing_tier===f.value?"border-[#009edb] bg-blue-50":"border-gray-300 bg-white hover:border-gray-400"}`,children:[f.badge&&r.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:r.jsx("span",{className:"bg-[#009edb] text-white text-xs font-semibold px-3 py-1 rounded-full",children:f.badge})}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:f.price}),r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:f.label}),r.jsx("div",{className:"text-xs text-gray-600",children:f.description})]},f.value))})]}),r.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>c("/featured"),className:"px-8 py-3 text-gray-700 font-medium hover:text-gray-900 mr-4",disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:n,className:"px-8 py-3 bg-[#009edb] text-white rounded-full font-medium hover:bg-[#0077b3] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Processing...":"Continue to Payment"})]})]})})})]})}const Koe="http://localhost:3001",Vu=Nt.create({baseURL:`${Koe}/api`,withCredentials:!0,headers:{"Content-Type":"application/json"}}),Vf={getNotifications:(e={})=>Vu.get("/notifications",{params:e}),markAsRead:e=>Vu.put(`/notifications/${e}/read`),markAllAsRead:()=>Vu.put("/notifications/read-all"),deleteNotification:e=>Vu.delete(`/notifications/${e}`),getUnreadCount:()=>Vu.get("/notifications/unread/count")};function Zoe(){const{user:e}=Ot(),t=ml(),[n,s]=p.useState("all"),{data:a,isLoading:i}=kr({queryKey:["notifications"],queryFn:()=>Vf.getNotifications().then(_=>_.data),enabled:!!e}),o=(a==null?void 0:a.notifications)||[],c=_=>{switch(_){case"new_follower":case"profile_view":case"profile_endorsement":return r.jsx(GP,{className:"w-5 h-5"});case"research_citation":case"research_saved":case"research_collection":case"research_match":return r.jsx(bt,{className:"w-5 h-5"});case"collaboration_invite":case"group_invite":case"coauthor_request":return r.jsx(Qn,{className:"w-5 h-5"});case"grant_match":case"grant_deadline":return r.jsx(hd,{className:"w-5 h-5"});case"job_match":case"application_status":return r.jsx(Jo,{className:"w-5 h-5"});case"discussion_comment":case"discussion_mention":case"group_activity":return r.jsx(Qn,{className:"w-5 h-5"});case"event_reminder":return r.jsx(Jr,{className:"w-5 h-5"});case"security_alert":return r.jsx(Yp,{className:"w-5 h-5"});default:return r.jsx(ii,{className:"w-5 h-5"})}},d=_=>_.includes("follower")||_.includes("profile")?"bg-blue-100 text-blue-600":_.includes("research")?"bg-green-100 text-green-600":_.includes("collaboration")||_.includes("invite")?"bg-purple-100 text-purple-600":_.includes("grant")?"bg-yellow-100 text-yellow-600":_.includes("job")||_.includes("application")?"bg-indigo-100 text-indigo-600":_.includes("discussion")||_.includes("comment")?"bg-pink-100 text-pink-600":_.includes("event")?"bg-orange-100 text-orange-600":_.includes("security")?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600",u=_=>{const k=new Date(_),P=new Date-k,E=Math.floor(P/6e4),T=Math.floor(P/36e5),M=Math.floor(P/864e5);return E<1?"Just now":E<60?`${E}m ago`:T<24?`${T}h ago`:M<7?`${M}d ago`:k.toLocaleDateString()},m=Ti({mutationFn:_=>Vf.markAsRead(_),onSuccess:()=>{t.invalidateQueries(["notifications"]),t.invalidateQueries(["unreadCount"])}}),f=Ti({mutationFn:()=>Vf.markAllAsRead(),onSuccess:()=>{t.invalidateQueries(["notifications"]),t.invalidateQueries(["unreadCount"])}}),g=Ti({mutationFn:_=>Vf.deleteNotification(_),onSuccess:()=>{t.invalidateQueries(["notifications"]),t.invalidateQueries(["unreadCount"])}}),x=_=>{m.mutate(_)},v=()=>{f.mutate()},w=_=>{g.mutate(_)},b=[{id:"all",label:"All Notifications"},{id:"unread",label:"Unread"},{id:"research",label:"Research"},{id:"opportunities",label:"Opportunities"},{id:"community",label:"Community"},{id:"system",label:"System"}],j=o.filter(_=>n==="all"?!0:n==="unread"?!_.is_read:n==="research"?_.type.includes("research"):n==="opportunities"?_.type.includes("grant")||_.type.includes("job"):n==="community"?_.type.includes("discussion")||_.type.includes("group")||_.type.includes("event")||_.type.includes("follow"):n==="system"?_.type.includes("security")||_.type.includes("subscription")||_.type.includes("platform")||_.type.includes("message"):!0),S=o.filter(_=>!_.is_read).length;return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Notifications"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Stay updated with your research activity, opportunities, and community interactions"})]}),r.jsxs(ne,{to:"/notifications/settings",className:"flex items-center gap-2 px-6 py-3 bg-white text-gray-900 rounded-full font-medium border border-gray-300 hover:border-gray-400 transition-all",children:[r.jsx(BP,{className:"w-5 h-5"}),"Settings"]})]})})}),r.jsx("section",{className:"py-8 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(_=>r.jsx("button",{onClick:()=>s(_.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${n===_.id?"bg-[#009edb] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_.label},_.id))}),S>0&&r.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 text-sm text-[#009edb] hover:bg-blue-50 rounded-lg transition-all",children:[r.jsx(Ae,{className:"w-4 h-4"}),"Mark all as read"]})]}),r.jsx("div",{className:"text-base text-gray-600 mb-6",children:S>0?r.jsxs("span",{children:[S," unread notification",S!==1?"s":""]}):r.jsx("span",{children:"All caught up!"})})]})}),r.jsx("section",{className:"py-8 px-4 bg-gray-50 border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:i?r.jsx("div",{className:"text-center py-16",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"Loading notifications..."})}):j.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(ii,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No notifications"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"You're all caught up!"})]}):r.jsx("div",{className:"space-y-3",children:j.map(_=>r.jsx("div",{className:`bg-white rounded-xl border transition-all ${_.is_read?"border-gray-200 hover:border-gray-300":"border-[#009edb] shadow-sm"}`,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${d(_.type)}`,children:c(_.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:_.title}),r.jsx("p",{className:"text-base text-gray-700",children:_.message})]}),!_.is_read&&r.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-[#009edb] rounded-full mt-2"})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[r.jsx("span",{className:"text-sm text-gray-500",children:u(_.created_at)}),_.link&&r.jsx(ne,{to:_.link,onClick:()=>x(_.id),className:"text-sm text-[#009edb] hover:text-[#0077b3] font-medium",children:"View"}),!_.is_read&&r.jsx("button",{onClick:()=>x(_.id),className:"text-sm text-gray-600 hover:text-gray-900",children:"Mark as read"}),r.jsx("button",{onClick:()=>w(_.id),className:"ml-auto text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:r.jsx(Rs,{className:"w-4 h-4"})})]})]})]})})},_.id))})})})]})}const Yoe="http://localhost:3001",Uc=Nt.create({baseURL:`${Yoe}/api`,withCredentials:!0,headers:{"Content-Type":"application/json"}}),yp={getConversations:()=>Uc.get("/messages/conversations"),getConversation:e=>Uc.get(`/messages/conversation/${e}`),sendMessage:e=>Uc.post("/messages/send",e),markAsRead:e=>Uc.put(`/messages/${e}/read`),deleteMessage:e=>Uc.delete(`/messages/${e}`),getUnreadCount:()=>Uc.get("/messages/unread/count")};function Qoe(){var S,_;const{user:e}=Ot(),t=ml(),[n,s]=p.useState(null),[a,i]=p.useState(""),[o,c]=p.useState(""),{data:d,isLoading:u}=kr({queryKey:["conversations"],queryFn:()=>yp.getConversations().then(k=>k.data),enabled:!!e}),{data:m,isLoading:f}=kr({queryKey:["conversation",n==null?void 0:n.other_participant.id],queryFn:()=>yp.getConversation(n.other_participant.id).then(k=>k.data),enabled:!!n&&!!e}),g=(d==null?void 0:d.conversations)||[],x=(m==null?void 0:m.messages)||[],v=g.filter(k=>{var A;return(k.other_participant.first_name+" "+k.other_participant.last_name).toLowerCase().includes(a.toLowerCase())||((A=k.other_participant.institution)==null?void 0:A.toLowerCase().includes(a.toLowerCase()))}),w=k=>{const A=new Date(k),E=new Date-A,T=Math.floor(E/6e4),M=Math.floor(E/36e5),U=Math.floor(E/864e5);return T<1?"Just now":T<60?`${T}m ago`:M<24?`${M}h ago`:U<7?`${U}d ago`:A.toLocaleDateString()},b=Ti({mutationFn:k=>yp.sendMessage(k),onSuccess:()=>{t.invalidateQueries(["conversation",n.other_participant.id]),t.invalidateQueries(["conversations"]),c("")}}),j=k=>{k.preventDefault(),!(!o.trim()||!n)&&b.mutate({recipient_id:n.other_participant.id,body:o})};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Messages"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Connect with researchers, request papers, and collaborate on projects"})]}),r.jsxs(ne,{to:"/messages/compose",className:"flex items-center gap-2 px-6 py-3 bg-[#009edb] text-white rounded-full font-medium hover:bg-[#0077b3] transition-all",children:[r.jsx(UP,{className:"w-5 h-5"}),"New Message"]})]})})}),r.jsx("section",{className:"py-8 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden h-[700px] flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search conversations...",value:a,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:u?r.jsx("div",{className:"text-center py-12 px-4",children:r.jsx("p",{className:"text-gray-500",children:"Loading conversations..."})}):v.length===0?r.jsxs("div",{className:"text-center py-12 px-4",children:[r.jsx(ri,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No conversations found"})]}):v.map(k=>{var A,P;return r.jsx("button",{onClick:()=>s(k),className:`w-full p-4 text-left hover:bg-gray-50 transition-colors border-b border-gray-100 ${(n==null?void 0:n.id)===k.id?"bg-blue-50":""}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white font-semibold",children:[(A=k.other_participant.first_name)==null?void 0:A[0],(P=k.other_participant.last_name)==null?void 0:P[0]]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 truncate",children:[k.other_participant.first_name," ",k.other_participant.last_name]}),k.unread_count>0&&r.jsx("span",{className:"flex-shrink-0 bg-[#009edb] text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:k.unread_count})]}),r.jsx("p",{className:"text-xs text-gray-500 mb-1 truncate",children:k.other_participant.institution}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:k.last_message.body}),r.jsx("span",{className:"text-xs text-gray-400 mt-1 block",children:w(k.last_message.created_at)})]})]})},k.id)})})]})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden h-[700px] flex flex-col",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>s(null),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Yi,{className:"w-5 h-5"})}),r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white font-semibold text-sm",children:[(S=n.other_participant.first_name)==null?void 0:S[0],(_=n.other_participant.last_name)==null?void 0:_[0]]})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900",children:[n.other_participant.first_name," ",n.other_participant.last_name]}),r.jsx("p",{className:"text-sm text-gray-500",children:n.other_participant.institution})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ne,{to:`/profile/${n.other_participant.compass_id}`,className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"View Profile"}),r.jsx("button",{className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Rs,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:f?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"Loading messages..."})}):x.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No messages yet"})}):x.map(k=>{const A=k.sender_id===e.id;return r.jsx("div",{className:`flex ${A?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] ${A?"bg-[#009edb] text-white":"bg-gray-100 text-gray-900"} rounded-2xl px-4 py-3`,children:[r.jsx("p",{className:"text-sm leading-relaxed",children:k.body}),r.jsx("span",{className:`text-xs ${A?"text-blue-100":"text-gray-500"} mt-1 block`,children:w(k.created_at)})]})},k.id)})}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("form",{onSubmit:j,className:"flex items-end gap-3",children:[r.jsx("div",{className:"flex-1",children:r.jsx("textarea",{value:o,onChange:k=>c(k.target.value),placeholder:"Type your message...",rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-[#009edb] focus:outline-none resize-none"})}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("button",{type:"button",className:"p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Attach file",children:r.jsx(pb,{className:"w-5 h-5"})}),r.jsx("button",{type:"submit",disabled:!o.trim()||b.isPending,className:"px-6 py-3 bg-[#009edb] text-white rounded-full font-medium hover:bg-[#0077b3] disabled:bg-gray-300 disabled:cursor-not-allowed transition-all",children:b.isPending?"Sending...":"Send"})]})]})})]}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ri,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"Select a conversation to start messaging"})]})})})})]})})})]})}function Joe(){const[e,t]=p.useState({email_notifications:{new_follower:!0,research_citation:!0,collaboration_invite:!0,grant_match:!0,job_match:!0,grant_deadline:!0,discussion_comment:!0,discussion_mention:!0,event_reminder:!0,security_alert:!0,subscription_update:!0,platform_announcement:!1},push_notifications:{new_follower:!0,research_citation:!0,collaboration_invite:!0,grant_match:!1,job_match:!1,discussion_comment:!0,discussion_mention:!0},email_digest:"daily",digest_day:"monday"}),[n,s]=p.useState(null),a=d=>{t({...e,email_notifications:{...e.email_notifications,[d]:!e.email_notifications[d]}})},i=d=>{t({...e,push_notifications:{...e.push_notifications,[d]:!e.push_notifications[d]}})},o=async()=>{console.log("Saving settings:",e),s("saving"),setTimeout(()=>{s("saved"),setTimeout(()=>s(null),2e3)},500)},c=[{title:"Profile Activity",items:[{key:"new_follower",label:"New Followers",description:"When someone follows your profile"},{key:"profile_view",label:"Profile Views",description:"When someone views your profile (Premium only)",premium:!0},{key:"profile_endorsement",label:"Endorsements",description:"When someone endorses your skills"}]},{title:"Research Activity",items:[{key:"research_citation",label:"Research Citations",description:"When your work is cited"},{key:"research_saved",label:"Research Saved",description:"When someone bookmarks your research",premium:!0},{key:"research_match",label:"Research Matches",description:"New research matching your interests"}]},{title:"Collaboration",items:[{key:"collaboration_invite",label:"Collaboration Invitations",description:"Research collaboration requests"},{key:"group_invite",label:"Group Invitations",description:"Invitations to join research groups"},{key:"coauthor_request",label:"Co-author Requests",description:"Requests to co-author papers"}]},{title:"Opportunities",items:[{key:"grant_match",label:"Grant Matches",description:"New grants matching your frameworks"},{key:"job_match",label:"Job Matches",description:"New jobs matching your expertise"},{key:"grant_deadline",label:"Grant Deadlines",description:"Reminders for saved grants"},{key:"application_status",label:"Application Updates",description:"Status changes on your applications"}]},{title:"Community",items:[{key:"discussion_comment",label:"Discussion Comments",description:"Comments on your discussions"},{key:"discussion_mention",label:"Mentions",description:"When someone mentions you"},{key:"group_activity",label:"Group Activity",description:"Updates from groups you joined"},{key:"event_reminder",label:"Event Reminders",description:"Upcoming events and webinars"}]},{title:"System",items:[{key:"security_alert",label:"Security Alerts",description:"Important account security notifications"},{key:"subscription_update",label:"Subscription Updates",description:"Billing and subscription changes"},{key:"platform_announcement",label:"Platform Announcements",description:"New features and updates"}]}];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs(ne,{to:"/notifications",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[r.jsx(Yi,{className:"w-4 h-4"}),"Back to Notifications"]}),r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Notification Settings"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Customize how you receive notifications and stay updated on what matters most to you"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 mb-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Email Digest"}),r.jsx("p",{className:"text-base text-gray-600 mb-6",children:"Choose how often you want to receive email summaries of your notifications"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digest Frequency"}),r.jsxs("select",{value:e.email_digest,onChange:d=>t({...e,email_digest:d.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none",children:[r.jsx("option",{value:"realtime",children:"Real-time (as they happen)"}),r.jsx("option",{value:"daily",children:"Daily Digest"}),r.jsx("option",{value:"weekly",children:"Weekly Digest"}),r.jsx("option",{value:"never",children:"Never"})]})]}),e.email_digest==="weekly"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day of Week"}),r.jsxs("select",{value:e.digest_day,onChange:d=>t({...e,digest_day:d.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-full focus:border-[#009edb] focus:outline-none",children:[r.jsx("option",{value:"monday",children:"Monday"}),r.jsx("option",{value:"tuesday",children:"Tuesday"}),r.jsx("option",{value:"wednesday",children:"Wednesday"}),r.jsx("option",{value:"thursday",children:"Thursday"}),r.jsx("option",{value:"friday",children:"Friday"}),r.jsx("option",{value:"saturday",children:"Saturday"}),r.jsx("option",{value:"sunday",children:"Sunday"})]})]})]})]}),r.jsx("div",{className:"space-y-8",children:c.map((d,u)=>r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:d.title}),r.jsx("div",{className:"space-y-4",children:d.items.map(m=>{const f=e.email_notifications.hasOwnProperty(m.key),g=e.push_notifications.hasOwnProperty(m.key);return r.jsxs("div",{className:"flex items-start justify-between py-4 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:m.label}),m.premium&&r.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-semibold rounded-full",children:"Premium"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:m.description})]}),r.jsxs("div",{className:"flex items-center gap-6 ml-8",children:[f&&r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.email_notifications[m.key],onChange:()=>a(m.key),disabled:m.premium&&m.key.includes("view"),className:"w-5 h-5 text-[#009edb] border-gray-300 rounded focus:ring-[#009edb]"}),r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx(ri,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Email"})]})]}),g&&r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e.push_notifications[m.key],onChange:()=>i(m.key),className:"w-5 h-5 text-[#009edb] border-gray-300 rounded focus:ring-[#009edb]"}),r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx(ii,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Push"})]})]})]})]},m.key)})})]},u))}),r.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Changes are saved automatically"}),r.jsxs("button",{onClick:o,disabled:n==="saving",className:"flex items-center gap-2 px-8 py-3 bg-[#009edb] text-white rounded-full font-medium hover:bg-[#0077b3] disabled:bg-gray-300 transition-all",children:[n==="saving"&&"Saving...",n==="saved"&&r.jsxs(r.Fragment,{children:[r.jsx(Ae,{className:"w-5 h-5"}),"Saved!"]}),!n&&"Save Settings"]})]})]})})]})}const Xoe="http://localhost:3001",ele=Nt.create({baseURL:`${Xoe}/api`,withCredentials:!0,headers:{"Content-Type":"application/json"}}),tle={searchUsers:e=>ele.get("/users/search",{params:{q:e}})};function rle(){var B,z,X;const e=Yt(),t=dl(),{user:n}=Ot(),s=ml(),a=(B=t.state)==null?void 0:B.recipient,[i,o]=p.useState(a||null),[c,d]=p.useState(""),[u,m]=p.useState(!a),[f,g]=p.useState("direct_message"),[x,v]=p.useState(""),[w,b]=p.useState(""),[j,S]=p.useState([]),{data:_,isLoading:k}=kr({queryKey:["searchUsers",c],queryFn:()=>tle.searchUsers(c).then(le=>le.data),enabled:c.length>=2&&!!n}),A=(_==null?void 0:_.users)||[],P=[{value:"direct_message",label:"General Message",icon:r.jsx(ri,{className:"w-4 h-4"})},{value:"paper_request",label:"Paper Request",icon:r.jsx(ri,{className:"w-4 h-4"})},{value:"collaboration_proposal",label:"Collaboration Proposal",icon:r.jsx(ri,{className:"w-4 h-4"})},{value:"data_request",label:"Data Request",icon:r.jsx(ri,{className:"w-4 h-4"})}],E=le=>{o(le),m(!1),d("")},T=Ti({mutationFn:le=>yp.sendMessage(le),onSuccess:()=>{s.invalidateQueries(["conversations"]),s.invalidateQueries(["unreadCount"]),e("/messages",{state:{messageSent:!0,recipient:i.first_name+" "+i.last_name}})},onError:le=>{var $,ae;alert(((ae=($=le.response)==null?void 0:$.data)==null?void 0:ae.message)||"Failed to send message")}}),M=async le=>{if(le.preventDefault(),!i||!w.trim()){alert("Please select a recipient and write a message");return}T.mutate({recipient_id:i.id,subject:x||void 0,body:w})},U=le=>{const $=Array.from(le.target.files);S([...j,...$])},D=le=>{S(j.filter(($,ae)=>ae!==le))};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs(ne,{to:"/messages",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[r.jsx(Yi,{className:"w-4 h-4"}),"Back to Messages"]}),r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"New Message"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl",children:"Send a message to another COMPASS ID user"})]})}),r.jsx("section",{className:"py-12 px-4 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-5xl mx-auto",children:r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["To: ",i&&r.jsxs("span",{className:"text-gray-600",children:["(",i.compass_id,")"]})]}),i?r.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white font-semibold",children:[(z=i.first_name)==null?void 0:z[0],(X=i.last_name)==null?void 0:X[0]]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold text-gray-900",children:[i.first_name," ",i.last_name]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[i.institution,i.position&&`  ${i.position}`]})]})]}),r.jsx("button",{type:"button",onClick:()=>{o(null),m(!0)},className:"p-2 text-gray-500 hover:text-red-600 transition-colors",children:r.jsx(Rt,{className:"w-5 h-5"})})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx(Dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name, COMPASS ID, or institution...",value:c,onChange:le=>d(le.target.value),onFocus:()=>m(!0),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:border-[#009edb] focus:outline-none"})]}),u&&c&&r.jsx("div",{className:"mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-64 overflow-y-auto",children:k?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"Searching..."}):A.length>0?A.map(le=>{var $,ae;return r.jsxs("button",{type:"button",onClick:()=>E(le),className:"w-full flex items-center gap-3 p-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsxs("span",{className:"text-white font-semibold text-sm",children:[($=le.first_name)==null?void 0:$[0],(ae=le.last_name)==null?void 0:ae[0]]})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsxs("div",{className:"font-semibold text-gray-900",children:[le.first_name," ",le.last_name]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[le.compass_id,"  ",le.institution]})]})]},le.id)}):r.jsx("div",{className:"p-4 text-center text-gray-500",children:c.length<2?"Type at least 2 characters to search":"No users found"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Message Type"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(le=>r.jsxs("button",{type:"button",onClick:()=>g(le.value),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all ${f===le.value?"bg-[#009edb] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[le.icon,le.label]},le.value))})]}),f!=="direct_message"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Subject"}),r.jsx("input",{type:"text",value:x,onChange:le=>v(le.target.value),placeholder:"Enter subject...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-[#009edb] focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Message"}),r.jsx("textarea",{value:w,onChange:le=>b(le.target.value),placeholder:"Write your message...",rows:"10",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-[#009edb] focus:outline-none resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Attachments"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all cursor-pointer",children:[r.jsx(pb,{className:"w-5 h-5"}),r.jsx("span",{children:"Attach File"}),r.jsx("input",{type:"file",multiple:!0,onChange:U,className:"hidden"})]}),r.jsx("span",{className:"text-sm text-gray-500",children:j.length>0?`${j.length} file(s) attached`:"No files attached"})]}),j.length>0&&r.jsx("div",{className:"mt-3 space-y-2",children:j.map((le,$)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pb,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-900",children:le.name}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",(le.size/1024).toFixed(1)," KB)"]})]}),r.jsx("button",{type:"button",onClick:()=>D($),className:"p-1 text-gray-500 hover:text-red-600 transition-colors",children:r.jsx(Rt,{className:"w-4 h-4"})})]},$))})]}),r.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>e("/messages"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50 transition-all font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:!i||!w.trim()||T.isPending,className:"px-8 py-3 bg-[#009edb] text-white rounded-full hover:bg-[#0077b3] disabled:bg-gray-300 disabled:cursor-not-allowed transition-all font-medium",children:T.isPending?"Sending...":"Send Message"})]})]})})})]})}function nle(){const[e,t]=p.useState("overview"),[n,s]=p.useState(null),[a,i]=p.useState(null),[o,c]=p.useState(null),[d,u]=p.useState(null),[m,f]=p.useState(null),[g,x]=p.useState(!1),[v,w]=p.useState(""),[b,j]=p.useState(""),[S,_]=p.useState(!1),[k,A]=p.useState(null),[P,E]=p.useState({title:"",slug:"",excerpt:"",content:"",category:"research",tags:"",featured_image:"",status:"draft"}),T={total_users:15234,verified_users:3421,pending_verifications:2,total_research_papers:23456,pending_grants:2,pending_jobs:1,active_subscriptions:2341,revenue_this_month:74532,new_users_this_week:234},M=[{id:"g1",title:"Marine Conservation Research Grant",funder:"Ocean Foundation",amount:"$150,000",deadline:"2024-12-31",description:"Seeking innovative research proposals for marine conservation projects focusing on coral reef restoration and ocean plastic reduction. Projects should demonstrate clear impact potential and alignment with SDG 14.",frameworks:["SDG 14","CBD Post-2020"],geographic_scope:"Global",eligibility:"Early career researchers, PhD students, Postdocs",posted_by:"Dr. Sarah Chen",posted_by_id:"user-123",created_at:"2 hours ago",status:"pending"},{id:"g2",title:"Climate Adaptation Fellowship",funder:"Global Climate Fund",amount:"$85,000",deadline:"2024-11-15",description:"Fellowship program supporting climate adaptation research in vulnerable communities. Focus areas include urban resilience, agricultural adaptation, and community-based adaptation strategies.",frameworks:["Paris Agreement","SDG 13"],geographic_scope:"Developing Countries",eligibility:"All career stages",posted_by:"Prof. James Wilson",posted_by_id:"user-124",created_at:"5 hours ago",status:"pending"}],U=[{id:"j1",title:"Postdoctoral Researcher - Marine Biology",institution:"Stanford University",location:"Stanford, CA",type:"Postdoctoral",salary:"$65,000 - $75,000",description:"We are seeking a postdoctoral researcher to join our marine biology lab focusing on coral reef ecosystems and climate change impacts. The position involves field work, data analysis, and publication of research findings.",requirements:"PhD in Marine Biology or related field, experience with coral reef research, strong publication record",frameworks:["SDG 14","CBD"],posted_by:"Dr. Maria Garcia",posted_by_id:"user-125",created_at:"1 hour ago",status:"pending"}],D=[{id:"v1",user_id:"user-201",user:"Dr. Emily Johnson",email:"emily.johnson@harvard.edu",institution:"Harvard University",department:"Environmental Science",user_type:"researcher",orcid:"0000-0002-1234-5678",bio:"Climate scientist specializing in Arctic research and climate modeling.",evidence_url:"https://harvard.edu/faculty/emily-johnson",publications:45,requested_at:"1 day ago"},{id:"v2",user_id:"user-202",user:"Ocean Conservancy Foundation",email:"grants@oceanconservancy.org",institution:"Ocean Conservancy",department:"Grants & Partnerships",user_type:"funder",website:"https://oceanconservancy.org",bio:"Leading ocean conservation organization providing grants for marine research and conservation projects.",requested_at:"2 days ago"}],B=[{id:"t1",user:"John Smith",user_email:"john@example.com",subject:"Cannot upload research paper",category:"technical",priority:"high",status:"open",description:'I am trying to upload my research paper but keep getting an error message saying "File upload failed". I have tried different browsers and file formats but nothing works.',created_at:"30 minutes ago",messages:[]},{id:"t2",user:"Dr. Lisa Wong",user_email:"lisa.wong@example.com",subject:"Verification request status",category:"verification",priority:"medium",status:"in_progress",description:"I submitted my verification request 3 days ago but haven't heard back. Could you please check the status?",created_at:"2 hours ago",messages:[{from:"admin",text:"We are currently reviewing your submission. Will update you soon.",time:"1 hour ago"}]}],z=[{id:"r1",reporter:"Anonymous User",reported_type:"grant",reported_item:"Fake Research Grant",reason:"spam",description:"This grant posting appears to be spam. The organization doesn't exist and the website is fake.",created_at:"1 hour ago",status:"pending"},{id:"r2",reporter:"Dr. Sarah Chen",reported_type:"research",reported_item:"Plagiarized Research Paper",reason:"copyright",description:"This research paper appears to be copied from my published work without attribution.",created_at:"3 hours ago",status:"pending"}],X=[{id:"a1",admin:"You",action:"grant_approved",details:'Approved "Climate Research Fellowship"',created_at:"10 minutes ago"},{id:"a2",admin:"Admin User",action:"user_verified",details:"Verified Dr. Sarah Chen",created_at:"1 hour ago"}],le=[{id:"blog1",title:"Aligning Research with Global Policy: A Comprehensive Guide",slug:"aligning-research-with-global-policy",excerpt:"Learn how to align your research with major global policy frameworks like the UN SDGs and Paris Agreement.",category:"research",tags:["SDGs","Policy","Research"],author:"COMPASS ID Team",status:"published",featured_image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40",created_at:"2024-10-01",updated_at:"2024-10-01"},{id:"blog2",title:"Understanding the Paris Agreement for Researchers",slug:"paris-agreement-for-researchers",excerpt:"A detailed breakdown of how the Paris Agreement impacts research funding and opportunities.",category:"policy",tags:["Paris Agreement","Climate"],author:"Dr. Jane Smith",status:"draft",featured_image:"",created_at:"2024-10-02",updated_at:"2024-10-02"}],$=Z=>{s(null),alert("Grant approved successfully!")},ae=(Z,J)=>{if(!J.trim()){alert("Please provide a rejection reason");return}s(null),j(""),alert("Grant rejected successfully!")},G=Z=>{i(null),alert("Job approved successfully!")},ie=(Z,J)=>{if(!J.trim()){alert("Please provide a rejection reason");return}i(null),j(""),alert("Job rejected successfully!")},ce=Z=>{c(null),alert("User verified successfully!")},I=(Z,J)=>{if(!J.trim()){alert("Please provide a rejection reason");return}c(null),j(""),alert("Verification rejected successfully!")},pe=Z=>{if(!v.trim()){alert("Please enter a reply message");return}w(""),alert("Reply sent successfully!")},Q=(Z,J)=>{f(null),alert(`Report ${J} successfully!`)},xe=()=>{if(!P.title||!P.content){alert("Please fill in title and content");return}_(!1),E({title:"",slug:"",excerpt:"",content:"",category:"research",tags:"",featured_image:"",status:"draft"}),A(null),alert("Blog post saved successfully!")},je=Z=>{A(Z),E({title:Z.title,slug:Z.slug,excerpt:Z.excerpt,content:Z.excerpt,category:Z.category,tags:Z.tags.join(", "),featured_image:Z.featured_image,status:Z.status}),_(!0)},Re=Z=>{confirm("Are you sure you want to delete this blog post?")&&alert("Blog post deleted successfully!")},rt=(Z,J)=>{alert(`Blog post ${(J==="published"?"draft":"published")==="published"?"published":"unpublished"} successfully!`)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Jp,{className:"w-8 h-8 text-primary-600"}),"Admin Dashboard"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage COMPASS ID platform"})]}),r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(BP,{className:"w-5 h-5"}),"Settings"]})})]})})}),r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsx("div",{className:"flex gap-6",children:[{id:"overview",label:"Overview",icon:en},{id:"grants",label:"Grants",icon:bt,badge:T.pending_grants},{id:"jobs",label:"Jobs",icon:Jo,badge:T.pending_jobs},{id:"verifications",label:"Verifications",icon:FP,badge:T.pending_verifications},{id:"reports",label:"Reports",icon:i$,badge:z.length},{id:"tickets",label:"Support",icon:zi,badge:B.length},{id:"blog",label:"Blog",icon:_$},{id:"users",label:"All Users",icon:Qn}].map(Z=>r.jsxs("button",{onClick:()=>t(Z.id),className:`px-4 py-3 font-medium transition-colors relative flex items-center gap-2 ${e===Z.id?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Z.icon,{className:"w-5 h-5"}),Z.label,Z.badge>0&&r.jsx("span",{className:"bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Z.badge})]},Z.id))})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e==="overview"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Qn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[r.jsx(um,{className:"w-4 h-4"}),"+12%"]})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.total_users.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Users"}),r.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[T.new_users_this_week," new this week"]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Ae,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[r.jsx(um,{className:"w-4 h-4"}),"+8%"]})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.verified_users.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Verified Users"}),r.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[T.pending_verifications," pending"]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(bt,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[r.jsx(um,{className:"w-4 h-4"}),"+15%"]})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.total_research_papers.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Research Papers"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(Jo,{className:"w-6 h-6 text-orange-600"})}),r.jsx("div",{className:"text-sm text-gray-600",children:"Revenue"})]}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["$",(T.revenue_this_month/1e3).toFixed(1),"k"]}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"This Month"}),r.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[T.active_subscriptions," active subscriptions"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(hc,{className:"w-5 h-5 text-orange-600"}),"Action Required"]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[T.pending_grants," Pending Grants"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Need review and approval"})]}),r.jsx("button",{onClick:()=>t("grants"),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:"Review"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[T.pending_jobs," Pending Jobs"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Need review and approval"})]}),r.jsx("button",{onClick:()=>t("jobs"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Review"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[T.pending_verifications," Verification Requests"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Users requesting verification badge"})]}),r.jsx("button",{onClick:()=>t("verifications"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Review"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Admin Activity"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:X.map(Z=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Ae,{className:"w-5 h-5 text-primary-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:Z.admin}),r.jsx("div",{className:"text-sm text-gray-600",children:Z.details}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Z.created_at})]})]})},Z.id))})]})]})]}),e==="grants"&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Pending Grant Approvals"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review and approve/reject grant postings before they appear publicly"})]}),r.jsx("div",{className:"divide-y divide-gray-200",children:M.map(Z=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.title}),r.jsxs("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:["Funder: ",r.jsx("span",{className:"font-medium",children:Z.funder})]}),r.jsxs("div",{children:["Amount: ",r.jsx("span",{className:"font-medium text-green-600",children:Z.amount})]}),r.jsxs("div",{children:["Posted by: ",r.jsx("span",{className:"font-medium",children:Z.posted_by}),"  ",Z.created_at]})]})]}),r.jsxs("button",{onClick:()=>s(Z),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2 ml-6",children:[r.jsx(RS,{className:"w-5 h-5"}),"Review"]})]})},Z.id))})]}),e==="jobs"&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Pending Job Approvals"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review and approve/reject job postings before they appear publicly"})]}),r.jsx("div",{className:"divide-y divide-gray-200",children:U.map(Z=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.title}),r.jsxs("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:["Institution: ",r.jsx("span",{className:"font-medium",children:Z.institution})]}),r.jsxs("div",{children:["Location: ",r.jsx("span",{className:"font-medium",children:Z.location})]}),r.jsxs("div",{children:["Posted by: ",r.jsx("span",{className:"font-medium",children:Z.posted_by}),"  ",Z.created_at]})]})]}),r.jsxs("button",{onClick:()=>i(Z),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2 ml-6",children:[r.jsx(RS,{className:"w-5 h-5"}),"Review"]})]})},Z.id))})]}),e==="verifications"&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Pending Verifications"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Users requesting verification badge - click to view profile and verify"})]}),r.jsx("div",{className:"divide-y divide-gray-200",children:D.map(Z=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.user}),r.jsxs("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:["Institution: ",r.jsx("span",{className:"font-medium",children:Z.institution})]}),r.jsxs("div",{children:["Type: ",r.jsx("span",{className:"font-medium capitalize",children:Z.user_type})]}),r.jsxs("div",{className:"text-gray-500",children:["Requested ",Z.requested_at]})]})]}),r.jsxs("button",{onClick:()=>c(Z),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2 ml-6",children:[r.jsx(Sj,{className:"w-5 h-5"}),"View Profile"]})]})},Z.id))})]}),e==="reports"&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Content Reports"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"User-reported content for review"})]}),r.jsx("div",{className:"divide-y divide-gray-200",children:z.map(Z=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:Z.reason}),r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 capitalize",children:Z.reported_type})]}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.reported_item}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:Z.description}),r.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Reported by: ",Z.reporter,"  ",Z.created_at]})]}),r.jsx("button",{onClick:()=>f(Z),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors ml-6",children:"Review"})]})},Z.id))})]}),e==="tickets"&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Support Tickets"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and reply to user support tickets"})]}),r.jsx("div",{className:"divide-y divide-gray-200",children:B.map(Z=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z.priority==="high"?"bg-red-100 text-red-700":Z.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:Z.priority}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z.status==="open"?"bg-blue-100 text-blue-700":Z.status==="in_progress"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:Z.status.replace("_"," ")})]}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.subject}),r.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[r.jsxs("div",{children:["User: ",r.jsx("span",{className:"font-medium",children:Z.user})]}),r.jsxs("div",{children:["Category: ",r.jsx("span",{className:"font-medium capitalize",children:Z.category})]}),r.jsx("div",{className:"text-gray-500 mt-1",children:Z.created_at})]})]}),r.jsxs("button",{onClick:()=>u(Z),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2 ml-6",children:[r.jsx(zi,{className:"w-5 h-5"}),"View & Reply"]})]})},Z.id))})]}),e==="blog"&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Blog Management"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create and manage blog posts"})]}),r.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2",children:[r.jsx(sa,{className:"w-5 h-5"}),"New Post"]})]}),r.jsx("div",{className:"divide-y divide-gray-200",children:le.map(Z=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.title}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z.status==="published"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Z.status})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:Z.excerpt}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsx("span",{className:"capitalize",children:Z.category}),r.jsx("span",{children:""}),r.jsx("span",{children:Z.author}),r.jsx("span",{children:""}),r.jsx("span",{children:Z.updated_at})]})]}),r.jsxs("div",{className:"flex gap-2 ml-6",children:[r.jsx("button",{onClick:()=>je(Z),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(A$,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>rt(Z.id,Z.status),className:`px-3 py-2 rounded-lg transition-colors text-sm font-medium ${Z.status==="published"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:Z.status==="published"?"Unpublish":"Publish"}),r.jsx("button",{onClick:()=>Re(Z.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(Rs,{className:"w-5 h-5"})})]})]})},Z.id))})]}),e==="users"&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"All Users"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Browse and manage all platform users (search, ban, view activity)"})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center text-gray-500 py-12",children:[r.jsx(Qn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"User Management Coming Soon"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Search users, view profiles, manage permissions, and ban/unban users"})]})})]})]}),n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Review Grant"}),r.jsx("button",{onClick:()=>{s(null),j("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:n.title}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Funder:"}),r.jsx("p",{className:"font-medium text-gray-900",children:n.funder})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Amount:"}),r.jsx("p",{className:"font-medium text-green-600 text-lg",children:n.amount})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Deadline:"}),r.jsx("p",{className:"font-medium text-gray-900",children:n.deadline})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Geographic Scope:"}),r.jsx("p",{className:"font-medium text-gray-900",children:n.geographic_scope})]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.description})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Eligibility"}),r.jsx("p",{className:"text-gray-700",children:n.eligibility})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Policy Frameworks"}),r.jsx("div",{className:"flex gap-2",children:n.frameworks.map(Z=>r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:Z},Z))})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Posted by: ",r.jsx("span",{className:"font-medium text-gray-900",children:n.posted_by}),"  ",n.created_at]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Rejection Reason (if rejecting)"}),r.jsx("textarea",{value:b,onChange:Z=>j(Z.target.value),placeholder:"Provide a reason if rejecting this grant...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent resize-none",rows:"3"})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end sticky bottom-0 bg-white",children:[r.jsxs("button",{onClick:()=>ae(n.id,b),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[r.jsx(mm,{className:"w-5 h-5"}),"Reject"]}),r.jsxs("button",{onClick:()=>$(n.id),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[r.jsx(Ae,{className:"w-5 h-5"}),"Approve & Publish"]})]})]})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Review Job"}),r.jsx("button",{onClick:()=>{i(null),j("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:a.title}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Institution:"}),r.jsx("p",{className:"font-medium text-gray-900",children:a.institution})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsx("p",{className:"font-medium text-gray-900",children:a.location})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Type:"}),r.jsx("p",{className:"font-medium text-gray-900",children:a.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Salary:"}),r.jsx("p",{className:"font-medium text-green-600",children:a.salary})]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.description})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Requirements"}),r.jsx("p",{className:"text-gray-700",children:a.requirements})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Related Frameworks"}),r.jsx("div",{className:"flex gap-2",children:a.frameworks.map(Z=>r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:Z},Z))})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Posted by: ",r.jsx("span",{className:"font-medium text-gray-900",children:a.posted_by}),"  ",a.created_at]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Rejection Reason (if rejecting)"}),r.jsx("textarea",{value:b,onChange:Z=>j(Z.target.value),placeholder:"Provide a reason if rejecting this job...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent resize-none",rows:"3"})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end sticky bottom-0 bg-white",children:[r.jsxs("button",{onClick:()=>ie(a.id,b),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[r.jsx(mm,{className:"w-5 h-5"}),"Reject"]}),r.jsxs("button",{onClick:()=>G(a.id),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[r.jsx(Ae,{className:"w-5 h-5"}),"Approve & Publish"]})]})]})}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"User Verification Request"}),r.jsx("button",{onClick:()=>{c(null),j("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:o.user.charAt(0)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:o.user}),r.jsx("p",{className:"text-gray-600 mt-1",children:o.email}),r.jsx("div",{className:"flex gap-2 mt-3",children:r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm capitalize",children:o.user_type})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:"Institution"}),r.jsx("p",{className:"text-gray-700",children:o.institution})]}),o.department&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:"Department"}),r.jsx("p",{className:"text-gray-700",children:o.department})]}),o.orcid&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:"ORCID"}),r.jsx("p",{className:"text-gray-700 font-mono",children:o.orcid})]}),o.publications&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:"Publications"}),r.jsxs("p",{className:"text-gray-700",children:[o.publications," papers"]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Bio"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.bio})]}),o.evidence_url&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Evidence"}),r.jsx("a",{href:o.evidence_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 underline",children:o.evidence_url})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Verification requested ",o.requested_at]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Rejection Reason (if rejecting)"}),r.jsx("textarea",{value:b,onChange:Z=>j(Z.target.value),placeholder:"Provide a reason if rejecting verification...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent resize-none",rows:"3"})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end sticky bottom-0 bg-white",children:[r.jsxs("button",{onClick:()=>I(o.user_id,b),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[r.jsx(mm,{className:"w-5 h-5"}),"Reject"]}),r.jsxs("button",{onClick:()=>ce(o.user_id),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[r.jsx(Ae,{className:"w-5 h-5"}),"Verify User"]})]})]})}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:d.subject}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.priority==="high"?"bg-red-100 text-red-700":d.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:d.priority}),r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 capitalize",children:d.category})]})]}),r.jsx("button",{onClick:()=>{u(null),w("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["From: ",d.user," (",d.user_email,")"]}),r.jsx("p",{className:"text-sm text-gray-500",children:d.created_at})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:d.user}),r.jsx("p",{className:"text-gray-700",children:d.description})]}),d.messages.map((Z,J)=>r.jsxs("div",{className:`rounded-lg p-4 ${Z.from==="admin"?"bg-primary-50":"bg-gray-50"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:Z.from==="admin"?"Admin":d.user}),r.jsx("p",{className:"text-gray-700",children:Z.text}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Z.time})]},J))]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Your Reply"}),r.jsx("textarea",{value:v,onChange:Z=>w(Z.target.value),placeholder:"Type your reply to the user...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent resize-none",rows:"4"})]})]}),r.jsx("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end sticky bottom-0 bg-white",children:r.jsxs("button",{onClick:()=>pe(d.id),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2",children:[r.jsx(ux,{className:"w-5 h-5"}),"Send Reply"]})})]})}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Content Report"}),r.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium",children:m.reason}),r.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-medium capitalize",children:m.reported_type})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Reported Item"}),r.jsx("p",{className:"text-gray-900",children:m.reported_item})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-700",children:m.description})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Reported by: ",m.reporter,"  ",m.created_at]})})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end sticky bottom-0 bg-white",children:[r.jsx("button",{onClick:()=>Q(m.id,"dismissed"),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Dismiss Report"}),r.jsx("button",{onClick:()=>Q(m.id,"removed"),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Remove Content"})]})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Admin Settings"}),r.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Email Notifications"}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600",defaultChecked:!0}),r.jsx("span",{className:"text-sm text-gray-700",children:"Notify me of new pending approvals"})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Auto-Approval"}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Auto-approve from verified users"})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Content Moderation"}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600",defaultChecked:!0}),r.jsx("span",{className:"text-sm text-gray-700",children:"Enable AI spam detection"})]})]})]})}),r.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>x(!1),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Save Settings"})})]})}),S&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k?"Edit Blog Post":"Create New Blog Post"}),r.jsx("button",{onClick:()=>{_(!1),A(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:P.title,onChange:Z=>E({...P,title:Z.target.value}),placeholder:"Enter blog post title",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"URL Slug"}),r.jsx("input",{type:"text",value:P.slug,onChange:Z=>E({...P,slug:Z.target.value}),placeholder:"url-friendly-slug (auto-generated if empty)",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Category"}),r.jsxs("select",{value:P.category,onChange:Z=>E({...P,category:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent",children:[r.jsx("option",{value:"research",children:"Research"}),r.jsx("option",{value:"policy",children:"Policy"}),r.jsx("option",{value:"grants",children:"Grants"}),r.jsx("option",{value:"guides",children:"Guides"}),r.jsx("option",{value:"news",children:"News"}),r.jsx("option",{value:"community",children:"Community"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Status"}),r.jsxs("select",{value:P.status,onChange:Z=>E({...P,status:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent",children:[r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"published",children:"Published"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Featured Image URL"}),r.jsx("input",{type:"text",value:P.featured_image,onChange:Z=>E({...P,featured_image:Z.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Excerpt"}),r.jsx("textarea",{value:P.excerpt,onChange:Z=>E({...P,excerpt:Z.target.value}),placeholder:"Brief summary of the blog post (shown in listings)",rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Content *"}),r.jsx("textarea",{value:P.content,onChange:Z=>E({...P,content:Z.target.value}),placeholder:"Write your blog post content here... (Markdown supported)",rows:"12",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent resize-none font-mono text-sm"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supports Markdown formatting"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Tags"}),r.jsx("input",{type:"text",value:P.tags,onChange:Z=>E({...P,tags:Z.target.value}),placeholder:"SDGs, Policy, Climate (comma-separated)",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end sticky bottom-0 bg-white",children:[r.jsx("button",{onClick:()=>{_(!1),A(null)},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:xe,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:k?"Update Post":"Create Post"})]})]})})]})}function sle(){const{user:e}=Ot(),t=Yt(),[n,s]=p.useState("faq"),[a,i]=p.useState(null),[o,c]=p.useState({category:"technical",priority:"medium",subject:"",description:""}),[d,u]=p.useState(!1),m=[{category:"Getting Started",questions:[{id:1,question:"What is COMPASS ID?",answer:"COMPASS ID is an open infrastructure platform that helps researchers align their work with global policy frameworks like the UN SDGs, Paris Agreement, and CBD. We make research discoverable by its real-world impact potential and connect researchers with funding opportunities."},{id:2,question:"How do I create an account?",answer:'Click the "Register" button in the navigation bar. Fill in your basic information including name, email, institution, and optional ORCID ID. Once registered, you can complete your profile and start adding research.'},{id:3,question:"Is COMPASS ID free to use?",answer:"Yes! COMPASS ID offers a free tier that includes browsing research, creating a profile, and adding your publications. We also offer Premium plans with advanced analytics, AI grant writing assistance, and API access."}]},{category:"Research & Publications",questions:[{id:4,question:"How do I add my research?",answer:'Go to your Dashboard and click "Add Research" or navigate to the Add Research page. Enter your publication details, DOI if available, and tag it with relevant policy frameworks and geographic scope.'},{id:5,question:"What policy frameworks can I align my research with?",answer:"We support major frameworks including UN SDGs, Paris Agreement, CBD Post-2020, Ramsar Convention, CITES, and many more. Browse our Frameworks page to see the full list."},{id:6,question:"Can I import my publications from ORCID?",answer:"ORCID integration is coming soon! For now, you can manually add publications one at a time or contact us about bulk import options."}]},{category:"Grants & Funding",questions:[{id:7,question:"How do I find relevant grants?",answer:"Visit the Grants page and use filters to search by framework alignment, geographic region, amount, and deadline. You can also save grants and set up alerts for new opportunities matching your interests."},{id:8,question:"Can I post a grant opportunity?",answer:"Yes, verified users can post grants. Request verification from your profile settings by providing evidence of your organization. Once verified, you can post grants which will be reviewed by our admin team before going live."},{id:9,question:"How does the AI grant writing tool work?",answer:"Our AI Grant Writing assistant helps you draft compelling grant applications based on your research and the grant requirements. Premium users get 25,000 words per month. The tool provides suggestions, helps structure your application, and aligns it with funder priorities."}]},{category:"Verification & Trust",questions:[{id:10,question:"What does the verified badge mean?",answer:"A verified badge means we've confirmed the user's identity and institutional affiliation. Verified users can post grants and jobs. To get verified, go to your profile settings and request verification with supporting evidence."},{id:11,question:"How do I get verified?",answer:'Visit your profile settings and click "Request Verification". Upload evidence such as institutional email, organization website link, or official documentation. Our team will review your request within 3-5 business days.'},{id:12,question:"Are all grants and jobs verified?",answer:"Yes! All grants and jobs go through admin review before appearing publicly. This ensures quality and prevents spam or scams."}]},{category:"Account & Billing",questions:[{id:13,question:"How do I upgrade to Premium?",answer:"Visit the Premium page to see our plans. Choose Analytics Premium ($15/month), AI Grant Writing ($20/month), or the Bundle ($32/month for both). Institutional plans are also available."},{id:14,question:"Can I cancel my subscription anytime?",answer:"Yes, you can cancel anytime from your account settings. You'll retain access until the end of your current billing period."},{id:15,question:"Do you offer institutional subscriptions?",answer:"Yes! Contact us at partnerships@compassid.org for institutional pricing and features including team accounts, priority support, and custom integrations."}]}],f=g=>{if(g.preventDefault(),!e){t("/login");return}u(!0),c({category:"technical",priority:"medium",subject:"",description:""}),setTimeout(()=>u(!1),5e3)};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"How can we help?"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto",children:"Get answers to common questions or submit a support ticket"})]})}),r.jsx("div",{className:"border-b border-gray-200 bg-white sticky top-0 z-10",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4",children:r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("button",{onClick:()=>s("faq"),className:`px-4 py-4 font-medium transition-colors relative flex items-center gap-2 ${n==="faq"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(M$,{className:"w-5 h-5"}),"FAQ"]}),r.jsxs("button",{onClick:()=>s("ticket"),className:`px-4 py-4 font-medium transition-colors relative flex items-center gap-2 ${n==="ticket"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(zi,{className:"w-5 h-5"}),"Submit Ticket"]}),r.jsxs("button",{onClick:()=>s("contact"),className:`px-4 py-4 font-medium transition-colors relative flex items-center gap-2 ${n==="contact"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(ri,{className:"w-5 h-5"}),"Contact"]})]})})}),n==="faq"&&r.jsx("section",{className:"py-12 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:m.map((g,x)=>r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:g.category}),r.jsx("div",{className:"space-y-4",children:g.questions.map(v=>r.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[r.jsxs("button",{onClick:()=>i(a===v.id?null:v.id),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsx("span",{className:"font-semibold text-gray-900 text-left",children:v.question}),a===v.id?r.jsx(dx,{className:"w-5 h-5 text-gray-500 flex-shrink-0 ml-4"}):r.jsx(la,{className:"w-5 h-5 text-gray-500 flex-shrink-0 ml-4"})]}),a===v.id&&r.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.answer})})]},v.id))})]},x))})}),n==="ticket"&&r.jsx("section",{className:"py-12 px-4",children:r.jsx("div",{className:"max-w-3xl mx-auto",children:e?d?r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-8 text-center",children:[r.jsx(Ae,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ticket Submitted!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We've received your support request. Our team will respond within 24-48 hours."}),r.jsx("button",{onClick:()=>s("faq"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Browse FAQ"})]}):r.jsxs("form",{onSubmit:f,className:"bg-white border border-gray-200 rounded-xl p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Submit Support Ticket"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Category"}),r.jsxs("select",{value:o.category,onChange:g=>c({...o,category:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-primary-600 focus:outline-none",children:[r.jsx("option",{value:"technical",children:"Technical Issue"}),r.jsx("option",{value:"billing",children:"Billing Question"}),r.jsx("option",{value:"verification",children:"Verification Request"}),r.jsx("option",{value:"content",children:"Content Issue"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Priority"}),r.jsxs("select",{value:o.priority,onChange:g=>c({...o,priority:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-primary-600 focus:outline-none",children:[r.jsx("option",{value:"low",children:"Low - General question"}),r.jsx("option",{value:"medium",children:"Medium - Issue affecting usage"}),r.jsx("option",{value:"high",children:"High - Blocking my work"}),r.jsx("option",{value:"urgent",children:"Urgent - Critical issue"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Subject"}),r.jsx("input",{type:"text",value:o.subject,onChange:g=>c({...o,subject:g.target.value}),placeholder:"Brief description of your issue",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-primary-600 focus:outline-none"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Description"}),r.jsx("textarea",{value:o.description,onChange:g=>c({...o,description:g.target.value}),placeholder:"Please provide as much detail as possible...",rows:"8",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-primary-600 focus:outline-none resize-none"})]}),r.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors font-medium",children:"Submit Ticket"}),r.jsx("p",{className:"text-sm text-gray-500 mt-4 text-center",children:"Typical response time: 24-48 hours"})]}):r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 text-center",children:[r.jsx(mp,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Login Required"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"You need to be logged in to submit a support ticket"}),r.jsx(ne,{to:"/login",className:"inline-block px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Login to Continue"})]})})}),n==="contact"&&r.jsx("section",{className:"py-12 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"General Inquiries"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"For general questions about COMPASS ID"}),r.jsx("a",{href:"mailto:contact@compassid.org",className:"text-primary-600 hover:text-primary-700 font-medium",children:"contact@compassid.org"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Technical Support"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Having technical issues? We're here to help"}),r.jsx("a",{href:"mailto:support@compassid.org",className:"text-primary-600 hover:text-primary-700 font-medium",children:"support@compassid.org"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Partnerships"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Interested in partnering with us?"}),r.jsx("a",{href:"mailto:partnerships@compassid.org",className:"text-primary-600 hover:text-primary-700 font-medium",children:"partnerships@compassid.org"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Data & API Access"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Request access to our data or API"}),r.jsx("a",{href:"mailto:data@compassid.org",className:"text-primary-600 hover:text-primary-700 font-medium",children:"data@compassid.org"})]})]})})})]})}function ale({onSuccess:e,onCancel:t}){const n=ZM(),s=VM(),[a,i]=p.useState(null),[o,c]=p.useState(!1),d={style:{base:{color:"#1f2937",fontFamily:"system-ui, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#9ca3af"}},invalid:{color:"#ef4444",iconColor:"#ef4444"}}},u=async m=>{if(m.preventDefault(),!n||!s)return;c(!0),i(null);const f=s.getElement(o3),{error:g,paymentMethod:x}=await n.createPaymentMethod({type:"card",card:f});if(g){i(g.message),c(!1);return}try{setTimeout(()=>{c(!1),e==null||e({brand:x.card.brand,last4:x.card.last4,expMonth:x.card.exp_month,expYear:x.card.exp_year})},1e3)}catch(v){i(v.message||"Failed to update payment method"),c(!1)}};return r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Card Information"}),r.jsx("div",{className:"p-4 border border-gray-300 rounded-xl",children:r.jsx(o3,{options:d})})]}),a&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:a})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"submit",disabled:!n||o,className:"flex-1 bg-gradient-to-r from-primary-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-primary-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:o?"Updating...":"Update Payment Method"}),r.jsx("button",{type:"button",onClick:t,disabled:o,className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}function ile({isOpen:e,onClose:t,onSuccess:n}){if(!e)return null;const s=a=>{n==null||n(a),t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full",children:[r.jsxs("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center",children:r.jsx(Kp,{className:"w-6 h-6 text-primary-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Update Payment Method"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Rt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Your payment method will be securely stored and used for future subscription charges."}),r.jsx(X2,{stripe:TM,children:r.jsx(ale,{onSuccess:s,onCancel:t})}),r.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),r.jsx("p",{className:"text-xs text-gray-600",children:"Your payment information is encrypted and secure. We use Stripe for payment processing and never store your full card details."})]})})]})]})})}function ole(){var T,M,U,D;const{user:e,updateUser:t}=Ot(),[n,s]=p.useState("profile"),[a,i]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[o,c]=p.useState({newEmail:"",password:""}),[d,u]=p.useState(!1),[m,f]=p.useState(""),[g,x]=p.useState(!1),[v,w]=p.useState(null),[b,j]=p.useState(!1);p.useEffect(()=>{const B=new URLSearchParams(window.location.search),z=B.get("payment"),X=B.get("session_id");z==="success"&&X&&(S(),window.history.replaceState({},document.title,window.location.pathname))},[]);const S=async()=>{try{const B=await ei.getProfile();t(B.data.user)}catch(B){console.error("Failed to refresh user data:",B)}},_=[{id:"profile",label:"Profile",icon:Sj},{id:"security",label:"Security",icon:Jp},{id:"billing",label:"Billing & Subscriptions",icon:Kp},{id:"notifications",label:"Notifications",icon:ii}],k=B=>{if(B.preventDefault(),a.newPassword!==a.confirmPassword){alert("New passwords do not match");return}if(a.newPassword.length<8){alert("Password must be at least 8 characters");return}alert("Password changed successfully!"),i({currentPassword:"",newPassword:"",confirmPassword:""})},A=B=>{B.preventDefault(),alert("Verification email sent to "+o.newEmail),c({newEmail:"",password:""})},P=async()=>{j(!0);try{await gie(),alert("Subscription cancelled. You will have access until the end of your billing period."),u(!1),f(""),await S()}catch(B){alert("Failed to cancel subscription: "+B.message)}finally{j(!1)}},E=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Account Settings"}),r.jsx("p",{className:"text-gray-600",children:"Manage your account preferences and settings"})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("div",{className:"flex overflow-x-auto",children:_.map(B=>r.jsxs("button",{onClick:()=>s(B.id),className:`px-6 py-4 font-medium transition-colors flex items-center gap-2 whitespace-nowrap ${n===B.id?"text-primary-600 border-b-2 border-primary-600 bg-primary-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(B.icon,{className:"w-5 h-5"}),B.label]},B.id))})}),r.jsxs("div",{className:"p-8",children:[n==="profile"&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Profile Information"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"First Name"}),r.jsx("input",{type:"text",defaultValue:e==null?void 0:e.first_name,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",defaultValue:e==null?void 0:e.last_name,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Institution"}),r.jsx("input",{type:"text",defaultValue:e==null?void 0:e.institution,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"ORCID iD"}),r.jsx("input",{type:"text",defaultValue:e==null?void 0:e.orcid_id,placeholder:"0000-0000-0000-0000",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsx("div",{children:r.jsx("button",{className:"px-6 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors",children:"Save Changes"})})]})]})}),n==="security"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Change Email"}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-blue-800",children:["Current email: ",r.jsx("span",{className:"font-semibold",children:e==null?void 0:e.email})]})}),r.jsxs("form",{onSubmit:A,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"New Email"}),r.jsx("input",{type:"email",value:o.newEmail,onChange:B=>c({...o,newEmail:B.target.value}),required:!0,placeholder:"newemail@example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Confirm Password"}),r.jsx("input",{type:"password",value:o.password,onChange:B=>c({...o,password:B.target.value}),required:!0,placeholder:"Enter your current password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsx("button",{type:"submit",className:"px-6 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors",children:"Update Email"})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-8"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Change Password"}),r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Current Password"}),r.jsx("input",{type:"password",value:a.currentPassword,onChange:B=>i({...a,currentPassword:B.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"New Password"}),r.jsx("input",{type:"password",value:a.newPassword,onChange:B=>i({...a,newPassword:B.target.value}),required:!0,placeholder:"At least 8 characters",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Confirm New Password"}),r.jsx("input",{type:"password",value:a.confirmPassword,onChange:B=>i({...a,confirmPassword:B.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]}),r.jsx("button",{type:"submit",className:"px-6 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors",children:"Change Password"})]})]})]}),n==="billing"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Current Subscription"}),e!=null&&e.subscriptions&&e.subscriptions.length>0?r.jsx("div",{className:"space-y-4",children:e.subscriptions.map(B=>r.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-purple-50 rounded-xl p-6 border border-primary-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 capitalize",children:[B.type," Plan"]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${B.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:B.status})]}),r.jsxs("p",{className:"text-gray-600 capitalize",children:[B.tier," tier"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["$",B.price]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["per ",B.billing_period]})]})]}),r.jsxs("div",{className:"border-t border-primary-200 pt-4 mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Plan Features:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[B.features.analytics_access&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Ae,{className:"w-4 h-4 text-green-600"}),"Advanced Analytics"]}),B.features.grant_writing_words&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Ae,{className:"w-4 h-4 text-green-600"}),B.features.grant_writing_words.toLocaleString()," AI words/month"]}),B.features.api_access&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Ae,{className:"w-4 h-4 text-green-600"}),"API Access"]}),B.features.priority_support&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Ae,{className:"w-4 h-4 text-green-600"}),"Priority Support"]})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{children:["Billing period: ",E(B.current_period_start)," - ",E(B.current_period_end)]}),B.cancel_at_period_end&&r.jsxs("div",{className:"mt-2 text-orange-600 font-medium",children:[" Subscription will cancel on ",E(B.current_period_end)]})]})]},B.id))}):r.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any active subscriptions"}),r.jsx("a",{href:"/premium",className:"inline-block px-6 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors",children:"View Premium Plans"})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-8"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment Method"}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:v?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded flex items-center justify-center",children:r.jsx(Kp,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold text-gray-900",children:["   ",v.last4]}),r.jsxs("div",{className:"text-sm text-gray-600 capitalize",children:[v.brand,"  Expires ",v.expMonth,"/",v.expYear]})]})]}),r.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Update"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No payment method on file"}),r.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Add Payment Method"})]})})]}),r.jsx("div",{className:"border-t border-gray-200 pt-8"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Billing History"}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No billing history yet - Check back soon"})})})]}),r.jsx("div",{className:"border-t border-gray-200 pt-8"}),((M=(T=e==null?void 0:e.subscriptions)==null?void 0:T[0])==null?void 0:M.status)==="active"&&!e.subscriptions[0].cancel_at_period_end&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cancel Subscription"}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Yp,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Cancel your subscription"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You'll continue to have access until the end of your billing period. Your data will be preserved."}),r.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Subscription"})]})]})})]})]}),n==="notifications"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Receive updates about your account via email"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Grant Opportunities"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Get notified about new grants matching your interests"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Research Collaborations"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Invitations to join research groups and discussions"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Platform Updates"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"News about new features and improvements"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]})]})]})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Cancel Subscription"}),r.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Rt,{className:"w-6 h-6 text-gray-500"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-gray-600 mb-4",children:["We're sorry to see you go. Your subscription will remain active until"," ",r.jsx("span",{className:"font-semibold",children:E((D=(U=e==null?void 0:e.subscriptions)==null?void 0:U[0])==null?void 0:D.current_period_end)}),"."]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-blue-800",children:"You can reactivate your subscription at any time before this date."})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Help us improve - Why are you cancelling? (Optional)"}),r.jsx("textarea",{value:m,onChange:B=>f(B.target.value),placeholder:"Let us know what we could do better...",rows:"4",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent resize-none"})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>u(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Keep Subscription"}),r.jsx("button",{onClick:P,disabled:b,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Cancelling...":"Cancel Subscription"})]})]})}),r.jsx(ile,{isOpen:g,onClose:()=>x(!1),onSuccess:B=>{w(B),alert("Payment method updated successfully!")}})]})}function lle(){var is;const{user:e}=Ot(),[t]=bI(),[n,s]=p.useState(null),[a,i]=p.useState([]),[o,c]=p.useState([]),[d,u]=p.useState(""),[m,f]=p.useState(!1),[g,x]=p.useState(null),[v,w]=p.useState({papers:[],frameworks:[],geography:[],taxonomy:[]}),[b,j]=p.useState(!0),[S,_]=p.useState(!0),[k,A]=p.useState(""),P=p.useRef(null),E=p.useRef(0),T=p.useRef(!1),[M,U]=p.useState(null),[D,B]=p.useState(""),[z,X]=p.useState(!1),[le,$]=p.useState(!1),[ae,G]=p.useState(!1),[ie,ce]=p.useState(!1),[I,pe]=p.useState(!1),[Q,xe]=p.useState(""),[je,Re]=p.useState(!1),[rt,Z]=p.useState({name:"",type:"",description:"",url:""}),[J,De]=p.useState({name:"",type:"",lat:"",lon:""}),[Fe,ge]=p.useState({scientificName:"",commonName:"",rank:""}),[te,Te]=p.useState(null),[Le,ze]=p.useState([]),[Qe,Tt]=p.useState([]),[At,W]=p.useState([]),[R,ee]=p.useState([]),[se,we]=p.useState([]),ue=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.subscription)==="premium"||(e==null?void 0:e.subscription_status)==="active"||((is=e==null?void 0:e.subscriptions)==null?void 0:is.some(Y=>["premium","grant_writing","bundle","enterprise"].includes(Y.type)&&Y.status==="active")),[ye,He]=p.useState({queriesUsed:0,queriesLimit:0,resetDate:null,isUnlimited:!1}),[ut,Bt]=p.useState(!1),qt={papers:[],frameworks:[],geography:[],taxonomy:[]},rr=g?[`What are the key objectives of ${g.name}?`,`How does ${g.name} impact global policy?`,`What are the reporting requirements for ${g.name}?`,`What research opportunities are available related to ${g.name}?`,`How can I align my research with ${g.name}?`,`What are the compliance mechanisms for ${g.name}?`]:["What are the key findings about climate change impacts in the selected research?","How do these papers align with UN SDG 14 targets?","What conservation measures are recommended for the Southern Ocean?","Summarize the methodology used in these studies","What are the policy implications of these findings?","Compare research trends across different geographic regions"];p.useEffect(()=>{e&&(async()=>{try{const me=await fetch(Sr("/api/usage/ai-queries"),{credentials:"include"});if(me.ok){const Be=await me.json();He({queriesUsed:Be.queriesUsed,queriesLimit:Be.queriesLimit,resetDate:Be.resetDate})}}catch(me){console.error("Failed to fetch usage:",me)}})()},[e]),p.useEffect(()=>{const Y=t.get("framework"),me=t.get("id");if(Y){const Be=ar.find(at=>at.name===Y||at.id===parseInt(me));Be&&(x(Be),w(at=>({...at,frameworks:[Be]})))}},[t]),p.useEffect(()=>{E.current=o.length,T.current=!1},[o]);const K=async(Y,me="monthly")=>{try{const Be=await J2(Y,me);Be.url&&(window.location.href=Be.url)}catch(Be){console.error("Checkout error:",Be),alert(`Failed to start checkout: ${Be.message}`)}},Se=async()=>{if(!d.trim()||m)return;const Y={id:Date.now(),type:"user",content:d,timestamp:new Date};c(Be=>[...Be,Y]);const me=d;u(""),f(!0);try{const at=[...v.papers,...Le].filter((Pe,ft,qe)=>ft===qe.findIndex(Me=>Me.doi&&Pe.doi?Me.doi===Pe.doi:Me.id===Pe.id)),Lt=[...v.frameworks,...Qe].filter((Pe,ft,qe)=>ft===qe.findIndex(Me=>Me.id===Pe.id)),on=[...v.geography,...At].filter((Pe,ft,qe)=>ft===qe.findIndex(Me=>Me.id===Pe.id)),Ye=[...v.taxonomy,...R].filter((Pe,ft,qe)=>ft===qe.findIndex(Me=>Me.id===Pe.id)),nt=await Q2({question:me,papers:at,frameworks:Lt,geography:on,taxonomy:Ye,conversationHistory:o});if(nt.success){const Pe={id:Date.now()+1,type:"assistant",content:nt.response,timestamp:new Date,context:{papersUsed:at.length,frameworksUsed:Lt.length,geographyUsed:on.length,taxonomyUsed:Ye.length},metadata:nt.metadata},ft=[...o,Y,Pe];c(qe=>[...qe,Pe]),He(qe=>({...qe,queriesUsed:qe.queriesUsed+1})),Kr(ft)}else{const Pe={id:Date.now()+1,type:"assistant",content:`Sorry, I encountered an error: ${nt.error||"Failed to generate response"}. Please try again.`,timestamp:new Date,isError:!0};c(ft=>[...ft,Pe])}}catch(Be){console.error("Chat Error:",Be);const at={id:Date.now()+1,type:"assistant",content:"Sorry, I encountered an error while processing your request. Please try again.",timestamp:new Date,isError:!0};c(Ie=>[...Ie,at])}finally{f(!1)}},Oe=(Y,me)=>{(Y==="papers"?v[Y].some(at=>at.doi&&me.doi&&at.doi===me.doi):v[Y].some(at=>at.id===me.id))||w(at=>({...at,[Y]:[...at[Y],me]}))},lt=(Y,me)=>{w(Be=>({...Be,[Y]:Be[Y].filter(at=>at.id!==me)}))},Qt=()=>Object.values(v).reduce((Y,me)=>Y+me.length,0),$t=()=>{s(null),c([]),w({papers:[],frameworks:[],geography:[],taxonomy:[]})},an=Y=>{T.current=!0,s(Y.id),c(Y.messages||[]),w(Y.context||{papers:[],frameworks:[],geography:[],taxonomy:[]})},Kr=(Y=null)=>{var Ie;const me=Y||o;if(me.length===0)return;const Be=((Ie=me[0])==null?void 0:Ie.content.substring(0,50))+"..."||"New Conversation",at=new Date().toISOString().split("T")[0];if(n)i(Lt=>Lt.map(Xt=>Xt.id===n?{...Xt,messages:me,context:v,updated:at}:Xt));else{const Lt={id:"conv_"+Date.now(),title:Be,created:at,updated:at,messages:me,context:v};i(Xt=>[Lt,...Xt]),s(Lt.id)}},zt=Y=>{i(me=>me.filter(Be=>Be.id!==Y)),n===Y&&$t()},Hs=(Y,me)=>{me.stopPropagation(),U(Y.id),B(Y.title)},Dr=Y=>{D.trim()&&i(me=>me.map(Be=>Be.id===Y?{...Be,title:D.trim()}:Be)),U(null),B("")},yn=()=>{U(null),B("")},Bn=Y=>k?Y.filter(me=>(me.title||me.name).toLowerCase().includes(k.toLowerCase())):Y,Jt=async()=>{var Y;if(Q.trim()){Re(!0);try{const me=Q.replace(/^doi:\s*/i,"").trim(),at=[...Le,...v.papers].find(Xt=>Xt.doi===me);if(at){v.papers.some(Xt=>Xt.doi===me)||Oe("papers",at),xe(""),X(!1),Re(!1);return}const Ie=await fetch(Sr(`/api/papers/crossref/${encodeURIComponent(me)}`));let Lt=null;if(Ie.ok&&(Lt=await Ie.json()),Lt){const Xt=Lt.publicationDate?new Date(Lt.publicationDate).getFullYear():new Date().getFullYear(),on=((Y=Lt.authors)==null?void 0:Y.map(Ye=>Ye.name).join(", "))||"Unknown authors",re={id:"custom_"+Date.now(),title:Lt.title,authors:on,year:Xt,doi:Lt.doi,type:"custom",abstract:Lt.abstract||"No abstract available",journal:Lt.journal,citationCount:Lt.citationCount,urls:Lt.urls};ze(Ye=>[...Ye,re]),Oe("papers",re)}else{const Xt={id:"custom_"+Date.now(),title:`Research Paper (DOI: ${me})`,authors:"DOI not found in CrossRef",year:new Date().getFullYear(),doi:me,type:"custom",abstract:`Paper identified by DOI ${me}. Metadata not available in CrossRef.`};ze(on=>[...on,Xt]),Oe("papers",Xt)}xe(""),X(!1)}catch(me){console.error("Error fetching DOI:",me);const Be=Q.replace(/^doi:\s*/i,"").trim(),at={id:"custom_"+Date.now(),title:`Research Paper (DOI: ${Be})`,authors:"Error fetching metadata",year:new Date().getFullYear(),doi:Be,type:"custom",abstract:`Paper identified by DOI ${Be}. Error fetching metadata: ${me.message}`};ze(Ie=>[...Ie,at]),Oe("papers",at),xe(""),X(!1)}finally{Re(!1)}}},$n=()=>{if(!J.name.trim())return;const Y={id:"custom_geo_"+Date.now(),name:J.name,type:J.type||"Custom Location",coordinates:J.lat&&J.lon?[parseFloat(J.lon),parseFloat(J.lat)]:null,isCustom:!0};W(me=>[...me,Y]),Oe("geography",Y),De({name:"",type:"",lat:"",lon:""}),G(!1)},$a=()=>{if(!rt.name.trim())return;const Y={id:"custom_framework_"+Date.now(),name:rt.name,type:rt.type||"Custom Framework",description:rt.description,url:rt.url,isCustom:!0};Tt(me=>[...me,Y]),Oe("frameworks",Y),Z({name:"",type:"",description:"",url:""}),$(!1)},Br=()=>{if(!Fe.scientificName.trim()&&!Fe.commonName.trim())return;const Y={id:"custom_taxon_"+Date.now(),name:Fe.scientificName||Fe.commonName,scientific_name:Fe.scientificName,common_name:Fe.commonName,type:Fe.rank||"Species",isCustom:!0};ee(me=>[...me,Y]),Oe("taxonomy",Y),ge({scientificName:"",commonName:"",rank:""}),ce(!1)},vn=Y=>{var Ie;const me=(Ie=Y.target.files)==null?void 0:Ie[0];if(!me)return;if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(me.type)){alert("Please upload a PDF, DOCX, or TXT file");return}if(me.size>10*1024*1024){alert("File size must be less than 10MB");return}const at={id:"custom_doc_"+Date.now(),title:me.name,type:"custom_document",size:(me.size/1024).toFixed(2)+" KB",uploadedAt:new Date().toISOString(),file:me};we(Lt=>[...Lt,at]),Oe("papers",at),pe(!1)};return ue?r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-20",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-purple-500 rounded-xl flex items-center justify-center",children:r.jsx(Ct,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:["AI Research Assistant",g&&r.jsxs("span",{className:"text-base font-normal text-gray-600 ml-2",children:["- ",g.name]})]}),r.jsxs("button",{onClick:()=>{ye.queriesLimit<1e3&&ye.queriesUsed>=ye.queriesLimit*.8&&Bt(!0)},className:`text-sm ${ye.queriesLimit<1e3&&ye.queriesUsed>=ye.queriesLimit*.8?"text-orange-600 hover:text-orange-700 cursor-pointer":"text-gray-600"}`,children:[ye.queriesUsed," / ",ye.queriesLimit>=1e3?"Unlimited":ye.queriesLimit," queries this month",ye.queriesLimit<1e3&&ye.queriesUsed>=ye.queriesLimit*.8&&r.jsx("span",{className:"ml-2 text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full",children:"Upgrade available"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>_(!S),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Toggle conversations",children:r.jsx(RP,{className:"w-6 h-6 text-gray-600"})}),r.jsx("button",{onClick:()=>j(!b),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Toggle context panel",children:r.jsx(uB,{className:"w-6 h-6 text-gray-600"})}),r.jsxs("button",{onClick:$t,className:"px-4 py-2 bg-gradient-to-r from-primary-600 to-purple-600 text-white rounded-lg hover:from-primary-700 hover:to-purple-700 transition-all flex items-center gap-2 font-medium",children:[r.jsx(sa,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"New Chat"})]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto flex",style:{height:"calc(100vh - 73px)"},children:[S&&r.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col lg:block hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(zi,{className:"w-5 h-5"}),"Conversations"]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:a.map(Y=>r.jsxs("div",{className:`p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer group ${n===Y.id?"bg-primary-50 border-l-4 border-l-primary-600":""}`,onClick:()=>an(Y),children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[M===Y.id?r.jsx("input",{type:"text",value:D,onChange:me=>B(me.target.value),onBlur:()=>Dr(Y.id),onKeyPress:me=>{me.key==="Enter"&&Dr(Y.id),me.key==="Escape"&&yn()},onClick:me=>me.stopPropagation(),autoFocus:!0,className:"flex-1 px-2 py-1 text-sm border border-primary-300 rounded focus:ring-2 focus:ring-primary-600 focus:border-transparent"}):r.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 flex-1 cursor-pointer hover:text-primary-600",onClick:me=>Hs(Y,me),children:Y.title}),r.jsx("button",{onClick:me=>{me.stopPropagation(),zt(Y.id)},className:"opacity-0 group-hover:opacity-100 text-red-600 hover:text-red-700 transition-opacity ml-2",children:r.jsx(Rs,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(hc,{className:"w-3 h-3"}),Y.updated]})]},Y.id))})]}),r.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.length===0?r.jsxs("div",{className:"max-w-3xl mx-auto text-center py-12",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Rm,{className:"w-10 h-10 text-primary-600"})}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"How can I help with your research?"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Select papers, frameworks, or regions from the side panel, then ask me anything"}),r.jsx("div",{className:"grid gap-3 mb-8",children:rr.map((Y,me)=>r.jsx("button",{onClick:()=>u(Y),className:"text-left p-4 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-xl text-sm text-gray-700 transition-colors",children:Y},me))}),Qt()===0&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Tip:"})," Add research papers or frameworks from the right panel to get started"]})})]}):r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.map(Y=>{var me;return r.jsxs("div",{className:`flex gap-3 ${Y.type==="user"?"justify-end":"justify-start"}`,children:[Y.type==="assistant"&&r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-purple-500 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ct,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:`max-w-2xl ${Y.type==="user"?"bg-gradient-to-r from-primary-600 to-purple-600 text-white":"bg-gray-100 text-gray-900 border border-gray-200"} rounded-2xl px-6 py-4`,children:[r.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:Y.content}),Y.context&&Object.values(Y.context).some(Be=>Be>0)&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300 flex flex-wrap items-center gap-3 text-xs text-gray-600",children:[Y.context.papersUsed>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(bt,{className:"w-4 h-4"}),Y.context.papersUsed," papers"]}),Y.context.frameworksUsed>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ti,{className:"w-4 h-4"}),Y.context.frameworksUsed," frameworks"]}),Y.context.geographyUsed>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(cr,{className:"w-4 h-4"}),Y.context.geographyUsed," regions"]})]})]}),Y.type==="user"&&r.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-gray-700 text-sm font-semibold",children:((me=e==null?void 0:e.first_name)==null?void 0:me[0])||"U"})})]},Y.id)}),m&&r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-purple-500 rounded-lg flex items-center justify-center",children:r.jsx(Vp,{className:"w-5 h-5 text-white animate-spin"})}),r.jsx("div",{className:"bg-gray-100 border border-gray-200 rounded-2xl px-6 py-4",children:r.jsx("p",{className:"text-gray-600 text-sm",children:"Analyzing your research context..."})})]}),r.jsx("div",{ref:P})]})}),r.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",value:d,onChange:Y=>u(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&Se(),placeholder:"Ask about your research...",disabled:m||ye.queriesUsed>=ye.queriesLimit,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent disabled:opacity-50 disabled:bg-gray-50"}),r.jsxs("button",{onClick:Se,disabled:!d.trim()||m||ye.queriesUsed>=ye.queriesLimit,className:"px-6 py-3 bg-gradient-to-r from-primary-600 to-purple-600 text-white rounded-xl font-semibold hover:from-primary-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:[r.jsx(ux,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]}),ye.queriesUsed>=ye.queriesLimit&&r.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["You've reached your monthly limit. Upgrade or wait until ",ye.resetDate,"."]})]})})]}),b&&r.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 sticky top-0 bg-white z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"font-semibold text-gray-900",children:"Research Context"}),r.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600 lg:hidden",children:r.jsx(Rt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search context...",value:k,onChange:Y=>A(Y.target.value),className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[Qt()>0&&r.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary-50 to-purple-50 border-b border-primary-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:["Active (",Qt(),")"]}),r.jsx("button",{onClick:()=>w({papers:[],frameworks:[],geography:[],taxonomy:[]}),className:"text-xs text-red-600 hover:text-red-700",children:"Clear All"})]}),r.jsx("div",{className:"space-y-1",children:Object.entries(v).map(([Y,me])=>me.map(Be=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded text-xs group",children:[r.jsx("span",{className:"flex-1 truncate font-medium",children:Be.title||Be.name}),r.jsx("button",{onClick:()=>lt(Y,Be.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:r.jsx(Rt,{className:"w-4 h-4"})})]},`${Y}-${Be.id}`)))})]}),r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(bt,{className:"w-5 h-5 text-primary-600"}),"Research Papers"]}),r.jsx("button",{onClick:()=>X(!z),className:"p-1 hover:bg-primary-100 rounded text-primary-600 transition-colors",title:"Add paper",children:r.jsx(sa,{className:"w-5 h-5"})})]}),z&&r.jsx("div",{className:"mb-3 p-3 bg-primary-50 border border-primary-200 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Add by DOI"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"10.1234/example",value:Q,onChange:Y=>xe(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&Jt(),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-primary-600 focus:border-transparent"}),r.jsx("button",{onClick:Jt,disabled:je||!Q.trim(),className:"w-20 px-3 py-1.5 bg-primary-600 text-white text-xs rounded hover:bg-primary-700 disabled:opacity-50 transition-colors",children:je?"...":"Add"})]})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"text-xs text-gray-600 text-center",children:"or"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Upload Document"}),r.jsxs("label",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx(bB,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-xs text-gray-700",children:"Choose PDF, DOCX, or TXT"}),r.jsx("input",{type:"file",accept:".pdf,.docx,.txt",onChange:vn,className:"hidden"})]})]}),r.jsx("button",{onClick:()=>X(!1),className:"text-xs text-gray-600 hover:text-gray-800 w-full text-center",children:"Cancel"})]})}),r.jsxs("div",{className:"space-y-2",children:[[...Le,...se].map(Y=>{const me=v.papers.some(Be=>Be.id===Y.id);return r.jsxs("button",{onClick:()=>me?lt("papers",Y.id):Oe("papers",Y),className:`w-full text-left p-3 border rounded-lg transition-all ${me?"bg-green-50 border-green-300 shadow-sm":"border-purple-200 bg-purple-50 hover:border-purple-300"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 text-sm mb-1 flex items-start gap-2",children:[me&&r.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),!me&&r.jsx(bt,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"flex-1",children:Y.title})]}),Y.doi&&r.jsxs("div",{className:"text-xs text-gray-600",children:["DOI: ",Y.doi]}),Y.size&&r.jsxs("div",{className:"text-xs text-gray-600",children:["Uploaded  ",Y.size]}),Y.authors&&r.jsxs("div",{className:"text-xs text-gray-600",children:[Y.authors,"  ",Y.year]})]},Y.id)}),Bn(qt.papers).map(Y=>{const me=v.papers.some(Be=>Be.id===Y.id);return r.jsxs("button",{onClick:()=>me?lt("papers",Y.id):Oe("papers",Y),className:`w-full text-left p-3 border rounded-lg transition-all ${me?"bg-green-50 border-green-300 shadow-sm":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 text-sm mb-1 flex items-start gap-2",children:[me&&r.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"flex-1",children:Y.title})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[Y.authors,"  ",Y.year]})]},Y.id)})]})]}),r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(ti,{className:"w-5 h-5 text-purple-600"}),"Policy Frameworks"]}),r.jsx("button",{onClick:()=>$(!le),className:"p-1 hover:bg-purple-100 rounded text-purple-600 transition-colors",title:"Add framework",children:r.jsx(sa,{className:"w-5 h-5"})})]}),le&&r.jsx("div",{className:"mb-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Framework Name *"}),r.jsx("input",{type:"text",placeholder:"e.g., National Biodiversity Strategy",value:rt.name,onChange:Y=>Z(me=>({...me,name:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Type"}),r.jsxs("select",{value:rt.type,onChange:Y=>Z(me=>({...me,type:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-purple-600 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select type..."}),r.jsx("option",{value:"International Treaty",children:"International Treaty"}),r.jsx("option",{value:"UN SDG",children:"UN SDG"}),r.jsx("option",{value:"Regional Framework",children:"Regional Framework"}),r.jsx("option",{value:"National Policy",children:"National Policy"}),r.jsx("option",{value:"Industry Standard",children:"Industry Standard"}),r.jsx("option",{value:"Conservation Framework",children:"Conservation Framework"}),r.jsx("option",{value:"Climate Framework",children:"Climate Framework"}),r.jsx("option",{value:"Custom",children:"Custom"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Description"}),r.jsx("textarea",{placeholder:"Brief description of the framework...",value:rt.description,onChange:Y=>Z(me=>({...me,description:Y.target.value})),rows:2,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-purple-600 focus:border-transparent resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"URL (optional)"}),r.jsx("input",{type:"url",placeholder:"https://...",value:rt.url,onChange:Y=>Z(me=>({...me,url:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-2 pt-1",children:[r.jsx("button",{onClick:$a,disabled:!rt.name.trim(),className:"flex-1 px-3 py-1.5 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 disabled:opacity-50 transition-colors",children:"Add Framework"}),r.jsx("button",{onClick:()=>{$(!1),Z({name:"",type:"",description:"",url:""})},className:"px-3 py-1.5 text-xs text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})}),r.jsxs("div",{className:"space-y-2",children:[Qe.map(Y=>{const me=v.frameworks.some(Be=>Be.id===Y.id);return r.jsxs("button",{onClick:()=>me?lt("frameworks",Y.id):Oe("frameworks",Y),className:`w-full text-left p-3 border rounded-lg transition-all ${me?"bg-green-50 border-green-300 shadow-sm":"border-purple-200 bg-purple-50 hover:border-purple-300"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 text-sm mb-1 flex items-start gap-2",children:[me&&r.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),!me&&r.jsx(ti,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"flex-1",children:Y.name})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[Y.type,"  Custom"]}),Y.description&&r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:Y.description})]},Y.id)}),Bn(qt.frameworks).map(Y=>{const me=v.frameworks.some(Be=>Be.id===Y.id);return r.jsxs("button",{onClick:()=>me?lt("frameworks",Y.id):Oe("frameworks",Y),className:`w-full text-left p-3 border rounded-lg transition-all ${me?"bg-green-50 border-green-300 shadow-sm":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 text-sm mb-1 flex items-start gap-2",children:[me&&r.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"flex-1",children:Y.name})]}),r.jsx("div",{className:"text-xs text-gray-600",children:Y.type})]},Y.id)})]})]}),r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(cr,{className:"w-5 h-5 text-blue-600"}),"Geographic Regions"]}),r.jsx("button",{onClick:()=>G(!ae),className:"p-1 hover:bg-blue-100 rounded text-blue-600 transition-colors",title:"Add location",children:r.jsx(sa,{className:"w-5 h-5"})})]}),ae&&r.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Location Name *"}),r.jsx("input",{type:"text",placeholder:"e.g., Ross Sea, Antarctica",value:J.name,onChange:Y=>De(me=>({...me,name:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Type"}),r.jsxs("select",{value:J.type,onChange:Y=>De(me=>({...me,type:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select type..."}),r.jsx("option",{value:"Country",children:"Country"}),r.jsx("option",{value:"Region",children:"Region"}),r.jsx("option",{value:"Marine Area",children:"Marine Area"}),r.jsx("option",{value:"Protected Area",children:"Protected Area"}),r.jsx("option",{value:"Study Site",children:"Study Site"}),r.jsx("option",{value:"Custom",children:"Custom"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block flex items-center gap-1",children:[r.jsx(Wt,{className:"w-3 h-3"})," Latitude"]}),r.jsx("input",{type:"number",step:"0.0001",placeholder:"-75.5",value:J.lat,onChange:Y=>De(me=>({...me,lat:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block flex items-center gap-1",children:[r.jsx(Wt,{className:"w-3 h-3"})," Longitude"]}),r.jsx("input",{type:"number",step:"0.0001",placeholder:"165.5",value:J.lon,onChange:Y=>De(me=>({...me,lon:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex gap-2 pt-1",children:[r.jsx("button",{onClick:$n,disabled:!J.name.trim(),className:"flex-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50 transition-colors",children:"Add Location"}),r.jsx("button",{onClick:()=>{G(!1),De({name:"",type:"",lat:"",lon:""})},className:"px-3 py-1.5 text-xs text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})}),r.jsxs("div",{className:"space-y-2",children:[At.map(Y=>{const me=v.geography.some(Be=>Be.id===Y.id);return r.jsxs("button",{onClick:()=>me?lt("geography",Y.id):Oe("geography",Y),className:`w-full text-left p-3 border rounded-lg transition-all ${me?"bg-green-50 border-green-300 shadow-sm":"border-blue-200 bg-blue-50 hover:border-blue-300"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 text-sm mb-1 flex items-start gap-2",children:[me&&r.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),!me&&r.jsx(Wt,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"flex-1",children:Y.name})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[Y.type,"  Custom"]})]},Y.id)}),Bn(qt.geography).map(Y=>{const me=v.geography.some(Be=>Be.id===Y.id);return r.jsxs("button",{onClick:()=>me?lt("geography",Y.id):Oe("geography",Y),className:`w-full text-left p-3 border rounded-lg transition-all ${me?"bg-green-50 border-green-300 shadow-sm":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 text-sm mb-1 flex items-start gap-2",children:[me&&r.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"flex-1",children:Y.name})]}),r.jsx("div",{className:"text-xs text-gray-600",children:Y.type})]},Y.id)})]})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Cr,{className:"w-5 h-5 text-green-600"}),"Species & Taxonomy"]}),r.jsx("button",{onClick:()=>ce(!ie),className:"p-1 hover:bg-green-100 rounded text-green-600 transition-colors",title:"Add species",children:r.jsx(sa,{className:"w-5 h-5"})})]}),ie&&r.jsx("div",{className:"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Scientific Name"}),r.jsx("input",{type:"text",placeholder:"e.g., Aptenodytes forsteri",value:Fe.scientificName,onChange:Y=>ge(me=>({...me,scientificName:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent italic"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Common Name"}),r.jsx("input",{type:"text",placeholder:"e.g., Emperor Penguin",value:Fe.commonName,onChange:Y=>ge(me=>({...me,commonName:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Taxonomic Rank"}),r.jsxs("select",{value:Fe.rank,onChange:Y=>ge(me=>({...me,rank:Y.target.value})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select rank..."}),r.jsx("option",{value:"Species",children:"Species"}),r.jsx("option",{value:"Genus",children:"Genus"}),r.jsx("option",{value:"Family",children:"Family"}),r.jsx("option",{value:"Order",children:"Order"}),r.jsx("option",{value:"Class",children:"Class"}),r.jsx("option",{value:"Phylum",children:"Phylum"}),r.jsx("option",{value:"Kingdom",children:"Kingdom"})]})]}),r.jsxs("div",{className:"flex gap-2 pt-1",children:[r.jsx("button",{onClick:Br,disabled:!Fe.scientificName.trim()&&!Fe.commonName.trim(),className:"flex-1 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50 transition-colors",children:"Add Species"}),r.jsx("button",{onClick:()=>{ce(!1),ge({scientificName:"",commonName:"",rank:""})},className:"px-3 py-1.5 text-xs text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})}),r.jsxs("div",{className:"space-y-2",children:[R.map(Y=>{const me=v.taxonomy.some(Be=>Be.id===Y.id);return r.jsxs("button",{onClick:()=>me?lt("taxonomy",Y.id):Oe("taxonomy",Y),className:`w-full text-left p-3 border rounded-lg transition-all ${me?"bg-green-50 border-green-300 shadow-sm":"border-green-200 bg-green-50 hover:border-green-300"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 text-sm mb-1 flex items-start gap-2",children:[me&&r.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),!me&&r.jsx(Cr,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{className:"flex-1",children:[Y.scientific_name&&r.jsx("span",{className:"italic",children:Y.scientific_name}),Y.scientific_name&&Y.common_name&&r.jsxs("span",{children:[" (",Y.common_name,")"]}),!Y.scientific_name&&Y.common_name]})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[Y.type,"  Custom"]})]},Y.id)}),Bn(qt.taxonomy).map(Y=>{const me=v.taxonomy.some(Be=>Be.id===Y.id);return r.jsxs("button",{onClick:()=>me?lt("taxonomy",Y.id):Oe("taxonomy",Y),className:`w-full text-left p-3 border rounded-lg transition-all ${me?"bg-green-50 border-green-300 shadow-sm":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 text-sm mb-1 flex items-start gap-2",children:[me&&r.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"flex-1",children:Y.name})]}),r.jsx("div",{className:"text-xs text-gray-600",children:Y.type})]},Y.id)})]})]})]})]})]}),ut&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-8 shadow-2xl",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"You've Reached Your Query Limit"}),r.jsxs("p",{className:"text-gray-600",children:["You've used ",ye.queriesUsed," of your ",ye.queriesLimit," monthly AI queries."]})]}),r.jsx("button",{onClick:()=>Bt(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Rt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-purple-50 border border-primary-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Ct,{className:"w-6 h-6 text-primary-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Upgrade to Researcher Pro"})]}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Get unlimited AI queries with fair use policy"}),r.jsxs("ul",{className:"space-y-2 mb-6",children:[r.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600"}),"Unlimited AI Research Assistant queries"]}),r.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600"}),"Advanced analytics & data exports"]}),r.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600"}),"API access (500 calls/month)"]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>K("premium","monthly"),className:"flex-1 bg-primary-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-primary-700 transition-all",children:"Upgrade - $25/month"}),r.jsx("button",{onClick:()=>K("premium","yearly"),className:"flex-1 bg-gray-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-800 transition-all",children:"Save 17% - $250/year"})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(bt,{className:"w-6 h-6 text-gray-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Grant Writer Plan"})]}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Everything in Pro + AI grant writing tools"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>K("grant_writing","monthly"),className:"flex-1 bg-gray-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-800 transition-all",children:"Upgrade - $39/month"}),r.jsx("button",{onClick:()=>K("grant_writing","yearly"),className:"flex-1 border border-gray-300 text-gray-900 px-6 py-3 rounded-lg font-medium hover:border-gray-400 transition-all",children:"$390/year"})]})]})]}),r.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Your queries will reset on ",ye.resetDate?new Date(ye.resetDate).toLocaleDateString():"the 1st of next month"]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"py-16 px-4 sm:py-20 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-700 rounded-full text-sm font-medium",children:[r.jsx(Ct,{className:"w-4 h-4"}),"AI Research Assistant"]})}),r.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl text-gray-900 mb-6 leading-tight font-semibold tracking-tight",children:"Ask AI About Your Research"}),r.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto mb-8",children:"Get instant insights from research papers, policy frameworks, and conservation data. Perfect for literature reviews, grant writing, and policy alignment."}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx(ne,{to:"/premium",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all",children:"Get Started"}),r.jsx("button",{onClick:()=>document.getElementById("how-it-works").scrollIntoView({behavior:"smooth"}),className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-4 rounded-full text-lg font-medium border-2 border-gray-300 hover:border-gray-400 transition-all",children:"See How It Works"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Included with Researcher, Researcher Pro, Grant Writer, and Enterprise plans"})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"What You Can Do with AI Research Assistant"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Purpose-built for researchers who need to understand complex literature and policy alignment"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{icon:bt,title:"Multi-Paper Analysis",desc:"Ask questions across multiple research papers simultaneously. Compare methodologies, synthesize findings, and identify knowledge gaps."},{icon:ti,title:"Policy Framework Alignment",desc:"Understand how research connects to UN SDGs, CBD, Paris Agreement, and custom frameworks. Perfect for grant writing and impact statements."},{icon:cr,title:"Custom Context Builder",desc:"Add your own papers via DOI, upload documents, define custom frameworks, locations, and species for personalized analysis."},{icon:Cr,title:"Literature Review Assistant",desc:"Generate summaries, methodology comparisons, and research trend analysis. Save hours on literature reviews and meta-analyses."}].map((Y,me)=>r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 border border-gray-200",children:[r.jsx("div",{className:"w-12 h-12 bg-[#009edb] text-white rounded-xl flex items-center justify-center mb-4",children:r.jsx(Y.icon,{className:"w-6 h-6"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:Y.title}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:Y.desc})]},me))})]})}),r.jsx("section",{id:"how-it-works",className:"py-20 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"How It Works"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"From research question to actionable insights in four simple steps"})]}),r.jsx("div",{className:"space-y-6",children:[{step:"1",title:"Build Your Research Context",description:"Select papers from our database, add your own via DOI, or upload documents. Define relevant frameworks, geographic locations, and species."},{step:"2",title:"Ask Questions",description:"Ask questions across all selected context. Compare methodologies, synthesize findings, identify policy alignment, or explore geographic trends."},{step:"3",title:"Get AI-Powered Insights",description:"Receive comprehensive answers that analyze your research context holistically. AI considers papers, frameworks, locations, and taxonomy together."},{step:"4",title:"Save & Export",description:"Save conversation history with full context for later reference. Export insights for grant applications, literature reviews, or policy briefs."}].map((Y,me)=>r.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-200 flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#009edb] to-[#0077b3] text-white rounded-full flex items-center justify-center text-xl font-bold",children:Y.step})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:Y.title}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:Y.description})]})]},me))})]})}),r.jsx("section",{className:"py-20 px-4 bg-white border-t border-gray-200",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 font-semibold mb-4",children:"Simple, Transparent Pricing"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"All plans include unlimited conversation history, custom context builder, and multi-paper analysis"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-gray-200",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Researcher"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"AI-powered research assistant"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"$15"}),r.jsx("span",{className:"text-lg text-gray-600",children:"/month"})]}),r.jsxs("ul",{className:"space-y-2.5 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:r.jsx("strong",{children:"200 AI queries/month"})})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"AI filter suggestions"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"AI framework tagging"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Multi-paper analysis"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Unlimited conversation history"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Email support"})]})]}),r.jsx("button",{onClick:()=>K("researcher","monthly"),className:"block w-full py-3 px-4 bg-gray-900 text-white rounded-xl text-center font-semibold hover:bg-gray-800 transition-all",children:"Get Started"})]}),r.jsxs("div",{className:"rounded-2xl p-6 bg-gradient-to-br from-[#009edb] to-[#0077b3] text-white border-2 border-[#009edb] shadow-xl lg:scale-105",children:[r.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 text-white rounded-full text-xs font-semibold mb-4",children:"MOST POPULAR"}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-white",children:"Researcher Pro"}),r.jsx("p",{className:"text-sm mb-4 text-white/90",children:"AI Assistant + Analytics"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-4xl font-bold text-white",children:"$25"}),r.jsx("span",{className:"text-lg text-white/80",children:"/month"})]}),r.jsxs("ul",{className:"space-y-2.5 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:r.jsx("strong",{children:"Everything in Researcher"})})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Unlimited AI queries"})," (fair use)"]})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Research gap analysis"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Data exports (CSV, shapefiles)"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Collaboration network viz"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Citation & impact metrics"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"API access (500/mo)"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/95",children:[r.jsx(Ae,{className:"w-5 h-5 text-white/90 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Priority support"})]})]}),r.jsx("button",{onClick:()=>K("premium","monthly"),className:"block w-full py-3.5 px-4 bg-white text-[#009edb] rounded-xl text-center font-semibold hover:bg-gray-50 transition-all",children:"Get Started"})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-gray-200",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Grant Writer"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"For active grant seekers"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"$39"}),r.jsx("span",{className:"text-lg text-gray-600",children:"/month"})]}),r.jsxs("ul",{className:"space-y-2.5 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Unlimited AI queries"})," (fair use)"]})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:[r.jsx("strong",{children:"AI Grant Writing"})," (50k words/month)"]})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Everything in Researcher Pro"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Grant proposal templates"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Impact statement generation"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Faster priority support"})]})]}),r.jsx("button",{onClick:()=>K("grant_writing","monthly"),className:"block w-full py-3.5 px-4 bg-gray-900 text-white rounded-xl text-center font-semibold hover:bg-gray-800 transition-all",children:"Get Started"})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-gray-200",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Enterprise"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"For research institutions"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"Custom"}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"pricing"})]}),r.jsxs("ul",{className:"space-y-2.5 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:r.jsx("strong",{children:"Multiple user licenses"})})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Unlimited queries & grant writing"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Priority support"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Volume discounts available"})]}),r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[r.jsx(Ae,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Annual billing options"})]})]}),r.jsx("a",{href:"mailto:sales@compassid.org?subject=Enterprise Inquiry",className:"block w-full py-3.5 px-4 bg-gray-900 text-white rounded-xl text-center font-semibold hover:bg-gray-800 transition-all",children:"Contact Sales"})]})]}),r.jsx("div",{className:"text-center mt-12",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"7-day money-back guarantee"}),"  No free trial needed  Cancel anytime"]})})]})}),r.jsx("section",{className:"py-16 px-4 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:"Ready to Get Started?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Join researchers using AI to accelerate literature reviews, grant writing, and policy alignment"}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx(ne,{to:"/premium",className:"inline-flex items-center justify-center bg-[#009edb] text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-[#0077b3] transition-all",children:"View Plans"}),r.jsx(ne,{to:"/search",className:"inline-flex items-center justify-center bg-white text-gray-900 px-8 py-4 rounded-full text-lg font-medium border-2 border-gray-300 hover:border-gray-400 transition-all",children:"Browse Research"})]})]})})]})}function cle({children:e,requireAdmin:t=!1}){const{user:n,loading:s}=Ot();return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?t&&n.role!=="admin"&&n.role!=="super_admin"?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[r.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"You don't have permission to access this page. Admin privileges are required."}),r.jsx("a",{href:"/dashboard",className:"inline-block px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Go to Dashboard"})]})}):r.jsx(r.Fragment,{children:e}):r.jsx(iI,{to:"/login",replace:!0})}const dle=new GI({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});function ule(){return r.jsx(WI,{client:dle,children:r.jsx(oP,{children:r.jsx(lB,{children:r.jsxs(gI,{children:[r.jsx(ez,{}),r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[r.jsx(J$,{}),r.jsx("main",{className:"flex-grow",children:r.jsxs(lI,{children:[r.jsx(ot,{path:"/",element:r.jsx(pz,{})}),r.jsx(ot,{path:"/about",element:r.jsx(gz,{})}),r.jsx(ot,{path:"/team",element:r.jsx(xz,{})}),r.jsx(ot,{path:"/why-compass-id",element:r.jsx(yz,{})}),r.jsx(ot,{path:"/how-it-works",element:r.jsx(vz,{})}),r.jsx(ot,{path:"/search",element:r.jsx(Iz,{})}),r.jsx(ot,{path:"/research/:id",element:r.jsx(Bz,{})}),r.jsx(ot,{path:"/frameworks",element:r.jsx(qae,{})}),r.jsx(ot,{path:"/frameworks/:slug",element:r.jsx(Xae,{})}),r.jsx(ot,{path:"/analytics",element:r.jsx(Uae,{})}),r.jsx(ot,{path:"/analytics/research-gaps",element:r.jsx(Gae,{})}),r.jsx(ot,{path:"/analytics/predictions",element:r.jsx(Wae,{})}),r.jsx(ot,{path:"/analytics/collaborations",element:r.jsx(Hae,{})}),r.jsx(ot,{path:"/analytics/premium",element:r.jsx(Woe,{})}),r.jsx(ot,{path:"/premium",element:r.jsx(Goe,{})}),r.jsx(ot,{path:"/grants",element:r.jsx(eie,{})}),r.jsx(ot,{path:"/grants/:id",element:r.jsx(tie,{})}),r.jsx(ot,{path:"/featured",element:r.jsx(qoe,{})}),r.jsx(ot,{path:"/featured/submit",element:r.jsx(Voe,{})}),r.jsx(ot,{path:"/jobs",element:r.jsx(ooe,{})}),r.jsx(ot,{path:"/jobs/:id",element:r.jsx(loe,{})}),r.jsx(ot,{path:"/jobs/create",element:r.jsx(coe,{})}),r.jsx(ot,{path:"/blog",element:r.jsx(Pie,{})}),r.jsx(ot,{path:"/blog/:slug",element:r.jsx(Qie,{})}),r.jsx(ot,{path:"/news",element:r.jsx(uoe,{})}),r.jsx(ot,{path:"/groups",element:r.jsx(moe,{})}),r.jsx(ot,{path:"/groups/create",element:r.jsx(foe,{})}),r.jsx(ot,{path:"/groups/:id",element:r.jsx(hoe,{})}),r.jsx(ot,{path:"/groups/:groupId/discussions/:discussionId",element:r.jsx(poe,{})}),r.jsx(ot,{path:"/community",element:r.jsx(goe,{})}),r.jsx(ot,{path:"/events",element:r.jsx(xoe,{})}),r.jsx(ot,{path:"/map",element:r.jsx(t3,{})}),r.jsx(ot,{path:"/geographic-explorer",element:r.jsx(t3,{})})," ",r.jsx(ot,{path:"/api-docs",element:r.jsx(doe,{})}),r.jsx(ot,{path:"/support",element:r.jsx(sle,{})}),r.jsx(ot,{path:"/profile/:compassId",element:r.jsx(jie,{})}),r.jsx(ot,{path:"/login",element:r.jsx(cU,{})}),r.jsx(ot,{path:"/register",element:r.jsx(dU,{})}),r.jsx(ot,{path:"/add-research",element:r.jsx(HC,{})}),r.jsx(ot,{path:"/submit",element:r.jsx(HC,{})})," ",r.jsx(ot,{path:"/dashboard",element:r.jsx(mU,{})}),r.jsx(ot,{path:"/dashboard/saved",element:r.jsx(Hoe,{})}),r.jsx(ot,{path:"/dashboard/profile/edit",element:r.jsx(yoe,{})}),r.jsx(ot,{path:"/dashboard/frameworks/manage",element:r.jsx(voe,{})}),r.jsx(ot,{path:"/grants/submit",element:r.jsx(rie,{})}),r.jsx(ot,{path:"/ai-writing",element:r.jsx(xie,{})}),r.jsx(ot,{path:"/ai-writing/new",element:r.jsx(yie,{})}),r.jsx(ot,{path:"/notifications",element:r.jsx(Zoe,{})}),r.jsx(ot,{path:"/notifications/settings",element:r.jsx(Joe,{})}),r.jsx(ot,{path:"/messages",element:r.jsx(Qoe,{})}),r.jsx(ot,{path:"/messages/compose",element:r.jsx(rle,{})}),r.jsx(ot,{path:"/settings",element:r.jsx(ole,{})}),r.jsx(ot,{path:"/ai-assistant",element:r.jsx(lle,{})}),r.jsx(ot,{path:"/admin",element:r.jsx(cle,{requireAdmin:!0,children:r.jsx(nle,{})})})]})}),r.jsx(X$,{})]})]})})})})}qy.createRoot(document.getElementById("root")).render(r.jsx(tt.StrictMode,{children:r.jsx(ule,{})}));
